{"version":3,"file":"20.D09YWs6K.js","sources":["../../../../../../src/lib/components/icons/ChatBubbles.svelte","../../../../../../src/lib/components/icons/UserCircleSolid.svelte","../../../../../../src/lib/components/icons/User.svelte","../../../../../../src/lib/components/admin/Users/UserList/EditUserModal.svelte","../../../../../../src/lib/components/admin/Users/UserList/UserChatsModal.svelte","../../../../../../src/lib/components/admin/Users/UserList/AddUserModal.svelte","../../../../../../src/lib/components/admin/Users/UserList.svelte","../../../../../../src/lib/components/icons/UsersSolid.svelte","../../../../../../src/lib/components/admin/Users/Groups/General.svelte","../../../../../../src/lib/constants/permissions.ts","../../../../../../src/lib/components/admin/Users/Groups/Permissions.svelte","../../../../../../src/lib/components/admin/Users/Groups/Users.svelte","../../../../../../src/lib/components/icons/UserPlusSolid.svelte","../../../../../../src/lib/components/icons/WrenchSolid.svelte","../../../../../../src/lib/components/admin/Users/Groups/EditGroupModal.svelte","../../../../../../src/lib/components/admin/Users/Groups/GroupItem.svelte","../../../../../../src/lib/components/admin/Users/Groups.svelte","../../../../../../src/lib/components/admin/Users.svelte","../../../../../../src/routes/(app)/admin/users/[tab]/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n</script>\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class={className}>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\td=\"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z\"\n\t\tclip-rule=\"evenodd\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n</script>\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class={className}>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\td=\"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z\"\n\t\tclip-rule=\"evenodd\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport dayjs from 'dayjs';\n\timport { createEventDispatcher } from 'svelte';\n\timport { onMount, getContext } from 'svelte';\n\n\timport { goto } from '$app/navigation';\n\n\timport { updateUserById, getUserGroupsById } from '$lib/apis/users';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport localizedFormat from 'dayjs/plugin/localizedFormat';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\timport UserProfileImage from '$lib/components/chat/Settings/Account/UserProfileImage.svelte';\n\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\tdayjs.extend(localizedFormat);\n\n\texport let show = false;\n\texport let selectedUser;\n\texport let sessionUser;\n\n\t$: if (show) {\n\t\tinit();\n\t}\n\n\tconst init = () => {\n\t\tif (selectedUser) {\n\t\t\t_user = selectedUser;\n\t\t\t_user.password = '';\n\t\t\tloadUserGroups();\n\t\t}\n\t};\n\n\tlet _user = {\n\t\tprofile_image_url: '',\n\t\trole: 'pending',\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: ''\n\t};\n\n\tlet userGroups: any[] | null = null;\n\n\tconst submitHandler = async () => {\n\t\tconst res = await updateUserById(localStorage.token, selectedUser.id, _user).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tif (res) {\n\t\t\tdispatch('save');\n\t\t\tshow = false;\n\t\t}\n\t};\n\n\tconst loadUserGroups = async () => {\n\t\tif (!selectedUser?.id) return;\n\t\tuserGroups = null;\n\n\t\tuserGroups = await getUserGroupsById(localStorage.token, selectedUser.id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\t};\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Edit User')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" px-5 pt-3 pb-5 w-full\">\n\t\t\t\t\t\t<div class=\"flex self-center w-full\">\n\t\t\t\t\t\t\t<div class=\" self-start h-full mr-6\">\n\t\t\t\t\t\t\t\t<UserProfileImage\n\t\t\t\t\t\t\t\t\timageClassName=\"size-14\"\n\t\t\t\t\t\t\t\t\tbind:profileImageUrl={_user.profile_image_url}\n\t\t\t\t\t\t\t\t\tuser={_user}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\" flex-1\">\n\t\t\t\t\t\t\t\t<div class=\"overflow-hidden w-ful mb-2\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center capitalize font-medium truncate\">\n\t\t\t\t\t\t\t\t\t\t{selectedUser.name}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Created at')}\n\t\t\t\t\t\t\t\t\t\t{dayjs(selectedUser.created_at * 1000).format('LL')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\" flex flex-col space-y-1.5\">\n\t\t\t\t\t\t\t\t\t{#if (userGroups ?? []).length > 0}\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"mb-1 text-xs text-gray-500\">{$i18n.t('User Groups')}</div>\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-wrap gap-1 my-0.5 -mx-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{#each userGroups as userGroup}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-1.5 py-0.5 rounded-xl bg-gray-100 dark:bg-gray-850 text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={'/admin/users/groups?id=' + userGroup.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click|preventDefault={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgoto('/admin/users/groups?id=' + userGroup.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{userGroup.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Role')}</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full dark:bg-gray-900 text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={_user.role}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={_user.id == sessionUser.id}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"admin\">{$i18n.t('Admin')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"user\">{$i18n.t('User')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"pending\">{$i18n.t('Pending')}</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Name')}</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={_user.name}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Your Name')}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Email')}</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={_user.email}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Your Email')}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{#if _user?.oauth}\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('OAuth ID')}</div>\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1 text-sm break-all mb-1 flex flex-col space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{#each Object.keys(_user.oauth) as key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-gray-500\">{key}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"\">{_user.oauth[key]?.sub}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('New Password')}</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter New Password')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={_user.password}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center\"\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Save')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n\n<style>\n\tinput::-webkit-outer-spin-button,\n\tinput::-webkit-inner-spin-button {\n\t\t/* display: none; <- Crashes Chrome on hover */\n\t\t-webkit-appearance: none;\n\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n\t}\n\n\t.tabs::-webkit-scrollbar {\n\t\tdisplay: none; /* for Chrome, Safari and Opera */\n\t}\n\n\t.tabs {\n\t\t-ms-overflow-style: none; /* IE and Edge */\n\t\tscrollbar-width: none; /* Firefox */\n\t}\n\n\tinput[type='number'] {\n\t\t-moz-appearance: textfield; /* Firefox */\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext } from 'svelte';\n\n\timport dayjs from 'dayjs';\n\timport localizedFormat from 'dayjs/plugin/localizedFormat';\n\n\tdayjs.extend(localizedFormat);\n\n\timport { getChatListByUserId, deleteChatById, getArchivedChatList } from '$lib/apis/chats';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport ChatsModal from '$lib/components/layout/ChatsModal.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\texport let user;\n\n\tlet chatList = null;\n\tlet page = 1;\n\n\tlet query = '';\n\tlet orderBy = 'updated_at';\n\tlet direction = 'desc';\n\n\tlet filter = {};\n\t$: filter = {\n\t\t...(query ? { query } : {}),\n\t\t...(orderBy ? { order_by: orderBy } : {}),\n\t\t...(direction ? { direction } : {})\n\t};\n\n\t$: if (filter !== null) {\n\t\tsearchHandler();\n\t}\n\n\tlet allChatsLoaded = false;\n\tlet chatListLoading = false;\n\n\tlet searchDebounceTimeout;\n\n\tconst searchHandler = async () => {\n\t\tif (!show) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (searchDebounceTimeout) {\n\t\t\tclearTimeout(searchDebounceTimeout);\n\t\t}\n\n\t\tpage = 1;\n\t\tchatList = null;\n\n\t\tif (query === '') {\n\t\t\tchatList = await getChatListByUserId(localStorage.token, user.id, page, filter);\n\t\t} else {\n\t\t\tsearchDebounceTimeout = setTimeout(async () => {\n\t\t\t\tchatList = await getChatListByUserId(localStorage.token, user.id, page, filter);\n\t\t\t}, 500);\n\t\t}\n\n\t\tif ((chatList ?? []).length === 0) {\n\t\t\tallChatsLoaded = true;\n\t\t} else {\n\t\t\tallChatsLoaded = false;\n\t\t}\n\t};\n\n\tconst loadMoreChats = async () => {\n\t\tchatListLoading = true;\n\t\tpage += 1;\n\n\t\tlet newChatList = [];\n\n\t\tnewChatList = await getChatListByUserId(localStorage.token, user.id, page, filter);\n\n\t\t// once the bottom of the list has been reached (no results) there is no need to continue querying\n\t\tallChatsLoaded = newChatList.length === 0;\n\n\t\tif (newChatList.length > 0) {\n\t\t\tchatList = [...chatList, ...newChatList];\n\t\t}\n\n\t\tchatListLoading = false;\n\t};\n\n\tconst init = async () => {\n\t\tchatList = await getChatListByUserId(localStorage.token, user.id, page, filter);\n\t};\n\n\t$: if (show) {\n\t\tinit();\n\t} else {\n\t\tchatList = null;\n\t\tpage = 1;\n\n\t\tallChatsLoaded = false;\n\t\tchatListLoading = false;\n\t}\n</script>\n\n<ChatsModal\n\tbind:show\n\tbind:query\n\tbind:orderBy\n\tbind:direction\n\ttitle={$i18n.t(\"{{user}}'s Chats\", {\n\t\tuser: user.name.length > 32 ? `${user.name.slice(0, 32)}...` : user.name\n\t})}\n\temptyPlaceholder={$i18n.t('No chats found for this user.')}\n\tshareUrl={true}\n\t{chatList}\n\t{allChatsLoaded}\n\t{chatListLoading}\n\tonUpdate={() => {\n\t\tinit();\n\t}}\n\tloadHandler={loadMoreChats}\n></ChatsModal>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { createEventDispatcher } from 'svelte';\n\timport { onMount, getContext } from 'svelte';\n\timport { addUser } from '$lib/apis/auths';\n\n\timport { WEBUI_BASE_URL } from '$lib/constants';\n\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport { generateInitialsImage } from '$lib/utils';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\texport let show = false;\n\n\tlet loading = false;\n\tlet tab = '';\n\tlet inputFiles;\n\n\tlet _user = {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\trole: 'user'\n\t};\n\n\t$: if (show) {\n\t\t_user = {\n\t\t\tname: '',\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\trole: 'user'\n\t\t};\n\t}\n\n\tconst submitHandler = async () => {\n\t\tconst stopLoading = () => {\n\t\t\tdispatch('save');\n\t\t\tloading = false;\n\t\t};\n\n\t\tif (tab === '') {\n\t\t\tloading = true;\n\n\t\t\tconst res = await addUser(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t_user.name,\n\t\t\t\t_user.email,\n\t\t\t\t_user.password,\n\t\t\t\t_user.role,\n\t\t\t\tgenerateInitialsImage(_user.name)\n\t\t\t).catch((error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\tstopLoading();\n\t\t\t\tshow = false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (inputFiles) {\n\t\t\t\tloading = true;\n\n\t\t\t\tconst file = inputFiles[0];\n\t\t\t\tconst reader = new FileReader();\n\n\t\t\t\treader.onload = async (e) => {\n\t\t\t\t\tconst csv = e.target.result;\n\t\t\t\t\tconst rows = csv.split('\\n');\n\n\t\t\t\t\tlet userCount = 0;\n\n\t\t\t\t\tfor (const [idx, row] of rows.entries()) {\n\t\t\t\t\t\tconst columns = row.split(',').map((col) => col.trim());\n\t\t\t\t\t\tconsole.debug(idx, columns);\n\n\t\t\t\t\t\tif (idx > 0) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tcolumns.length === 4 &&\n\t\t\t\t\t\t\t\t['admin', 'user', 'pending'].includes(columns[3].toLowerCase())\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tconst res = await addUser(\n\t\t\t\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t\t\t\tcolumns[0],\n\t\t\t\t\t\t\t\t\tcolumns[1],\n\t\t\t\t\t\t\t\t\tcolumns[2],\n\t\t\t\t\t\t\t\t\tcolumns[3].toLowerCase(),\n\t\t\t\t\t\t\t\t\tgenerateInitialsImage(columns[0])\n\t\t\t\t\t\t\t\t).catch((error) => {\n\t\t\t\t\t\t\t\t\ttoast.error(`Row ${idx + 1}: ${error}`);\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\tuserCount = userCount + 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttoast.error(`Row ${idx + 1}: invalid format.`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttoast.success(\n\t\t\t\t\t\t$i18n.t('Successfully imported {{userCount}} users.', { userCount: userCount })\n\t\t\t\t\t);\n\t\t\t\t\tinputFiles = null;\n\t\t\t\t\tconst uploadInputElement = document.getElementById('upload-user-csv-input');\n\n\t\t\t\t\tif (uploadInputElement) {\n\t\t\t\t\t\tuploadInputElement.value = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tstopLoading();\n\t\t\t\t};\n\n\t\t\t\treader.readAsText(file, 'utf-8');\n\t\t\t} else {\n\t\t\t\ttoast.error($i18n.t('File not found.'));\n\t\t\t}\n\t\t}\n\n\t\tloading = false;\n\t};\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Add User')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"flex -mt-2 mb-1.5 gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"min-w-fit p-1.5 {tab === ''\n\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\ttab = '';\n\t\t\t\t\t\t\t}}>{$i18n.t('Form')}</button\n\t\t\t\t\t\t>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"min-w-fit p-1.5 {tab === 'import'\n\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\ttab = 'import';\n\t\t\t\t\t\t\t}}>{$i18n.t('CSV Import')}</button\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"px-1\">\n\t\t\t\t\t\t{#if tab === ''}\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full mb-3\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Role')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-full capitalize rounded-lg text-sm bg-transparent dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={_user.role}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Your Role')}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"pending\"> {$i18n.t('pending')} </option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"user\"> {$i18n.t('user')} </option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"admin\"> {$i18n.t('admin')} </option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full mt-1\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Name')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tbind:value={_user.name}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Your Full Name')}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2.5 w-full\" />\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Email')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\tbind:value={_user.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Your Email')}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full mt-1\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Password')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tbind:value={_user.password}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Your Password')}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if tab === 'import'}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class=\"mb-3 w-full\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"upload-user-csv-input\"\n\t\t\t\t\t\t\t\t\t\thidden\n\t\t\t\t\t\t\t\t\t\tbind:files={inputFiles}\n\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\taccept=\".csv\"\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm font-medium py-3 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById('upload-user-csv-input')?.click();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{#if inputFiles}\n\t\t\t\t\t\t\t\t\t\t\t{inputFiles.length > 0 ? `${inputFiles.length}` : ''} document(s) selected.\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to select a csv file.')}\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\" text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t\tâ“˜ {$i18n.t(\n\t\t\t\t\t\t\t\t\t\t'Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass=\"underline dark:text-gray-200\"\n\t\t\t\t\t\t\t\t\t\thref=\"{WEBUI_BASE_URL}/static/user-import.csv\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to download user import template file.')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Save')}\n\n\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n\n<style>\n\tinput::-webkit-outer-spin-button,\n\tinput::-webkit-inner-spin-button {\n\t\t/* display: none; <- Crashes Chrome on hover */\n\t\t-webkit-appearance: none;\n\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n\t}\n\n\t.tabs::-webkit-scrollbar {\n\t\tdisplay: none; /* for Chrome, Safari and Opera */\n\t}\n\n\t.tabs {\n\t\t-ms-overflow-style: none; /* IE and Edge */\n\t\tscrollbar-width: none; /* Firefox */\n\t}\n\n\tinput[type='number'] {\n\t\t-moz-appearance: textfield; /* Firefox */\n\t}\n</style>\n","<script>\n\timport { WEBUI_API_BASE_URL, WEBUI_BASE_URL } from '$lib/constants';\n\timport { WEBUI_NAME, config, user, showSidebar } from '$lib/stores';\n\timport { goto } from '$app/navigation';\n\timport { onMount, getContext } from 'svelte';\n\n\timport dayjs from 'dayjs';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\timport localizedFormat from 'dayjs/plugin/localizedFormat';\n\tdayjs.extend(relativeTime);\n\tdayjs.extend(localizedFormat);\n\n\timport { toast } from 'svelte-sonner';\n\n\timport { updateUserRole, getUsers, deleteUserById } from '$lib/apis/users';\n\n\timport Pagination from '$lib/components/common/Pagination.svelte';\n\timport ChatBubbles from '$lib/components/icons/ChatBubbles.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\n\timport EditUserModal from '$lib/components/admin/Users/UserList/EditUserModal.svelte';\n\timport UserChatsModal from '$lib/components/admin/Users/UserList/UserChatsModal.svelte';\n\timport AddUserModal from '$lib/components/admin/Users/UserList/AddUserModal.svelte';\n\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport RoleUpdateConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\n\timport Badge from '$lib/components/common/Badge.svelte';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport ChevronUp from '$lib/components/icons/ChevronUp.svelte';\n\timport ChevronDown from '$lib/components/icons/ChevronDown.svelte';\n\timport About from '$lib/components/chat/Settings/About.svelte';\n\timport Banner from '$lib/components/common/Banner.svelte';\n\timport Markdown from '$lib/components/chat/Messages/Markdown.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport ProfilePreview from '$lib/components/channel/Messages/Message/ProfilePreview.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet page = 1;\n\n\tlet users = null;\n\tlet total = null;\n\n\tlet query = '';\n\tlet orderBy = 'created_at'; // default sort key\n\tlet direction = 'asc'; // default sort order\n\n\tlet selectedUser = null;\n\n\tlet showDeleteConfirmDialog = false;\n\tlet showAddUserModal = false;\n\n\tlet showUserChatsModal = false;\n\tlet showEditUserModal = false;\n\n\tconst deleteUserHandler = async (id) => {\n\t\tconst res = await deleteUserById(localStorage.token, id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\t// if the user is deleted and the current page has only one user, go back to the previous page\n\t\tif (users.length === 1 && page > 1) {\n\t\t\tpage -= 1;\n\t\t}\n\n\t\tif (res) {\n\t\t\tgetUserList();\n\t\t}\n\t};\n\n\tconst setSortKey = (key) => {\n\t\tif (orderBy === key) {\n\t\t\tdirection = direction === 'asc' ? 'desc' : 'asc';\n\t\t} else {\n\t\t\torderBy = key;\n\t\t\tdirection = 'asc';\n\t\t}\n\t};\n\n\tconst getUserList = async () => {\n\t\ttry {\n\t\t\tconst res = await getUsers(localStorage.token, query, orderBy, direction, page).catch(\n\t\t\t\t(error) => {\n\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (res) {\n\t\t\t\tusers = res.users;\n\t\t\t\ttotal = res.total;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t};\n\n\t$: if (query !== null && page !== null && orderBy !== null && direction !== null) {\n\t\tgetUserList();\n\t}\n</script>\n\n<ConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\ton:confirm={() => {\n\t\tdeleteUserHandler(selectedUser.id);\n\t}}\n/>\n\n<AddUserModal\n\tbind:show={showAddUserModal}\n\ton:save={async () => {\n\t\tgetUserList();\n\t}}\n/>\n\n<EditUserModal\n\tbind:show={showEditUserModal}\n\t{selectedUser}\n\tsessionUser={$user}\n\ton:save={async () => {\n\t\tgetUserList();\n\t}}\n/>\n\n{#if selectedUser}\n\t<UserChatsModal bind:show={showUserChatsModal} user={selectedUser} />\n{/if}\n\n{#if ($config?.license_metadata?.seats ?? null) !== null && total && total > $config?.license_metadata?.seats}\n\t<div class=\" mt-1 mb-2 text-xs text-red-500\">\n\t\t<Banner\n\t\t\tclassName=\"mx-0\"\n\t\t\tbanner={{\n\t\t\t\ttype: 'error',\n\t\t\t\ttitle: 'License Error',\n\t\t\t\tcontent:\n\t\t\t\t\t'Exceeded the number of seats in your license. Please contact support to increase the number of seats.'\n\t\t\t}}\n\t\t/>\n\t</div>\n{/if}\n\n{#if users === null || total === null}\n\t<div class=\"my-10\">\n\t\t<Spinner className=\"size-5\" />\n\t</div>\n{:else}\n\t<div\n\t\tclass=\"pt-0.5 pb-1 gap-1 flex flex-col md:flex-row justify-between sticky top-0 z-10 bg-white dark:bg-gray-900\"\n\t>\n\t\t<div class=\"flex md:self-center text-lg font-medium px-0.5 gap-2\">\n\t\t\t<div class=\"flex-shrink-0\">\n\t\t\t\t{$i18n.t('Users')}\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t{#if ($config?.license_metadata?.seats ?? null) !== null}\n\t\t\t\t\t{#if total > $config?.license_metadata?.seats}\n\t\t\t\t\t\t<span class=\"text-lg font-medium text-red-500\"\n\t\t\t\t\t\t\t>{total} of {$config?.license_metadata?.seats}\n\t\t\t\t\t\t\t<span class=\"text-sm font-normal\">{$i18n.t('available users')}</span></span\n\t\t\t\t\t\t>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<span class=\"text-lg font-medium text-gray-500 dark:text-gray-300\"\n\t\t\t\t\t\t\t>{total} of {$config?.license_metadata?.seats}\n\t\t\t\t\t\t\t<span class=\"text-sm font-normal\">{$i18n.t('available users')}</span></span\n\t\t\t\t\t\t>\n\t\t\t\t\t{/if}\n\t\t\t\t{:else}\n\t\t\t\t\t<span class=\"text-lg font-medium text-gray-500 dark:text-gray-300\">{total}</span>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"flex gap-1\">\n\t\t\t<div class=\" flex w-full space-x-2\">\n\t\t\t\t<div class=\"flex flex-1\">\n\t\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\t\t\tbind:value={query}\n\t\t\t\t\t\tplaceholder={$i18n.t('Search')}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<Tooltip content={$i18n.t('Add User')}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshowAddUserModal = !showAddUserModal;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Plus className=\"size-3.5\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class=\"scrollbar-hidden relative whitespace-nowrap overflow-x-auto max-w-full\">\n\t\t<table class=\"w-full text-sm text-left text-gray-500 dark:text-gray-400 table-auto max-w-full\">\n\t\t\t<thead class=\"text-xs text-gray-800 uppercase bg-transparent dark:text-gray-200\">\n\t\t\t\t<tr class=\" border-b-[1.5px] border-gray-50 dark:border-gray-850/30\">\n\t\t\t\t\t<th\n\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\tclass=\"px-2.5 py-2 cursor-pointer select-none\"\n\t\t\t\t\t\ton:click={() => setSortKey('role')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t{$i18n.t('Role')}\n\n\t\t\t\t\t\t\t{#if orderBy === 'role'}\n\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</th>\n\t\t\t\t\t<th\n\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\tclass=\"px-2.5 py-2 cursor-pointer select-none\"\n\t\t\t\t\t\ton:click={() => setSortKey('name')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t{$i18n.t('Name')}\n\n\t\t\t\t\t\t\t{#if orderBy === 'name'}\n\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</th>\n\t\t\t\t\t<th\n\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\tclass=\"px-2.5 py-2 cursor-pointer select-none\"\n\t\t\t\t\t\ton:click={() => setSortKey('email')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t{$i18n.t('Email')}\n\n\t\t\t\t\t\t\t{#if orderBy === 'email'}\n\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</th>\n\n\t\t\t\t\t<th\n\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\tclass=\"px-2.5 py-2 cursor-pointer select-none\"\n\t\t\t\t\t\ton:click={() => setSortKey('last_active_at')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t{$i18n.t('Last Active')}\n\n\t\t\t\t\t\t\t{#if orderBy === 'last_active_at'}\n\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</th>\n\t\t\t\t\t<th\n\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\tclass=\"px-2.5 py-2 cursor-pointer select-none\"\n\t\t\t\t\t\ton:click={() => setSortKey('created_at')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t{$i18n.t('Created at')}\n\t\t\t\t\t\t\t{#if orderBy === 'created_at'}\n\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</th>\n\n\t\t\t\t\t<th scope=\"col\" class=\"px-2.5 py-2 text-right\" />\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody class=\"\">\n\t\t\t\t{#each users as user, userIdx (user.id)}\n\t\t\t\t\t<tr class=\"bg-white dark:bg-gray-900 dark:border-gray-850 text-xs\">\n\t\t\t\t\t\t<td class=\"px-3 py-1 min-w-[7rem] w-28\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\" translate-y-0.5\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedUser = user;\n\t\t\t\t\t\t\t\t\tshowEditUserModal = !showEditUserModal;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\ttype={user.role === 'admin' ? 'info' : user.role === 'user' ? 'success' : 'muted'}\n\t\t\t\t\t\t\t\t\tcontent={$i18n.t(user.role)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"px-3 py-1 font-medium text-gray-900 dark:text-white max-w-48\">\n\t\t\t\t\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<ProfilePreview {user} side=\"right\" align=\"center\" sideOffset={6}>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tclass=\"rounded-full w-6 h-6 object-cover mr-0.5 flex-shrink-0\"\n\t\t\t\t\t\t\t\t\t\tsrc={`${WEBUI_API_BASE_URL}/users/${user.id}/profile/image`}\n\t\t\t\t\t\t\t\t\t\talt=\"user\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</ProfilePreview>\n\n\t\t\t\t\t\t\t\t<div class=\"font-medium truncate\">{user.name}</div>\n\n\t\t\t\t\t\t\t\t{#if user?.last_active_at && Date.now() / 1000 - user.last_active_at < 180}\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<span class=\"relative flex size-1.5\">\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75\"\n\t\t\t\t\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"relative inline-flex size-1.5 rounded-full bg-green-500\"></span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\" px-3 py-1\"> {user.email} </td>\n\n\t\t\t\t\t\t<td class=\" px-3 py-1\">\n\t\t\t\t\t\t\t{dayjs(user.last_active_at * 1000).fromNow()}\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t<td class=\" px-3 py-1\">\n\t\t\t\t\t\t\t{dayjs(user.created_at * 1000).format('LL')}\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t<td class=\"px-3 py-1 text-right\">\n\t\t\t\t\t\t\t<div class=\"flex justify-end w-full\">\n\t\t\t\t\t\t\t\t{#if $config.features.enable_admin_chat_access && user.role !== 'admin'}\n\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Chats')}>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\tshowUserChatsModal = !showUserChatsModal;\n\t\t\t\t\t\t\t\t\t\t\t\tselectedUser = user;\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ChatBubbles />\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Edit User')}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\tshowEditUserModal = !showEditUserModal;\n\t\t\t\t\t\t\t\t\t\t\tselectedUser = user;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t{#if user.role !== 'admin'}\n\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete User')}>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirmDialog = true;\n\t\t\t\t\t\t\t\t\t\t\t\tselectedUser = user;\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t{/each}\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n\n\t<div class=\" text-gray-500 text-xs mt-1.5 text-right\">\n\t\tâ“˜ {$i18n.t(\"Click on the user role button to change a user's role.\")}\n\t</div>\n\n\t{#if total > 30}\n\t\t<Pagination bind:page count={total} perPage={30} />\n\t{/if}\n{/if}\n\n{#if !$config?.license_metadata}\n\t{#if total > 50}\n\t\t<div class=\"text-sm\">\n\t\t\t<Markdown\n\t\t\t\tcontent={`\n> [!NOTE]\n> # **Hey there! ðŸ‘‹**\n>\n> It looks like you have over 50 users, that usually falls under organizational usage.\n> \n> Open WebUI is completely free to use as-is, with no restrictions or hidden limits, and we'd love to keep it that way. ðŸŒ±  \n>\n> By supporting the project through sponsorship or an enterprise license, youâ€™re not only helping us stay independent, youâ€™re also helping us ship new features faster, improve stability, and grow the project for the long haul. With an *enterprise license*, you also get additional perks like dedicated support, customization options, and more, all at a fraction of what it would cost to build and maintain internally.  \n> \n> Your support helps us stay independent and continue building great tools for everyone. ðŸ’›\n> \n> - ðŸ‘‰ **[Click here to learn more about enterprise licensing](https://docs.openwebui.com/enterprise)**\n> - ðŸ‘‰ *[Click here to sponsor the project on GitHub](https://github.com/sponsors/tjbck)*\n`}\n\t\t\t/>\n\t\t</div>\n\t{/if}\n{/if}\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n</script>\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class={className}>\n\t<path\n\t\td=\"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport { getContext } from 'svelte';\n\timport Textarea from '$lib/components/common/Textarea.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let name = '';\n\texport let color = '';\n\texport let description = '';\n\texport let data = {};\n\n\texport let edit = false;\n\texport let onDelete: Function = () => {};\n</script>\n\n<div class=\"flex gap-2\">\n\t<div class=\"flex flex-col w-full\">\n\t\t<div class=\" mb-0.5 text-xs text-gray-500\">{$i18n.t('Name')}</div>\n\n\t\t<div class=\"flex-1\">\n\t\t\t<input\n\t\t\t\tclass=\"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tbind:value={name}\n\t\t\t\tplaceholder={$i18n.t('Group Name')}\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\trequired\n\t\t\t/>\n\t\t</div>\n\t</div>\n</div>\n\n<!-- <div class=\"flex flex-col w-full mt-2\">\n\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Color')}</div>\n\n\t<div class=\"flex-1\">\n\t\t<Tooltip content={$i18n.t('Hex Color - Leave empty for default color')} placement=\"top-start\">\n\t\t\t<div class=\"flex gap-0.5\">\n\t\t\t\t<div class=\"text-gray-500\">#</div>\n\n\t\t\t\t<input\n\t\t\t\t\tclass=\"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tbind:value={color}\n\t\t\t\t\tplaceholder={$i18n.t('Hex Color')}\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Tooltip>\n\t</div>\n</div> -->\n\n<div class=\"flex flex-col w-full mt-2\">\n\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Description')}</div>\n\n\t<div class=\"flex-1\">\n\t\t<Textarea\n\t\t\tclassName=\"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden resize-none\"\n\t\t\trows={4}\n\t\t\tbind:value={description}\n\t\t\tplaceholder={$i18n.t('Group Description')}\n\t\t/>\n\t</div>\n</div>\n\n<hr class=\"border-gray-50 dark:border-gray-850/30 my-1\" />\n\n<div class=\"flex flex-col w-full mt-2\">\n\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Setting')}</div>\n\n\t<div>\n\t\t<div class=\" flex w-full justify-between\">\n\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t{$i18n.t('Who can share to this group')}\n\t\t\t</div>\n\n\t\t\t<div class=\"flex items-center gap-2 p-1\">\n\t\t\t\t<select\n\t\t\t\t\tclass=\"text-sm bg-transparent dark:bg-gray-900 outline-hidden rounded-lg px-2\"\n\t\t\t\t\tvalue={data?.config?.share ?? true}\n\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\tlet shareValue;\n\t\t\t\t\t\tif (value === 'false') {\n\t\t\t\t\t\t\tshareValue = false;\n\t\t\t\t\t\t} else if (value === 'true') {\n\t\t\t\t\t\t\tshareValue = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshareValue = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata.config = { ...(data?.config ?? {}), share: shareValue };\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<option value={false}>{$i18n.t('No one')}</option>\n\t\t\t\t\t<option value=\"members\">{$i18n.t('Members')}</option>\n\t\t\t\t\t<option value={true}>{$i18n.t('Anyone')}</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n{#if edit}\n\t<div class=\"flex flex-col w-full mt-2\">\n\t\t<div class=\" mb-0.5 text-xs text-gray-500\">{$i18n.t('Actions')}</div>\n\n\t\t<div class=\"flex-1\">\n\t\t\t<button\n\t\t\t\tclass=\"text-xs bg-transparent hover:underline cursor-pointer\"\n\t\t\t\ttype=\"button\"\n\t\t\t\ton:click={() => onDelete()}\n\t\t\t>\n\t\t\t\t{$i18n.t('Delete')}\n\t\t\t</button>\n\t\t</div>\n\t</div>\n{/if}\n","export const DEFAULT_PERMISSIONS = {\n\tworkspace: {\n\t\tmodels: false,\n\t\tknowledge: false,\n\t\tprompts: false,\n\t\ttools: false,\n\t\tmodels_import: false,\n\t\tmodels_export: false,\n\t\tprompts_import: false,\n\t\tprompts_export: false,\n\t\ttools_import: false,\n\t\ttools_export: false\n\t},\n\tsharing: {\n\t\tmodels: false,\n\t\tpublic_models: false,\n\t\tknowledge: false,\n\t\tpublic_knowledge: false,\n\t\tprompts: false,\n\t\tpublic_prompts: false,\n\t\ttools: false,\n\t\tpublic_tools: false,\n\t\tnotes: false,\n\t\tpublic_notes: false\n\t},\n\tchat: {\n\t\tcontrols: true,\n\t\tvalves: true,\n\t\tsystem_prompt: true,\n\t\tparams: true,\n\t\tfile_upload: true,\n\t\tdelete: true,\n\t\tdelete_message: true,\n\t\tcontinue_response: true,\n\t\tregenerate_response: true,\n\t\trate_response: true,\n\t\tedit: true,\n\t\tshare: true,\n\t\texport: true,\n\t\tstt: true,\n\t\ttts: true,\n\t\tcall: true,\n\t\tmultiple_models: true,\n\t\ttemporary: true,\n\t\ttemporary_enforced: false\n\t},\n\tfeatures: {\n\t\tapi_keys: false,\n\t\tnotes: true,\n\t\tchannels: true,\n\t\tfolders: true,\n\t\tdirect_tool_servers: false,\n\t\tweb_search: true,\n\t\timage_generation: true,\n\t\tcode_interpreter: true,\n\t\tmemories: true\n\t},\n\tsettings: {\n\t\tinterface: true\n\t}\n} as const;\n","<script lang=\"ts\">\n\timport { getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\n\timport { DEFAULT_PERMISSIONS } from '$lib/constants/permissions';\n\n\texport let permissions = {};\n\texport let defaultPermissions = {};\n\n\t// Reactive statement to ensure all fields are present in `permissions`\n\t$: {\n\t\tpermissions = fillMissingProperties(permissions, DEFAULT_PERMISSIONS);\n\t}\n\n\tfunction fillMissingProperties(obj: any, defaults: any) {\n\t\treturn {\n\t\t\t...defaults,\n\t\t\t...obj,\n\t\t\tworkspace: { ...defaults.workspace, ...obj.workspace },\n\t\t\tsharing: { ...defaults.sharing, ...obj.sharing },\n\t\t\tchat: { ...defaults.chat, ...obj.chat },\n\t\t\tfeatures: { ...defaults.features, ...obj.features },\n\t\t\tsettings: { ...defaults.settings, ...obj.settings }\n\t\t};\n\t}\n\n\tonMount(() => {\n\t\tpermissions = fillMissingProperties(permissions, DEFAULT_PERMISSIONS);\n\t});\n</script>\n\n<div class=\"space-y-2\">\n\t<!-- {$i18n.t('Default Model')}\n\t{$i18n.t('Model Filtering')}\n\t{$i18n.t('Model Permissions')}\n\t{$i18n.t('No model IDs')} -->\n\n\t<div>\n\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Workspace Permissions')}</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Models Access')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.workspace.models} />\n\t\t\t</div>\n\n\t\t\t{#if permissions.workspace.models}\n\t\t\t\t<div class=\"ml-2 flex flex-col gap-2 pt-0.5 pb-1\">\n\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\"self-center text-xs\">\n\t\t\t\t\t\t\t{$i18n.t('Import Models')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Switch bind:state={permissions.workspace.models_import} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\"self-center text-xs\">\n\t\t\t\t\t\t\t{$i18n.t('Export Models')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Switch bind:state={permissions.workspace.models_export} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{:else if defaultPermissions?.workspace?.models}\n\t\t\t\t<div class=\"pb-0.5\">\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Knowledge Access')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.workspace.knowledge} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.workspace?.knowledge && !permissions.workspace.knowledge}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Prompts Access')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.workspace.prompts} />\n\t\t\t</div>\n\n\t\t\t{#if permissions.workspace.prompts}\n\t\t\t\t<div class=\"ml-2 flex flex-col gap-2 pt-0.5 pb-1\">\n\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\"self-center text-xs\">\n\t\t\t\t\t\t\t{$i18n.t('Import Prompts')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Switch bind:state={permissions.workspace.prompts_import} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\"self-center text-xs\">\n\t\t\t\t\t\t\t{$i18n.t('Export Prompts')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Switch bind:state={permissions.workspace.prompts_export} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{:else if defaultPermissions?.workspace?.prompts}\n\t\t\t\t<div class=\"pb-0.5\">\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<Tooltip\n\t\t\t\tclassName=\"flex w-full justify-between my-1\"\n\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t'Warning: Enabling this will allow users to upload arbitrary code on the server.'\n\t\t\t\t)}\n\t\t\t\tplacement=\"top-start\"\n\t\t\t>\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Tools Access')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.workspace.tools} />\n\t\t\t</Tooltip>\n\n\t\t\t{#if permissions.workspace.tools}\n\t\t\t\t<div class=\"ml-2 flex flex-col gap-2 pt-0.5 pb-1\">\n\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\"self-center text-xs\">\n\t\t\t\t\t\t\t{$i18n.t('Import Tools')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Switch bind:state={permissions.workspace.tools_import} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\"self-center text-xs\">\n\t\t\t\t\t\t\t{$i18n.t('Export Tools')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Switch bind:state={permissions.workspace.tools_export} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{:else if defaultPermissions?.workspace?.tools}\n\t\t\t\t<div class=\"pb-0.5\">\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n\n\t<hr class=\" border-gray-100/30 dark:border-gray-850/30\" />\n\n\t<div>\n\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Sharing Permissions')}</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Models Sharing')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.sharing.models} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.sharing?.models && !permissions.sharing.models}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t{#if permissions.sharing.models}\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Models Public Sharing')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Switch bind:state={permissions.sharing.public_models} />\n\t\t\t\t</div>\n\t\t\t\t{#if defaultPermissions?.sharing?.public_models && !permissions.sharing.public_models}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Knowledge Sharing')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.sharing.knowledge} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.sharing?.knowledge && !permissions.sharing.knowledge}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t{#if permissions.sharing.knowledge}\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Knowledge Public Sharing')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Switch bind:state={permissions.sharing.public_knowledge} />\n\t\t\t\t</div>\n\t\t\t\t{#if defaultPermissions?.sharing?.public_knowledge && !permissions.sharing.public_knowledge}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Prompts Sharing')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.sharing.prompts} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.sharing?.prompts && !permissions.sharing.prompts}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t{#if permissions.sharing.prompts}\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Prompts Public Sharing')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Switch bind:state={permissions.sharing.public_prompts} />\n\t\t\t\t</div>\n\t\t\t\t{#if defaultPermissions?.sharing?.public_prompts && !permissions.sharing.public_prompts}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Tools Sharing')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.sharing.tools} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.sharing?.tools && !permissions.sharing.tools}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t{#if permissions.sharing.tools}\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Tools Public Sharing')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Switch bind:state={permissions.sharing.public_tools} />\n\t\t\t\t</div>\n\t\t\t\t{#if defaultPermissions?.sharing?.public_tools && !permissions.sharing.public_tools}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Notes Sharing')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.sharing.notes} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.sharing?.notes && !permissions.sharing.notes}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t{#if permissions.sharing.notes}\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Notes Public Sharing')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Switch bind:state={permissions.sharing.public_notes} />\n\t\t\t\t</div>\n\t\t\t\t{#if defaultPermissions?.sharing?.public_notes && !permissions.sharing.public_notes}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<hr class=\" border-gray-100/30 dark:border-gray-850/30\" />\n\n\t<div>\n\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Chat Permissions')}</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow File Upload')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.file_upload} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.file_upload && !permissions.chat.file_upload}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Chat Controls')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.controls} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.controls && !permissions.chat.controls}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t{#if permissions.chat.controls}\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Allow Chat Valves')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Switch bind:state={permissions.chat.valves} />\n\t\t\t\t</div>\n\t\t\t\t{#if defaultPermissions?.chat?.valves && !permissions.chat.valves}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Allow Chat System Prompt')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Switch bind:state={permissions.chat.system_prompt} />\n\t\t\t\t</div>\n\t\t\t\t{#if defaultPermissions?.chat?.system_prompt && !permissions.chat.system_prompt}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Allow Chat Params')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Switch bind:state={permissions.chat.params} />\n\t\t\t\t</div>\n\t\t\t\t{#if defaultPermissions?.chat?.params && !permissions.chat.params}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Chat Edit')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.edit} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.edit && !permissions.chat.edit}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Chat Delete')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.delete} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.delete && !permissions.chat.delete}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Delete Messages')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.delete_message} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.delete_message && !permissions.chat.delete_message}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Continue Response')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.continue_response} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.continue_response && !permissions.chat.continue_response}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Regenerate Response')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.regenerate_response} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.regenerate_response && !permissions.chat.regenerate_response}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Rate Response')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.rate_response} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.rate_response && !permissions.chat.rate_response}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Chat Share')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.share} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.share && !permissions.chat.share}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Chat Export')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.export} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.export && !permissions.chat.export}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Speech to Text')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.stt} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.stt && !permissions.chat.stt}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Text to Speech')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.tts} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.tts && !permissions.chat.tts}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Call')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.call} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.call && !permissions.chat.call}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Multiple Models in Chat')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.multiple_models} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.multiple_models && !permissions.chat.multiple_models}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Allow Temporary Chat')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.chat.temporary} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.chat?.temporary && !permissions.chat.temporary}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t{#if permissions.chat.temporary}\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Enforce Temporary Chat')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Switch bind:state={permissions.chat.temporary_enforced} />\n\t\t\t\t</div>\n\t\t\t\t{#if defaultPermissions?.chat?.temporary_enforced && !permissions.chat.temporary_enforced}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<hr class=\" border-gray-100/30 dark:border-gray-850/30\" />\n\n\t<div>\n\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Features Permissions')}</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('API Keys')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.features.api_keys} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.features?.api_keys && !permissions.features.api_keys}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Notes')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.features.notes} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.features?.notes && !permissions.features.notes}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Channels')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.features.channels} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.features?.channels && !permissions.features.channels}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Folders')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.features.folders} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.features?.folders && !permissions.features.folders}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Direct Tool Servers')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.features.direct_tool_servers} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.features?.direct_tool_servers && !permissions.features.direct_tool_servers}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Web Search')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.features.web_search} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.features?.web_search && !permissions.features.web_search}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Image Generation')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.features.image_generation} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.features?.image_generation && !permissions.features.image_generation}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Code Interpreter')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.features.code_interpreter} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.features?.code_interpreter && !permissions.features.code_interpreter}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Memories')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.features.memories} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.features?.memories && !permissions.features.memories}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n\n\t<hr class=\" border-gray-100/30 dark:border-gray-850/30\" />\n\n\t<div>\n\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Settings Permissions')}</div>\n\n\t\t<div class=\"flex flex-col w-full\">\n\t\t\t<div class=\"flex w-full justify-between my-1\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Interface Settings Access')}\n\t\t\t\t</div>\n\t\t\t\t<Switch bind:state={permissions.settings.interface} />\n\t\t\t</div>\n\t\t\t{#if defaultPermissions?.settings?.interface && !permissions.settings.interface}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('This is a default user permission and will remain enabled.')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport { getContext } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport dayjs from 'dayjs';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\timport localizedFormat from 'dayjs/plugin/localizedFormat';\n\tdayjs.extend(relativeTime);\n\tdayjs.extend(localizedFormat);\n\n\timport { getUsers } from '$lib/apis/users';\n\timport { toast } from 'svelte-sonner';\n\n\timport { addUserToGroup, removeUserFromGroup } from '$lib/apis/groups';\n\timport { WEBUI_API_BASE_URL } from '$lib/constants';\n\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\n\timport Badge from '$lib/components/common/Badge.svelte';\n\timport Search from '$lib/components/icons/Search.svelte';\n\timport Pagination from '$lib/components/common/Pagination.svelte';\n\timport ChevronDown from '$lib/components/icons/ChevronDown.svelte';\n\timport ChevronUp from '$lib/components/icons/ChevronUp.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\n\texport let groupId: string;\n\texport let userCount = 0;\n\n\tlet users = null;\n\tlet total = null;\n\n\tlet query = '';\n\tlet orderBy = 'created_at'; // default sort key\n\tlet direction = 'desc'; // default sort order\n\n\tlet page = 1;\n\n\tconst setSortKey = (key) => {\n\t\tif (orderBy === key) {\n\t\t\tdirection = direction === 'asc' ? 'desc' : 'asc';\n\t\t} else {\n\t\t\torderBy = key;\n\t\t\tdirection = 'asc';\n\t\t}\n\t\tpage = 1;\n\t};\n\n\tconst getUserList = async () => {\n\t\ttry {\n\t\t\tconst res = await getUsers(localStorage.token, query, orderBy, direction, page).catch(\n\t\t\t\t(error) => {\n\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (res) {\n\t\t\t\tusers = res.users;\n\t\t\t\ttotal = res.total;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t};\n\n\tconst toggleMember = async (userId, state) => {\n\t\tif (state === 'checked') {\n\t\t\tawait addUserToGroup(localStorage.token, groupId, [userId]).catch((error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t\treturn null;\n\t\t\t});\n\t\t} else {\n\t\t\tawait removeUserFromGroup(localStorage.token, groupId, [userId]).catch((error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t\treturn null;\n\t\t\t});\n\t\t}\n\n\t\tgetUserList();\n\t};\n\n\t$: if (page !== null && query !== null && orderBy !== null && direction !== null) {\n\t\tgetUserList();\n\t}\n\n\t$: if (query) {\n\t\tpage = 1;\n\t}\n</script>\n\n<div class=\" max-h-full h-full w-full flex flex-col overflow-y-hidden\">\n\t<div class=\"w-full h-fit mb-1.5\">\n\t\t<div class=\"flex flex-1 h-fit\">\n\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t<Search />\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\tclass=\" w-full text-sm pr-4 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\tbind:value={query}\n\t\t\t\tplaceholder={$i18n.t('Search')}\n\t\t\t/>\n\t\t</div>\n\t</div>\n\n\t{#if users === null || total === null}\n\t\t<div class=\"my-10\">\n\t\t\t<Spinner className=\"size-5\" />\n\t\t</div>\n\t{:else}\n\t\t{#if users.length > 0}\n\t\t\t<div class=\"scrollbar-hidden relative whitespace-nowrap overflow-x-auto max-w-full\">\n\t\t\t\t<table\n\t\t\t\t\tclass=\"w-full text-sm text-left text-gray-500 dark:text-gray-400 table-auto max-w-full\"\n\t\t\t\t>\n\t\t\t\t\t<thead class=\"text-xs text-gray-800 uppercase bg-transparent dark:text-gray-200\">\n\t\t\t\t\t\t<tr class=\" border-b-[1.5px] border-gray-50/50 dark:border-gray-800/10\">\n\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\tclass=\"px-2.5 py-2 cursor-pointer text-left w-8\"\n\t\t\t\t\t\t\t\ton:click={() => setSortKey(`group_id:${groupId}`)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('MBR')}\n\n\t\t\t\t\t\t\t\t\t{#if orderBy === `group_id:${groupId}`}\n\t\t\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</th>\n\n\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\tclass=\"px-2.5 py-2 cursor-pointer select-none\"\n\t\t\t\t\t\t\t\ton:click={() => setSortKey('role')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Role')}\n\n\t\t\t\t\t\t\t\t\t{#if orderBy === 'role'}\n\t\t\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\tclass=\"px-2.5 py-2 cursor-pointer select-none\"\n\t\t\t\t\t\t\t\ton:click={() => setSortKey('name')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Name')}\n\n\t\t\t\t\t\t\t\t\t{#if orderBy === 'name'}\n\t\t\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</th>\n\n\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\tclass=\"px-2.5 py-2 cursor-pointer select-none\"\n\t\t\t\t\t\t\t\ton:click={() => setSortKey('last_active_at')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Last Active')}\n\n\t\t\t\t\t\t\t\t\t{#if orderBy === 'last_active_at'}\n\t\t\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody class=\"\">\n\t\t\t\t\t\t{#each users as user, userIdx (user?.id ?? userIdx)}\n\t\t\t\t\t\t\t<tr class=\"bg-white dark:bg-gray-900 dark:border-gray-850 text-xs\">\n\t\t\t\t\t\t\t\t<td class=\" px-3 py-1 w-8\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-center\">\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tstate={(user?.group_ids ?? []).includes(groupId) ? 'checked' : 'unchecked'}\n\t\t\t\t\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleMember(user.id, e.detail);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td class=\"px-3 py-1 min-w-[7rem] w-28\">\n\t\t\t\t\t\t\t\t\t<div class=\" translate-y-0.5\">\n\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\ttype={user.role === 'admin'\n\t\t\t\t\t\t\t\t\t\t\t\t? 'info'\n\t\t\t\t\t\t\t\t\t\t\t\t: user.role === 'user'\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'success'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'muted'}\n\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(user.role)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td class=\"px-3 py-1 font-medium text-gray-900 dark:text-white max-w-48\">\n\t\t\t\t\t\t\t\t\t<Tooltip content={user.email} placement=\"top-start\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"rounded-full w-6 h-6 object-cover mr-2.5 flex-shrink-0\"\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`${WEBUI_API_BASE_URL}/users/${user.id}/profile/image`}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"user\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"font-medium truncate\">{user.name}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t<td class=\" px-3 py-1\">\n\t\t\t\t\t\t\t\t\t{dayjs(user.last_active_at * 1000).fromNow()}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"text-gray-500 text-xs text-center py-2 px-10\">\n\t\t\t\t{$i18n.t('No users were found.')}\n\t\t\t</div>\n\t\t{/if}\n\n\t\t{#if total > 30}\n\t\t\t<Pagination bind:page count={total} perPage={30} />\n\t\t{/if}\n\t{/if}\n</div>\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n</script>\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class={className}>\n\t<path\n\t\td=\"M10 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM1.615 16.428a1.224 1.224 0 0 1-.569-1.175 6.002 6.002 0 0 1 11.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 0 1 7 18a9.953 9.953 0 0 1-5.385-1.572ZM16.25 5.75a.75.75 0 0 0-1.5 0v2h-2a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Z\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n</script>\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class={className}>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\td=\"M12 6.75a5.25 5.25 0 0 1 6.775-5.025.75.75 0 0 1 .313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 0 1 1.248.313 5.25 5.25 0 0 1-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 1 1 2.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0 1 12 6.75ZM4.117 19.125a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z\"\n\t\tclip-rule=\"evenodd\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport General from './General.svelte';\n\timport Permissions from './Permissions.svelte';\n\timport Users from './Users.svelte';\n\timport { DEFAULT_PERMISSIONS } from '$lib/constants/permissions';\n\timport UserPlusSolid from '$lib/components/icons/UserPlusSolid.svelte';\n\timport WrenchSolid from '$lib/components/icons/WrenchSolid.svelte';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\n\texport let onSubmit: Function = () => {};\n\texport let onDelete: Function = () => {};\n\n\texport let show = false;\n\texport let edit = false;\n\n\texport let group = null;\n\texport let defaultPermissions = {};\n\n\texport let custom = true;\n\n\texport let tabs = ['general', 'permissions', 'users'];\n\n\tlet selectedTab = 'general';\n\tlet loading = false;\n\tlet showDeleteConfirmDialog = false;\n\n\tlet userCount = 0;\n\n\texport let name = '';\n\texport let description = '';\n\texport let data = {};\n\n\texport let permissions = DEFAULT_PERMISSIONS;\n\n\tconst submitHandler = async () => {\n\t\tloading = true;\n\n\t\tconst group = {\n\t\t\tname,\n\t\t\tdescription,\n\t\t\tdata,\n\t\t\tpermissions\n\t\t};\n\n\t\tawait onSubmit(group);\n\n\t\tloading = false;\n\t\tshow = false;\n\t};\n\n\tconst init = () => {\n\t\tif (group) {\n\t\t\tname = group.name;\n\t\t\tdescription = group.description;\n\t\t\tconst loadedPermissions = group?.permissions ?? {};\n\t\t\t// Create fresh object from defaults, then overlay loaded values\n\t\t\tpermissions = {\n\t\t\t\tworkspace: { ...DEFAULT_PERMISSIONS.workspace, ...loadedPermissions.workspace },\n\t\t\t\tsharing: { ...DEFAULT_PERMISSIONS.sharing, ...loadedPermissions.sharing },\n\t\t\t\tchat: { ...DEFAULT_PERMISSIONS.chat, ...loadedPermissions.chat },\n\t\t\t\tfeatures: { ...DEFAULT_PERMISSIONS.features, ...loadedPermissions.features },\n\t\t\t\tsettings: { ...DEFAULT_PERMISSIONS.settings, ...loadedPermissions.settings }\n\t\t\t};\n\t\t\tdata = group?.data ?? {};\n\n\t\t\tuserCount = group?.member_count ?? 0;\n\t\t}\n\t};\n\n\t$: if (show) {\n\t\tinit();\n\t}\n\n\tonMount(() => {\n\t\tselectedTab = tabs[0];\n\t\tinit();\n\t});\n</script>\n\n<ConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\ton:confirm={() => {\n\t\tonDelete();\n\t\tshow = false;\n\t}}\n/>\n\n<Modal size=\"lg\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5\">\n\t\t\t<div class=\" text-lg font-medium self-center font-primary\">\n\t\t\t\t{#if custom}\n\t\t\t\t\t{#if edit}\n\t\t\t\t\t\t{$i18n.t('Edit User Group')}\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{$i18n.t('Add User Group')}\n\t\t\t\t\t{/if}\n\t\t\t\t{:else}\n\t\t\t\t\t{$i18n.t('Edit Default Permissions')}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid=\"admin-settings-tabs-container\"\n\t\t\t\t\t\t\tclass=\"tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if tabs.includes('general')}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition {selectedTab ===\n\t\t\t\t\t\t\t\t\t'general'\n\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tselectedTab = 'general';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center\">{$i18n.t('General')}</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#if tabs.includes('permissions')}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition {selectedTab ===\n\t\t\t\t\t\t\t\t\t'permissions'\n\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tselectedTab = 'permissions';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t\t\t\t\t\t<WrenchSolid />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center\">{$i18n.t('Permissions')}</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#if tabs.includes('users')}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition {selectedTab ===\n\t\t\t\t\t\t\t\t\t'users'\n\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tselectedTab = 'users';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t\t\t\t\t\t<UserPlusSolid />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center\">{$i18n.t('Users')}</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex-1 mt-1 lg:mt-1 lg:h-[30rem] lg:max-h-[30rem] flex flex-col\">\n\t\t\t\t\t\t\t<div class=\"w-full h-full overflow-y-auto scrollbar-hidden\">\n\t\t\t\t\t\t\t\t{#if selectedTab == 'general'}\n\t\t\t\t\t\t\t\t\t<General\n\t\t\t\t\t\t\t\t\t\tbind:name\n\t\t\t\t\t\t\t\t\t\tbind:description\n\t\t\t\t\t\t\t\t\t\tbind:data\n\t\t\t\t\t\t\t\t\t\t{edit}\n\t\t\t\t\t\t\t\t\t\tonDelete={() => {\n\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirmDialog = true;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{:else if selectedTab == 'permissions'}\n\t\t\t\t\t\t\t\t\t<Permissions bind:permissions {defaultPermissions} />\n\t\t\t\t\t\t\t\t{:else if selectedTab == 'users'}\n\t\t\t\t\t\t\t\t\t<Users bind:userCount groupId={group?.id} />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if ['general', 'permissions'].includes(selectedTab)}\n\t\t\t\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium gap-1.5\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Save')}\n\n\t\t\t\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- <div\n\t\t\t\t\t\tclass=\" tabs flex flex-row overflow-x-auto gap-2.5 text-sm font-medium border-b border-b-gray-800 scrollbar-hidden\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if tabs.includes('display')}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-0.5 pb-1.5 min-w-fit flex text-right transition border-b-2 {selectedTab ===\n\t\t\t\t\t\t\t\t'display'\n\t\t\t\t\t\t\t\t\t? ' dark:border-white'\n\t\t\t\t\t\t\t\t\t: 'border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedTab = 'display';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Display')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t{#if tabs.includes('permissions')}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-0.5 pb-1.5 min-w-fit flex text-right transition border-b-2 {selectedTab ===\n\t\t\t\t\t\t\t\t'permissions'\n\t\t\t\t\t\t\t\t\t? '  dark:border-white'\n\t\t\t\t\t\t\t\t\t: 'border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedTab = 'permissions';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Permissions')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t{#if tabs.includes('users')}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-0.5 pb-1.5 min-w-fit flex text-right transition border-b-2 {selectedTab ===\n\t\t\t\t\t\t\t\t'users'\n\t\t\t\t\t\t\t\t\t? ' dark:border-white'\n\t\t\t\t\t\t\t\t\t: ' border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedTab = 'users';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Users')} ({userIds.length})\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div> -->\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script>\n\timport { toast } from 'svelte-sonner';\n\timport { onMount, getContext } from 'svelte';\n\timport { page } from '$app/stores';\n\n\tconst i18n = getContext('i18n');\n\n\timport { deleteGroupById, updateGroupById } from '$lib/apis/groups';\n\n\timport Pencil from '$lib/components/icons/Pencil.svelte';\n\timport User from '$lib/components/icons/User.svelte';\n\timport UserCircleSolid from '$lib/components/icons/UserCircleSolid.svelte';\n\timport EditGroupModal from './EditGroupModal.svelte';\n\n\texport let group = {\n\t\tname: 'Admins',\n\t\tuser_ids: [1, 2, 3]\n\t};\n\texport let defaultPermissions = {};\n\n\texport let setGroups = () => {};\n\n\tlet showEdit = false;\n\n\tconst updateHandler = async (_group) => {\n\t\tconst res = await updateGroupById(localStorage.token, group.id, _group).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Group updated successfully'));\n\t\t\tsetGroups();\n\t\t}\n\t};\n\n\tconst deleteHandler = async () => {\n\t\tconst res = await deleteGroupById(localStorage.token, group.id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Group deleted successfully'));\n\t\t\tsetGroups();\n\t\t}\n\t};\n\n\tonMount(() => {\n\t\tconst groupId = $page.url.searchParams.get('id');\n\t\tif (groupId && groupId === group.id) {\n\t\t\tshowEdit = true;\n\t\t}\n\t});\n</script>\n\n<EditGroupModal\n\tbind:show={showEdit}\n\tedit\n\t{group}\n\t{defaultPermissions}\n\tonSubmit={updateHandler}\n\tonDelete={deleteHandler}\n/>\n\n<button\n\tclass=\"flex items-center gap-3 justify-between px-1 text-xs w-full transition\"\n\ton:click={() => {\n\t\tshowEdit = true;\n\t}}\n>\n\t<div class=\"flex items-center gap-1.5 w-full font-medium flex-1\">\n\t\t<div>\n\t\t\t<UserCircleSolid className=\"size-4\" />\n\t\t</div>\n\t\t<div class=\"line-clamp-1\">\n\t\t\t{group.name}\n\t\t</div>\n\t</div>\n\n\t<div class=\"flex items-center gap-1.5 w-fit font-medium text-right justify-end\">\n\t\t{group?.member_count}\n\n\t\t<div>\n\t\t\t<User className=\"size-3.5\" />\n\t\t</div>\n\n\t\t<div class=\" rounded-lg p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition\">\n\t\t\t<Pencil className=\"size-3.5\" />\n\t\t</div>\n\t</div>\n</button>\n","<script>\n\timport { toast } from 'svelte-sonner';\n\timport dayjs from 'dayjs';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\tdayjs.extend(relativeTime);\n\n\timport { onMount, getContext } from 'svelte';\n\timport { goto } from '$app/navigation';\n\n\timport { WEBUI_NAME, config, user, showSidebar, knowledge } from '$lib/stores';\n\timport { WEBUI_BASE_URL } from '$lib/constants';\n\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport Badge from '$lib/components/common/Badge.svelte';\n\timport UsersSolid from '$lib/components/icons/UsersSolid.svelte';\n\timport ChevronRight from '$lib/components/icons/ChevronRight.svelte';\n\timport EllipsisHorizontal from '$lib/components/icons/EllipsisHorizontal.svelte';\n\timport Search from '$lib/components/icons/Search.svelte';\n\timport User from '$lib/components/icons/User.svelte';\n\timport UserCircleSolid from '$lib/components/icons/UserCircleSolid.svelte';\n\timport EditGroupModal from './Groups/EditGroupModal.svelte';\n\timport Pencil from '$lib/components/icons/Pencil.svelte';\n\timport GroupItem from './Groups/GroupItem.svelte';\n\timport { createNewGroup, getGroups } from '$lib/apis/groups';\n\timport {\n\t\tgetUserDefaultPermissions,\n\t\tgetAllUsers,\n\t\tupdateUserDefaultPermissions\n\t} from '$lib/apis/users';\n\n\tconst i18n = getContext('i18n');\n\n\tlet loaded = false;\n\n\tlet groups = [];\n\tlet filteredGroups;\n\n\t$: filteredGroups = groups.filter((user) => {\n\t\tif (search === '') {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tlet name = user.name.toLowerCase();\n\t\t\tconst query = search.toLowerCase();\n\t\t\treturn name.includes(query);\n\t\t}\n\t});\n\n\tlet search = '';\n\tlet defaultPermissions = {};\n\n\tlet showAddGroupModal = false;\n\tlet showDefaultPermissionsModal = false;\n\n\tconst setGroups = async () => {\n\t\tgroups = await getGroups(localStorage.token);\n\t};\n\n\tconst addGroupHandler = async (group) => {\n\t\tconst res = await createNewGroup(localStorage.token, group).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Group created successfully'));\n\t\t\tgroups = await getGroups(localStorage.token);\n\t\t}\n\t};\n\n\tconst updateDefaultPermissionsHandler = async (group) => {\n\t\tconsole.debug(group.permissions);\n\n\t\tconst res = await updateUserDefaultPermissions(localStorage.token, group.permissions).catch(\n\t\t\t(error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t);\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Default permissions updated successfully'));\n\t\t\tdefaultPermissions = await getUserDefaultPermissions(localStorage.token);\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tif ($user?.role !== 'admin') {\n\t\t\tawait goto('/');\n\t\t\treturn;\n\t\t}\n\n\t\tdefaultPermissions = await getUserDefaultPermissions(localStorage.token);\n\t\tawait setGroups();\n\t\tloaded = true;\n\t});\n</script>\n\n{#if loaded}\n\t<EditGroupModal\n\t\tbind:show={showAddGroupModal}\n\t\tedit={false}\n\t\ttabs={['general', 'permissions']}\n\t\tpermissions={defaultPermissions}\n\t\tonSubmit={addGroupHandler}\n\t/>\n\n\t<div class=\"mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between\">\n\t\t<div class=\"flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0\">\n\t\t\t<div>\n\t\t\t\t{$i18n.t('Groups')}\n\t\t\t</div>\n\n\t\t\t<div class=\"text-lg font-medium text-gray-500 dark:text-gray-500\">\n\t\t\t\t{groups.length}\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"flex gap-1\">\n\t\t\t<div class=\" flex w-full space-x-2\">\n\t\t\t\t<div class=\"flex flex-1\">\n\t\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t\t<Search />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\t\t\tbind:value={search}\n\t\t\t\t\t\tplaceholder={$i18n.t('Search')}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<Tooltip content={$i18n.t('Create Group')}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshowAddGroupModal = !showAddGroupModal;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Plus className=\"size-3.5\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div>\n\t\t{#if filteredGroups.length === 0}\n\t\t\t<div class=\"flex flex-col items-center justify-center h-40\">\n\t\t\t\t<div class=\" text-xl font-medium\">\n\t\t\t\t\t{$i18n.t('Organize your users')}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mt-1 text-sm dark:text-gray-300\">\n\t\t\t\t\t{$i18n.t('Use groups to group your users and assign permissions.')}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mt-3\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\" px-4 py-1.5 text-sm rounded-full bg-black hover:bg-gray-800 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition font-medium flex items-center space-x-1\"\n\t\t\t\t\t\taria-label={$i18n.t('Create Group')}\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tshowAddGroupModal = true;\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Create Group')}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div>\n\t\t\t\t<div class=\" flex items-center gap-3 justify-between text-xs uppercase px-1 font-medium\">\n\t\t\t\t\t<div class=\"w-full basis-3/5\">{$i18n.t('Group')}</div>\n\n\t\t\t\t\t<div class=\"w-full basis-2/5 text-right\">{$i18n.t('Users')}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<hr class=\"mt-1.5 border-gray-100/30 dark:border-gray-850/30\" />\n\n\t\t\t\t{#each filteredGroups as group}\n\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t<GroupItem {group} {setGroups} {defaultPermissions} />\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<hr class=\"mb-2 border-gray-100/30 dark:border-gray-850/30\" />\n\n\t\t<EditGroupModal\n\t\t\tbind:show={showDefaultPermissionsModal}\n\t\t\ttabs={['permissions']}\n\t\t\tbind:permissions={defaultPermissions}\n\t\t\tcustom={false}\n\t\t\tonSubmit={updateDefaultPermissionsHandler}\n\t\t/>\n\n\t\t<button\n\t\t\tclass=\"flex items-center justify-between rounded-lg w-full transition pt-1\"\n\t\t\ton:click={() => {\n\t\t\t\tshowDefaultPermissionsModal = true;\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\"flex items-center gap-2.5\">\n\t\t\t\t<div class=\"p-1.5 bg-black/5 dark:bg-white/10 rounded-full\">\n\t\t\t\t\t<UsersSolid className=\"size-4\" />\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"text-left\">\n\t\t\t\t\t<div class=\" text-sm font-medium\">{$i18n.t('Default permissions')}</div>\n\n\t\t\t\t\t<div class=\"flex text-xs mt-0.5\">\n\t\t\t\t\t\t{$i18n.t('applies to all users with the \"user\" role')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<ChevronRight strokeWidth=\"2.5\" />\n\t\t\t</div>\n\t\t</button>\n\t</div>\n{/if}\n","<script>\n\timport { getContext, tick, onMount } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\n\timport { goto } from '$app/navigation';\n\timport { user } from '$lib/stores';\n\timport { page } from '$app/stores';\n\n\timport UserList from './Users/UserList.svelte';\n\timport Groups from './Users/Groups.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet selectedTab;\n\t$: {\n\t\tconst pathParts = $page.url.pathname.split('/');\n\t\tconst tabFromPath = pathParts[pathParts.length - 1];\n\t\tselectedTab = ['overview', 'groups'].includes(tabFromPath) ? tabFromPath : 'overview';\n\t}\n\n\t$: if (selectedTab) {\n\t\t// scroll to selectedTab\n\t\tscrollToTab(selectedTab);\n\t}\n\n\tconst scrollToTab = (tabId) => {\n\t\tconst tabElement = document.getElementById(tabId);\n\t\tif (tabElement) {\n\t\t\ttabElement.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\n\t\t}\n\t};\n\n\tlet loaded = false;\n\n\tonMount(async () => {\n\t\tif ($user?.role !== 'admin') {\n\t\t\tawait goto('/');\n\t\t}\n\n\t\tloaded = true;\n\n\t\tconst containerElement = document.getElementById('users-tabs-container');\n\n\t\tif (containerElement) {\n\t\t\tcontainerElement.addEventListener('wheel', function (event) {\n\t\t\t\tif (event.deltaY !== 0) {\n\t\t\t\t\t// Adjust horizontal scroll position based on vertical scroll\n\t\t\t\t\tcontainerElement.scrollLeft += event.deltaY;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Scroll to the selected tab on mount\n\t\tscrollToTab(selectedTab);\n\t});\n</script>\n\n<div class=\"flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4\">\n\t<div\n\t\tid=\"users-tabs-container\"\n\t\tclass=\"mx-[16px] lg:mx-0 lg:px-[16px] flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-50 dark:text-gray-200 text-sm font-medium text-left scrollbar-none\"\n\t>\n\t\t<button\n\t\t\tid=\"overview\"\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition {selectedTab ===\n\t\t\t'overview'\n\t\t\t\t? ''\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\ton:click={() => {\n\t\t\t\tgoto('/admin/users/overview');\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M8.5 4.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM10.9 12.006c.11.542-.348.994-.9.994H2c-.553 0-1.01-.452-.902-.994a5.002 5.002 0 0 1 9.803 0ZM14.002 12h-1.59a2.556 2.556 0 0 0-.04-.29 6.476 6.476 0 0 0-1.167-2.603 3.002 3.002 0 0 1 3.633 1.911c.18.522-.283.982-.836.982ZM12 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<div class=\" self-center\">{$i18n.t('Overview')}</div>\n\t\t</button>\n\n\t\t<button\n\t\t\tid=\"groups\"\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition {selectedTab ===\n\t\t\t'groups'\n\t\t\t\t? ''\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\ton:click={() => {\n\t\t\t\tgoto('/admin/users/groups');\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<div class=\" self-center\">{$i18n.t('Groups')}</div>\n\t\t</button>\n\t</div>\n\n\t<div class=\"flex-1 mt-1 lg:mt-0 px-[16px] lg:pr-[16px] lg:pl-0 overflow-y-scroll\">\n\t\t{#if selectedTab === 'overview'}\n\t\t\t<UserList />\n\t\t{:else if selectedTab === 'groups'}\n\t\t\t<Groups />\n\t\t{/if}\n\t</div>\n</div>\n","<script>\n\timport Users from '$lib/components/admin/Users.svelte';\n</script>\n\n<Users />\n"],"names":["className","strokeWidth","i18n","getContext","dispatch","createEventDispatcher","dayjs","localizedFormat","show","selectedUser","$.prop","$$props","sessionUser","init","$.set","_user","$.mutate","$.get","loadUserGroups","$.mutable_source","userGroups","submitHandler","updateUserById","error","toast","_a","getUserGroupsById","$$value","$.each","div_15","userGroup","$.untrack","$.event","a","$.preventDefault","goto","$i18n","key","$$render","consequent_1","button","$.bind_select_value","select","$.bind_value","input","input_1","form","user","chatList","page","query","orderBy","direction","filter","allChatsLoaded","chatListLoading","searchDebounceTimeout","searchHandler","getChatListByUserId","loadMoreChats","newChatList","loading","tab","inputFiles","stopLoading","addUser","generateInitialsImage","file","reader","e","rows","userCount","idx","row","columns","col","uploadInputElement","alternate","WEBUI_BASE_URL","$.bind_files","input_2","button_3","consequent_2","consequent","alternate_1","consequent_3","$.set_class","button_1","button_2","relativeTime","users","total","showDeleteConfirmDialog","showAddUserModal","showUserChatsModal","showEditUserModal","deleteUserHandler","id","res","deleteUserById","getUserList","setSortKey","getUsers","err","$user","_b","$config","_d","_c","consequent_5","alternate_2","consequent_6","alternate_3","consequent_7","alternate_4","consequent_8","alternate_5","consequent_9","alternate_6","consequent_10","alternate_7","consequent_11","alternate_8","consequent_12","alternate_9","consequent_13","alternate_10","consequent_14","alternate_11","tbody","userIdx","$$array","WEBUI_API_BASE_URL","button_4","consequent_17","consequent_18","th","th_1","th_2","th_3","th_4","alternate_12","consequent_19","consequent_20","name","description","data","edit","onDelete","value","shareValue","DEFAULT_PERMISSIONS","permissions","defaultPermissions","fillMissingProperties","obj","defaults","onMount","groupId","toggleMember","userId","state","addUserToGroup","removeUserFromGroup","consequent_4","$$anchor","onSubmit","group","custom","tabs","selectedTab","loadedPermissions","setGroups","showEdit","updateHandler","_group","updateGroupById","deleteHandler","deleteGroupById","$page","loaded","groups","filteredGroups","search","showAddGroupModal","showDefaultPermissionsModal","getGroups","addGroupHandler","createNewGroup","updateDefaultPermissionsHandler","updateUserDefaultPermissions","getUserDefaultPermissions","node_6","scrollToTab","tabId","tabElement","containerElement","event","pathParts","tabFromPath"],"mappings":"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"}