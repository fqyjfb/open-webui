{"version":3,"file":"0.BN1wWRcL.js","sources":["../../../../../../src/routes/+layout.js","../../../../../../node_modules/svelte/src/motion/utils.js","../../../../../../node_modules/svelte/src/motion/spring.js","../../../../../../node_modules/svelte-sonner/dist/Icon.svelte","../../../../../../node_modules/svelte-sonner/dist/Loader.svelte","../../../../../../node_modules/svelte-sonner/dist/Toast.svelte","../../../../../../node_modules/svelte-sonner/dist/Toaster.svelte","../../../../../../node_modules/@sveltejs/kit/src/runtime/app/state/client.js","../../../../../../node_modules/@sveltejs/kit/src/runtime/app/state/index.js","../../../../../../src/lib/components/NotificationToast.svelte","../../../../../../src/lib/components/app/AppSidebar.svelte","../../../../../../src/lib/components/chat/Settings/SyncStatsModal.svelte","../../../../../../src/routes/+layout.svelte"],"sourcesContent":["// if you want to generate a static html file\n// for your page.\n// Documentation: https://kit.svelte.dev/docs/page-options#prerender\n// export const prerender = true;\n\n// if you want to Generate a SPA\n// you have to set ssr to false.\n// This is not the case (so set as true or comment the line)\n// Documentation: https://kit.svelte.dev/docs/page-options#ssr\nexport const ssr = false;\n\n// How to manage the trailing slashes in the URLs\n// the URL for about page will be /about with 'ignore' (default)\n// the URL for about page will be /about/ with 'always'\n// https://kit.svelte.dev/docs/page-options#trailingslash\nexport const trailingSlash = 'ignore';\n","/**\n * @param {any} obj\n * @returns {obj is Date}\n */\nexport function is_date(obj) {\n\treturn Object.prototype.toString.call(obj) === '[object Date]';\n}\n","/** @import { Task } from '#client' */\n/** @import { SpringOpts, SpringUpdateOpts, TickContext } from './private.js' */\n/** @import { Spring as SpringStore } from './public.js' */\nimport { writable } from '../store/shared/index.js';\nimport { loop } from '../internal/client/loop.js';\nimport { raf } from '../internal/client/timing.js';\nimport { is_date } from './utils.js';\nimport { set, state } from '../internal/client/reactivity/sources.js';\nimport { render_effect } from '../internal/client/reactivity/effects.js';\nimport { tag } from '../internal/client/dev/tracing.js';\nimport { get } from '../internal/client/runtime.js';\nimport { deferred, noop } from '../internal/shared/utils.js';\nimport { DEV } from 'esm-env';\n\n/**\n * @template T\n * @param {TickContext} ctx\n * @param {T} last_value\n * @param {T} current_value\n * @param {T} target_value\n * @returns {T}\n */\nfunction tick_spring(ctx, last_value, current_value, target_value) {\n\tif (typeof current_value === 'number' || is_date(current_value)) {\n\t\t// @ts-ignore\n\t\tconst delta = target_value - current_value;\n\t\t// @ts-ignore\n\t\tconst velocity = (current_value - last_value) / (ctx.dt || 1 / 60); // guard div by 0\n\t\tconst spring = ctx.opts.stiffness * delta;\n\t\tconst damper = ctx.opts.damping * velocity;\n\t\tconst acceleration = (spring - damper) * ctx.inv_mass;\n\t\tconst d = (velocity + acceleration) * ctx.dt;\n\t\tif (Math.abs(d) < ctx.opts.precision && Math.abs(delta) < ctx.opts.precision) {\n\t\t\treturn target_value; // settled\n\t\t} else {\n\t\t\tctx.settled = false; // signal loop to keep ticking\n\t\t\t// @ts-ignore\n\t\t\treturn is_date(current_value) ? new Date(current_value.getTime() + d) : current_value + d;\n\t\t}\n\t} else if (Array.isArray(current_value)) {\n\t\t// @ts-ignore\n\t\treturn current_value.map((_, i) =>\n\t\t\t// @ts-ignore\n\t\t\ttick_spring(ctx, last_value[i], current_value[i], target_value[i])\n\t\t);\n\t} else if (typeof current_value === 'object') {\n\t\tconst next_value = {};\n\t\tfor (const k in current_value) {\n\t\t\t// @ts-ignore\n\t\t\tnext_value[k] = tick_spring(ctx, last_value[k], current_value[k], target_value[k]);\n\t\t}\n\t\t// @ts-ignore\n\t\treturn next_value;\n\t} else {\n\t\tthrow new Error(`Cannot spring ${typeof current_value} values`);\n\t}\n}\n\n/**\n * The spring function in Svelte creates a store whose value is animated, with a motion that simulates the behavior of a spring. This means when the value changes, instead of transitioning at a steady rate, it \"bounces\" like a spring would, depending on the physics parameters provided. This adds a level of realism to the transitions and can enhance the user experience.\n *\n * @deprecated Use [`Spring`](https://svelte.dev/docs/svelte/svelte-motion#Spring) instead\n * @template [T=any]\n * @param {T} [value]\n * @param {SpringOpts} [opts]\n * @returns {SpringStore<T>}\n */\nexport function spring(value, opts = {}) {\n\tconst store = writable(value);\n\tconst { stiffness = 0.15, damping = 0.8, precision = 0.01 } = opts;\n\t/** @type {number} */\n\tlet last_time;\n\t/** @type {Task | null} */\n\tlet task;\n\t/** @type {object} */\n\tlet current_token;\n\n\tlet last_value = /** @type {T} */ (value);\n\tlet target_value = /** @type {T | undefined} */ (value);\n\n\tlet inv_mass = 1;\n\tlet inv_mass_recovery_rate = 0;\n\tlet cancel_task = false;\n\t/**\n\t * @param {T} new_value\n\t * @param {SpringUpdateOpts} opts\n\t * @returns {Promise<void>}\n\t */\n\tfunction set(new_value, opts = {}) {\n\t\ttarget_value = new_value;\n\t\tconst token = (current_token = {});\n\t\tif (value == null || opts.hard || (spring.stiffness >= 1 && spring.damping >= 1)) {\n\t\t\tcancel_task = true; // cancel any running animation\n\t\t\tlast_time = raf.now();\n\t\t\tlast_value = new_value;\n\t\t\tstore.set((value = target_value));\n\t\t\treturn Promise.resolve();\n\t\t} else if (opts.soft) {\n\t\t\tconst rate = opts.soft === true ? 0.5 : +opts.soft;\n\t\t\tinv_mass_recovery_rate = 1 / (rate * 60);\n\t\t\tinv_mass = 0; // infinite mass, unaffected by spring forces\n\t\t}\n\t\tif (!task) {\n\t\t\tlast_time = raf.now();\n\t\t\tcancel_task = false;\n\t\t\ttask = loop((now) => {\n\t\t\t\tif (cancel_task) {\n\t\t\t\t\tcancel_task = false;\n\t\t\t\t\ttask = null;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tinv_mass = Math.min(inv_mass + inv_mass_recovery_rate, 1);\n\n\t\t\t\t// clamp elapsed time to 1/30th of a second, so that longer pauses\n\t\t\t\t// (blocked thread or inactive tab) don't cause the spring to go haywire\n\t\t\t\tconst elapsed = Math.min(now - last_time, 1000 / 30);\n\n\t\t\t\t/** @type {TickContext} */\n\t\t\t\tconst ctx = {\n\t\t\t\t\tinv_mass,\n\t\t\t\t\topts: spring,\n\t\t\t\t\tsettled: true,\n\t\t\t\t\tdt: (elapsed * 60) / 1000\n\t\t\t\t};\n\t\t\t\t// @ts-ignore\n\t\t\t\tconst next_value = tick_spring(ctx, last_value, value, target_value);\n\t\t\t\tlast_time = now;\n\t\t\t\tlast_value = /** @type {T} */ (value);\n\t\t\t\tstore.set((value = /** @type {T} */ (next_value)));\n\t\t\t\tif (ctx.settled) {\n\t\t\t\t\ttask = null;\n\t\t\t\t}\n\t\t\t\treturn !ctx.settled;\n\t\t\t});\n\t\t}\n\t\treturn new Promise((fulfil) => {\n\t\t\t/** @type {Task} */ (task).promise.then(() => {\n\t\t\t\tif (token === current_token) fulfil();\n\t\t\t});\n\t\t});\n\t}\n\t/** @type {SpringStore<T>} */\n\t// @ts-expect-error - class-only properties are missing\n\tconst spring = {\n\t\tset,\n\t\tupdate: (fn, opts) => set(fn(/** @type {T} */ (target_value), /** @type {T} */ (value)), opts),\n\t\tsubscribe: store.subscribe,\n\t\tstiffness,\n\t\tdamping,\n\t\tprecision\n\t};\n\treturn spring;\n}\n\n/**\n * A wrapper for a value that behaves in a spring-like fashion. Changes to `spring.target` will cause `spring.current` to\n * move towards it over time, taking account of the `spring.stiffness` and `spring.damping` parameters.\n *\n * ```svelte\n * <script>\n * \timport { Spring } from 'svelte/motion';\n *\n * \tconst spring = new Spring(0);\n * </script>\n *\n * <input type=\"range\" bind:value={spring.target} />\n * <input type=\"range\" bind:value={spring.current} disabled />\n * ```\n * @template T\n * @since 5.8.0\n */\nexport class Spring {\n\t#stiffness = state(0.15);\n\t#damping = state(0.8);\n\t#precision = state(0.01);\n\n\t#current;\n\t#target;\n\n\t#last_value = /** @type {T} */ (undefined);\n\t#last_time = 0;\n\n\t#inverse_mass = 1;\n\t#momentum = 0;\n\n\t/** @type {import('../internal/client/types').Task | null} */\n\t#task = null;\n\n\t/** @type {ReturnType<typeof deferred> | null} */\n\t#deferred = null;\n\n\t/**\n\t * @param {T} value\n\t * @param {SpringOpts} [options]\n\t */\n\tconstructor(value, options = {}) {\n\t\tthis.#current = DEV ? tag(state(value), 'Spring.current') : state(value);\n\t\tthis.#target = DEV ? tag(state(value), 'Spring.target') : state(value);\n\n\t\tif (typeof options.stiffness === 'number') this.#stiffness.v = clamp(options.stiffness, 0, 1);\n\t\tif (typeof options.damping === 'number') this.#damping.v = clamp(options.damping, 0, 1);\n\t\tif (typeof options.precision === 'number') this.#precision.v = options.precision;\n\n\t\tif (DEV) {\n\t\t\ttag(this.#stiffness, 'Spring.stiffness');\n\t\t\ttag(this.#damping, 'Spring.damping');\n\t\t\ttag(this.#precision, 'Spring.precision');\n\t\t\ttag(this.#current, 'Spring.current');\n\t\t\ttag(this.#target, 'Spring.target');\n\t\t}\n\t}\n\n\t/**\n\t * Create a spring whose value is bound to the return value of `fn`. This must be called\n\t * inside an effect root (for example, during component initialisation).\n\t *\n\t * ```svelte\n\t * <script>\n\t * \timport { Spring } from 'svelte/motion';\n\t *\n\t * \tlet { number } = $props();\n\t *\n\t * \tconst spring = Spring.of(() => number);\n\t * </script>\n\t * ```\n\t * @template U\n\t * @param {() => U} fn\n\t * @param {SpringOpts} [options]\n\t */\n\tstatic of(fn, options) {\n\t\tconst spring = new Spring(fn(), options);\n\n\t\trender_effect(() => {\n\t\t\tspring.set(fn());\n\t\t});\n\n\t\treturn spring;\n\t}\n\n\t/** @param {T} value */\n\t#update(value) {\n\t\tset(this.#target, value);\n\n\t\tthis.#current.v ??= value;\n\t\tthis.#last_value ??= this.#current.v;\n\n\t\tif (!this.#task) {\n\t\t\tthis.#last_time = raf.now();\n\n\t\t\tvar inv_mass_recovery_rate = 1000 / (this.#momentum * 60);\n\n\t\t\tthis.#task ??= loop((now) => {\n\t\t\t\tthis.#inverse_mass = Math.min(this.#inverse_mass + inv_mass_recovery_rate, 1);\n\n\t\t\t\t// clamp elapsed time to 1/30th of a second, so that longer pauses\n\t\t\t\t// (blocked thread or inactive tab) don't cause the spring to go haywire\n\t\t\t\tconst elapsed = Math.min(now - this.#last_time, 1000 / 30);\n\n\t\t\t\t/** @type {import('./private').TickContext} */\n\t\t\t\tconst ctx = {\n\t\t\t\t\tinv_mass: this.#inverse_mass,\n\t\t\t\t\topts: {\n\t\t\t\t\t\tstiffness: this.#stiffness.v,\n\t\t\t\t\t\tdamping: this.#damping.v,\n\t\t\t\t\t\tprecision: this.#precision.v\n\t\t\t\t\t},\n\t\t\t\t\tsettled: true,\n\t\t\t\t\tdt: (elapsed * 60) / 1000\n\t\t\t\t};\n\n\t\t\t\tvar next = tick_spring(ctx, this.#last_value, this.#current.v, this.#target.v);\n\t\t\t\tthis.#last_value = this.#current.v;\n\t\t\t\tthis.#last_time = now;\n\t\t\t\tset(this.#current, next);\n\n\t\t\t\tif (ctx.settled) {\n\t\t\t\t\tthis.#task = null;\n\t\t\t\t}\n\n\t\t\t\treturn !ctx.settled;\n\t\t\t});\n\t\t}\n\n\t\treturn this.#task.promise;\n\t}\n\n\t/**\n\t * Sets `spring.target` to `value` and returns a `Promise` that resolves if and when `spring.current` catches up to it.\n\t *\n\t * If `options.instant` is `true`, `spring.current` immediately matches `spring.target`.\n\t *\n\t * If `options.preserveMomentum` is provided, the spring will continue on its current trajectory for\n\t * the specified number of milliseconds. This is useful for things like 'fling' gestures.\n\t *\n\t * @param {T} value\n\t * @param {SpringUpdateOpts} [options]\n\t */\n\tset(value, options) {\n\t\tthis.#deferred?.reject(new Error('Aborted'));\n\n\t\tif (options?.instant || this.#current.v === undefined) {\n\t\t\tthis.#task?.abort();\n\t\t\tthis.#task = null;\n\t\t\tset(this.#current, set(this.#target, value));\n\t\t\tthis.#last_value = value;\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tif (options?.preserveMomentum) {\n\t\t\tthis.#inverse_mass = 0;\n\t\t\tthis.#momentum = options.preserveMomentum;\n\t\t}\n\n\t\tvar d = (this.#deferred = deferred());\n\t\td.promise.catch(noop);\n\n\t\tthis.#update(value).then(() => {\n\t\t\tif (d !== this.#deferred) return;\n\t\t\td.resolve(undefined);\n\t\t});\n\n\t\treturn d.promise;\n\t}\n\n\tget current() {\n\t\treturn get(this.#current);\n\t}\n\n\tget damping() {\n\t\treturn get(this.#damping);\n\t}\n\n\tset damping(v) {\n\t\tset(this.#damping, clamp(v, 0, 1));\n\t}\n\n\tget precision() {\n\t\treturn get(this.#precision);\n\t}\n\n\tset precision(v) {\n\t\tset(this.#precision, v);\n\t}\n\n\tget stiffness() {\n\t\treturn get(this.#stiffness);\n\t}\n\n\tset stiffness(v) {\n\t\tset(this.#stiffness, clamp(v, 0, 1));\n\t}\n\n\tget target() {\n\t\treturn get(this.#target);\n\t}\n\n\tset target(v) {\n\t\tthis.set(v);\n\t}\n}\n\n/**\n * @param {number} n\n * @param {number} min\n * @param {number} max\n */\nfunction clamp(n, min, max) {\n\treturn Math.max(min, Math.min(max, n));\n}\n","<script>export let type = 'success';\n</script>\n\n{#if type === 'success'}\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 20 20\"\n\t\tfill=\"currentColor\"\n\t\theight=\"20\"\n\t\twidth=\"20\"\n\t>\n\t\t<path\n\t\t\tfill-rule=\"evenodd\"\n\t\t\td=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z\"\n\t\t\tclip-rule=\"evenodd\"\n\t\t/>\n\t</svg>\n{:else if type === 'error'}\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 20 20\"\n\t\tfill=\"currentColor\"\n\t\theight=\"20\"\n\t\twidth=\"20\"\n\t>\n\t\t<path\n\t\t\tfill-rule=\"evenodd\"\n\t\t\td=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z\"\n\t\t\tclip-rule=\"evenodd\"\n\t\t/>\n\t</svg>\n{:else if type === 'info'}\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 20 20\"\n\t\tfill=\"currentColor\"\n\t\theight=\"20\"\n\t\twidth=\"20\"\n\t>\n\t\t<path\n\t\t\tfill-rule=\"evenodd\"\n\t\t\td=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z\"\n\t\t\tclip-rule=\"evenodd\"\n\t\t/>\n\t</svg>\n{:else if type === 'warning'}\n\t<svg\n\t\tviewBox=\"0 0 64 64\"\n\t\tfill=\"currentColor\"\n\t\theight=\"20\"\n\t\twidth=\"20\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"M32.427,7.987c2.183,0.124 4,1.165 5.096,3.281l17.936,36.208c1.739,3.66 -0.954,8.585 -5.373,8.656l-36.119,0c-4.022,-0.064 -7.322,-4.631 -5.352,-8.696l18.271,-36.207c0.342,-0.65 0.498,-0.838 0.793,-1.179c1.186,-1.375 2.483,-2.111 4.748,-2.063Zm-0.295,3.997c-0.687,0.034 -1.316,0.419 -1.659,1.017c-6.312,11.979 -12.397,24.081 -18.301,36.267c-0.546,1.225 0.391,2.797 1.762,2.863c12.06,0.195 24.125,0.195 36.185,0c1.325,-0.064 2.321,-1.584 1.769,-2.85c-5.793,-12.184 -11.765,-24.286 -17.966,-36.267c-0.366,-0.651 -0.903,-1.042 -1.79,-1.03Z\"\n\t\t/>\n\t\t<path\n\t\t\td=\"M33.631,40.581l-3.348,0l-0.368,-16.449l4.1,0l-0.384,16.449Zm-3.828,5.03c0,-0.609 0.197,-1.113 0.592,-1.514c0.396,-0.4 0.935,-0.601 1.618,-0.601c0.684,0 1.223,0.201 1.618,0.601c0.395,0.401 0.593,0.905 0.593,1.514c0,0.587 -0.193,1.078 -0.577,1.473c-0.385,0.395 -0.929,0.593 -1.634,0.593c-0.705,0 -1.249,-0.198 -1.634,-0.593c-0.384,-0.395 -0.576,-0.886 -0.576,-1.473Z\"\n\t\t/>\n\t</svg>\n{:else}\n\t<!-- TODO -->\n{/if}\n","<script>export let visible;\nconst bars = Array(12).fill(0);\n</script>\n\n<div class=\"sonner-loading-wrapper\" data-visible={visible}>\n\t<div class=\"sonner-spinner\">\n\t\t{#each bars as _, i (i)}\n\t\t\t<div class=\"sonner-loading-bar\"></div>\n\t\t{/each}\n\t</div>\n</div>\n","<!-- Set immutable: true to avoid unnecessary re-runs of reactive statements. -->\n<svelte:options immutable={true} />\n\n<script>import { onMount, tick } from 'svelte';\nimport { toastState, useEffect } from './state';\nimport { cn } from './internal/helpers';\n// Default lifetime of a toasts (in ms)\nconst TOAST_LIFETIME = 4000;\n// Default gap between toasts\nconst GAP = 14;\nconst SWIPE_TRESHOLD = 20;\nconst TIME_BEFORE_UNMOUNT = 200;\nconst SCALE_MULTIPLIER = 0.05;\nconst defaultClasses = {\n    toast: '',\n    title: '',\n    description: '',\n    loader: '',\n    closeButton: '',\n    cancelButton: '',\n    actionButton: '',\n    action: '',\n    warning: '',\n    error: '',\n    success: '',\n    default: '',\n    info: '',\n    loading: ''\n};\nconst { toasts, heights, removeHeight, setHeight, remove } = toastState;\nexport let toast;\nexport let index;\nexport let expanded;\nexport let invert;\nexport let position;\nexport let visibleToasts;\nexport let expandByDefault;\nexport let closeButton;\nexport let interacting;\nexport let cancelButtonStyle = '';\nexport let actionButtonStyle = '';\nexport let duration = 4000;\nexport let descriptionClass = '';\nexport let classes = {};\nexport let unstyled = false;\nlet mounted = false;\nlet removed = false;\nlet swiping = false;\nlet swipeOut = false;\nlet offsetBeforeRemove = 0;\nlet initialHeight = 0;\nlet toastRef;\n$: classes = { ...defaultClasses, ...classes };\n$: isFront = index === 0;\n$: isVisible = index + 1 <= visibleToasts;\n$: toastTitle = toast.title;\n$: toastDescription = toast.description;\n$: toastType = toast.type;\n$: toastClass = toast.class || '';\n$: toastDescriptionClass = toast.descriptionClass || '';\n// Height index is used to calculate the offset as it gets updated before the toast array, which means we can calculate the new layout faster.\n$: heightIndex =\n    $heights.findIndex((height) => height.toastId === toast.id) || 0;\nlet offset = 0;\nlet closeTimerStartTimeRef = 0;\nlet lastCloseTimerStartTimeRef = 0;\nlet pointerStartRef = null;\n$: coords = position.split('-');\n$: toastsHeightBefore = $heights.reduce((prev, curr, reducerIndex) => {\n    // Calculate offset up untill current  toast\n    if (reducerIndex >= heightIndex)\n        return prev;\n    return prev + curr.height;\n}, 0);\n$: invert = toast.invert || invert;\n$: disabled = toastType === 'loading';\n// Sometimes toasts are blurry when offset isn't an int\n$: offset = Math.round(heightIndex * GAP + toastsHeightBefore);\n// Listen to height changes\nasync function updateHeights() {\n    if (!mounted) {\n        return;\n    }\n    await tick();\n    let scale;\n    if (expanded || expandByDefault) {\n        scale = 1;\n    }\n    else {\n        scale = 1 - index * SCALE_MULTIPLIER;\n    }\n    toastRef.style.setProperty('height', 'auto');\n    const offsetHeight = toastRef.offsetHeight;\n    // rectHeight is affected by transform: scale(...);\n    const rectHeight = toastRef.getBoundingClientRect().height;\n    const scaledRectHeight = Math.round((rectHeight / scale + Number.EPSILON) * 100) / 100;\n    toastRef.style.removeProperty('height');\n    let finalHeight;\n    if (Math.abs(scaledRectHeight - offsetHeight) < 1) {\n        // Use scaledRectHeight as it's more precise\n        finalHeight = scaledRectHeight;\n    }\n    else {\n        // toast was transitioning its scale, so scaledRectHeight isn't accurate\n        finalHeight = offsetHeight;\n    }\n    initialHeight = finalHeight;\n    setHeight({ toastId: toast.id, height: finalHeight });\n}\n$: toastTitle, toastDescription, updateHeights();\nfunction deleteToast() {\n    removed = true;\n    // Save the offset for the exit swipe animation\n    offsetBeforeRemove = offset;\n    removeHeight(toast.id);\n    setTimeout(() => {\n        remove(toast.id);\n    }, TIME_BEFORE_UNMOUNT);\n}\nlet timeoutId;\nlet remainingTime = toast.duration || duration || TOAST_LIFETIME;\n$: if (toast.updated) {\n    // if the toast has been updated after the initial render,\n    // we want to reset the timer and set the remaining time to the\n    // new duration\n    clearTimeout(timeoutId);\n    remainingTime = toast.duration || duration || TOAST_LIFETIME;\n    startTimer();\n}\n// If toast's duration changes, it will be out of sync with the\n// remainingAtTimeout, so we know we need to restart the timer\n// with the new duration\n// Pause the tmer on each hover\nfunction pauseTimer() {\n    if (lastCloseTimerStartTimeRef < closeTimerStartTimeRef) {\n        // Get the elapsed time since the timer started\n        const elapsedTime = new Date().getTime() - closeTimerStartTimeRef;\n        remainingTime = remainingTime - elapsedTime;\n    }\n    lastCloseTimerStartTimeRef = new Date().getTime();\n}\nfunction startTimer() {\n    closeTimerStartTimeRef = new Date().getTime();\n    // Let the toast know it has started\n    timeoutId = setTimeout(() => {\n        toast.onAutoClose?.(toast);\n        deleteToast();\n    }, remainingTime);\n}\n$: isPromiseLoadingOrInfiniteDuration =\n    (toast.promise && toastType === 'loading') ||\n        toast.duration === Number.POSITIVE_INFINITY;\n/**\n * Hacky useEffect impl.\n * https://github.com/sveltejs/svelte/issues/5283#issuecomment-678759305\n */\nlet effect;\n$: effect = useEffect(() => {\n    if (!isPromiseLoadingOrInfiniteDuration) {\n        if (expanded || interacting) {\n            pauseTimer();\n        }\n        else {\n            startTimer();\n        }\n    }\n    return () => clearTimeout(timeoutId);\n});\n$: $effect;\nonMount(() => {\n    mounted = true;\n    const height = toastRef.getBoundingClientRect().height;\n    // Add toast height tot heights array after the toast is mounted\n    initialHeight = height;\n    setHeight({ toastId: toast.id, height });\n    return () => removeHeight(toast.id);\n});\n$: if (toast.delete) {\n    deleteToast();\n}\nfunction onPointerDown(event) {\n    if (disabled) {\n        return;\n    }\n    offsetBeforeRemove = offset;\n    const target = event.target;\n    // Ensure we maintain correct pointer capture even when going outside of the toast (e.g. when swiping)\n    target.setPointerCapture(event.pointerId);\n    if (target.tagName === 'BUTTON') {\n        return;\n    }\n    swiping = true;\n    pointerStartRef = { x: event.clientX, y: event.clientY };\n}\nfunction onPointerUp() {\n    if (swipeOut) {\n        return;\n    }\n    pointerStartRef = null;\n    const swipeAmount = Number(toastRef?.style\n        .getPropertyValue('--swipe-amount')\n        .replace('px', '') || 0);\n    // Remove only if treshold is met\n    if (Math.abs(swipeAmount) >= SWIPE_TRESHOLD) {\n        offsetBeforeRemove = offset;\n        toast.onDismiss?.(toast);\n        deleteToast();\n        swipeOut = true;\n        return;\n    }\n    toastRef.style.setProperty('--swipe-amount', '0px');\n    swiping = false;\n}\nfunction onPointerMove(event) {\n    if (!pointerStartRef) {\n        return;\n    }\n    const yPosition = event.clientY - pointerStartRef.y;\n    const xPosition = event.clientX - pointerStartRef.x;\n    const clamp = coords[0] === 'top' ? Math.min : Math.max;\n    const clampedY = clamp(0, yPosition);\n    const swipeStartThreshold = event.pointerType === 'touch' ? 10 : 2;\n    const isAllowedToSwipe = Math.abs(clampedY) > swipeStartThreshold;\n    if (isAllowedToSwipe) {\n        toastRef.style.setProperty('--swipe-amount', `${yPosition}px`);\n    }\n    else if (Math.abs(xPosition) > swipeStartThreshold) {\n        // User is swiping in wrong direction so we disable swipe gesture\n        // for the current pointer down interaction\n        pointerStartRef = null;\n    }\n}\n</script>\n\n<li\n\tbind:this={toastRef}\n\taria-live={toast.important ? 'assertive' : 'polite'}\n\taria-atomic=\"true\"\n\trole=\"status\"\n\ttabIndex={0}\n\tclass={cn(\n\t\t$$props.class,\n\t\ttoastClass,\n\t\tclasses?.toast,\n\t\ttoast?.classes?.toast,\n\t\tclasses?.[toastType],\n\t\ttoast?.classes?.[toastType]\n\t)}\n\tdata-sonner-toast=\"\"\n\tdata-styled={!(toast.component || toast?.unstyled || unstyled)}\n\tdata-mounted={mounted}\n\tdata-promise={Boolean(toast.promise)}\n\tdata-removed={removed}\n\tdata-visible={isVisible}\n\tdata-y-position={coords[0]}\n\tdata-x-position={coords[1]}\n\tdata-index={index}\n\tdata-front={isFront}\n\tdata-swiping={swiping}\n\tdata-type={toastType}\n\tdata-invert={invert}\n\tdata-swipe-out={swipeOut}\n\tdata-expanded={Boolean(expanded || (expandByDefault && mounted))}\n\tstyle={`${$$props.style} ${toast.style}`}\n\tstyle:--index={index}\n\tstyle:--toasts-before={index}\n\tstyle:--z-index={$toasts.length - index}\n\tstyle:--offset={`${removed ? offsetBeforeRemove : offset}px`}\n\tstyle:--initial-height={`${initialHeight}px`}\n\ton:pointerdown={onPointerDown}\n\ton:pointerup={onPointerUp}\n\ton:pointermove={onPointerMove}\n>\n\t{#if closeButton && !toast.component}\n\t\t<button\n\t\t\taria-label=\"Close toast\"\n\t\t\tdata-disabled={disabled}\n\t\t\tdata-close-button\n\t\t\ton:click={disabled\n\t\t\t\t? undefined\n\t\t\t\t: () => {\n\t\t\t\t\t\tdeleteToast();\n\t\t\t\t\t\ttoast.onDismiss?.(toast);\n\t\t\t\t\t}}\n\t\t\tclass={cn(classes?.closeButton, toast?.classes?.closeButton)}\n\t\t>\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"12\"\n\t\t\t\theight=\"12\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n\t\t\t\t<line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n\t\t\t</svg>\n\t\t</button>\n\t{/if}\n\n\t{#if toast.component}\n\t\t<svelte:component\n\t\t\tthis={toast.component}\n\t\t\t{...toast.componentProps}\n\t\t\ton:closeToast={deleteToast}\n\t\t></svelte:component>\n\t{:else}\n\t\t{#if toastType !== 'default' || toast.icon || toast.promise}\n\t\t\t<div data-icon=\"\">\n\t\t\t\t{#if (toast.promise || toastType === 'loading') && !toast.icon}\n\t\t\t\t\t<slot name=\"loading-icon\" />\n\t\t\t\t{/if}\n\t\t\t\t{#if toast.icon}\n\t\t\t\t\t<svelte:component this={toast.icon}></svelte:component>\n\t\t\t\t{:else if toastType === 'success'}\n\t\t\t\t\t<slot name=\"success-icon\" />\n\t\t\t\t{:else if toastType === 'error'}\n\t\t\t\t\t<slot name=\"error-icon\" />\n\t\t\t\t{:else if toastType === 'warning'}\n\t\t\t\t\t<slot name=\"warning-icon\" />\n\t\t\t\t{:else if toastType === 'info'}\n\t\t\t\t\t<slot name=\"info-icon\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t\t<div data-content=\"\">\n\t\t\t{#if toast.title}\n\t\t\t\t<div\n\t\t\t\t\tdata-title=\"\"\n\t\t\t\t\tclass={cn(classes?.title, toast?.classes?.title)}\n\t\t\t\t>\n\t\t\t\t\t{#if typeof toast.title !== 'string'}\n\t\t\t\t\t\t<svelte:component\n\t\t\t\t\t\t\tthis={toast.title}\n\t\t\t\t\t\t\t{...toast.componentProps}\n\t\t\t\t\t\t/>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{toast.title}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t\t{#if toast.description}\n\t\t\t\t<div\n\t\t\t\t\tdata-description=\"\"\n\t\t\t\t\tclass={cn(\n\t\t\t\t\t\tdescriptionClass,\n\t\t\t\t\t\ttoastDescriptionClass,\n\t\t\t\t\t\tclasses?.description,\n\t\t\t\t\t\ttoast.classes?.description\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{#if typeof toast.description !== 'string'}\n\t\t\t\t\t\t<svelte:component\n\t\t\t\t\t\t\tthis={toast.description}\n\t\t\t\t\t\t\t{...toast.componentProps}\n\t\t\t\t\t\t/>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{toast.description}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t\t{#if toast.cancel}\n\t\t\t<button\n\t\t\t\tdata-button\n\t\t\t\tdata-cancel\n\t\t\t\tstyle={cancelButtonStyle}\n\t\t\t\tclass={cn(classes?.cancelButton, toast?.classes?.cancelButton)}\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdeleteToast();\n\t\t\t\t\tif (toast.cancel?.onClick) {\n\t\t\t\t\t\ttoast.cancel.onClick();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{toast.cancel.label}\n\t\t\t</button>\n\t\t{/if}\n\t\t{#if toast.action}\n\t\t\t<button\n\t\t\t\tdata-button=\"\"\n\t\t\t\tstyle={actionButtonStyle}\n\t\t\t\tclass={cn(classes?.actionButton, toast?.classes?.actionButton)}\n\t\t\t\ton:click={(event) => {\n\t\t\t\t\ttoast.action?.onClick(event);\n\t\t\t\t\tif (event.defaultPrevented) return;\n\t\t\t\t\tdeleteToast();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{toast.action.label}\n\t\t\t</button>\n\t\t{/if}\n\t{/if}\n</li>\n","<script>import { onDestroy, onMount } from 'svelte';\nimport { toastState } from './state.js';\nimport Toast from './Toast.svelte';\nimport Loader from './Loader.svelte';\nimport Icon from './Icon.svelte';\n// Visible toasts amount\nconst VISIBLE_TOASTS_AMOUNT = 3;\n// Viewport padding\nconst VIEWPORT_OFFSET = '32px';\n// Default toast width\nconst TOAST_WIDTH = 356;\n// Default gap between toasts\nconst GAP = 14;\nconst DARK = 'dark';\nconst LIGHT = 'light';\nfunction getInitialTheme(t) {\n    if (t !== 'system') {\n        return t;\n    }\n    if (typeof window !== 'undefined') {\n        if (window.matchMedia &&\n            window.matchMedia('(prefers-color-scheme: dark)').matches) {\n            return DARK;\n        }\n        return LIGHT;\n    }\n    return LIGHT;\n}\nfunction getDocumentDirection() {\n    if (typeof window === 'undefined')\n        return 'ltr';\n    if (typeof document === 'undefined')\n        return 'ltr'; // For Fresh purpose\n    const dirAttribute = document.documentElement.getAttribute('dir');\n    if (dirAttribute === 'auto' || !dirAttribute) {\n        return window.getComputedStyle(document.documentElement)\n            .direction;\n    }\n    return dirAttribute;\n}\nexport let invert = false;\nexport let theme = 'light';\nexport let position = 'bottom-right';\nexport let hotkey = ['altKey', 'KeyT'];\nexport let containerAriaLabel = 'Notifications';\nexport let richColors = false;\nexport let expand = false;\nexport let duration = 4000;\nexport let visibleToasts = VISIBLE_TOASTS_AMOUNT;\nexport let closeButton = false;\nexport let toastOptions = {};\nexport let offset = null;\nexport let dir = getDocumentDirection();\nconst { toasts, heights, reset } = toastState;\n$: possiblePositions = Array.from(new Set([\n    position,\n    ...$toasts\n        .filter((toast) => toast.position)\n        .map((toast) => toast.position)\n].filter(Boolean)));\nlet expanded = false;\nlet interacting = false;\nlet actualTheme = getInitialTheme(theme);\nlet listRef;\nlet lastFocusedElementRef = null;\nlet isFocusWithinRef = false;\n$: hotkeyLabel = hotkey.join('+').replace(/Key/g, '').replace(/Digit/g, '');\n$: if ($toasts.length <= 1) {\n    expanded = false;\n}\n// Check for dismissed toasts and remove them. We need to do this to have dismiss animation.\n$: {\n    const toastsToDismiss = $toasts.filter((toast) => toast.dismiss && !toast.delete);\n    if (toastsToDismiss.length > 0) {\n        const updatedToasts = $toasts.map((toast) => {\n            const matchingToast = toastsToDismiss.find((dismissToast) => dismissToast.id === toast.id);\n            if (matchingToast) {\n                return { ...toast, delete: true };\n            }\n            return toast;\n        });\n        toasts.set(updatedToasts);\n    }\n}\nonDestroy(() => {\n    if (listRef && lastFocusedElementRef) {\n        lastFocusedElementRef.focus({ preventScroll: true });\n        lastFocusedElementRef = null;\n        isFocusWithinRef = false;\n    }\n});\nonMount(() => {\n    reset();\n    const handleKeydown = (event) => {\n        const isHotkeyPressed = hotkey.every((key) => \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        event[key] || event.code === key);\n        if (isHotkeyPressed) {\n            expanded = true;\n            listRef?.focus();\n        }\n        if (event.code === 'Escape' &&\n            (document.activeElement === listRef ||\n                listRef?.contains(document.activeElement))) {\n            expanded = false;\n        }\n    };\n    document.addEventListener('keydown', handleKeydown);\n    return () => {\n        document.removeEventListener('keydown', handleKeydown);\n    };\n});\n$: {\n    if (theme !== 'system') {\n        actualTheme = theme;\n    }\n    if (typeof window !== 'undefined') {\n        if (theme === 'system') {\n            // check if current preference is dark\n            if (window.matchMedia &&\n                window.matchMedia('(prefers-color-scheme: dark)').matches) {\n                // it's currently dark\n                actualTheme = DARK;\n            }\n            else {\n                // it's not dark\n                actualTheme = LIGHT;\n            }\n        }\n        const mediaQueryList = window.matchMedia('(prefers-color-scheme: dark)');\n        const changeHandler = ({ matches }) => {\n            actualTheme = matches ? DARK : LIGHT;\n        };\n        if ('addEventListener' in mediaQueryList) {\n            mediaQueryList.addEventListener('change', changeHandler);\n        }\n        else {\n            // @ts-expect-error deprecated API\n            mediaQueryList.addListener(changeHandler);\n        }\n    }\n}\nfunction handleBlur(event) {\n    if (isFocusWithinRef &&\n        !event.currentTarget.contains(event.relatedTarget)) {\n        isFocusWithinRef = false;\n        if (lastFocusedElementRef) {\n            lastFocusedElementRef.focus({ preventScroll: true });\n            lastFocusedElementRef = null;\n        }\n    }\n}\nfunction handleFocus(event) {\n    if (!isFocusWithinRef) {\n        isFocusWithinRef = true;\n        lastFocusedElementRef = event.relatedTarget;\n    }\n}\n</script>\n\n{#if $toasts.length > 0}\n\t<section aria-label={`${containerAriaLabel} ${hotkeyLabel}`} tabIndex={-1}>\n\t\t{#each possiblePositions as position, index}\n\t\t\t<ol\n\t\t\t\ttabIndex={-1}\n\t\t\t\tbind:this={listRef}\n\t\t\t\tclass={$$props.class}\n\t\t\t\tdata-sonner-toaster\n\t\t\t\tdata-theme={actualTheme}\n\t\t\t\tdata-rich-colors={richColors}\n\t\t\t\tdir={dir === 'auto' ? getDocumentDirection() : dir}\n\t\t\t\tdata-y-position={position.split('-')[0]}\n\t\t\t\tdata-x-position={position.split('-')[1]}\n\t\t\t\ton:blur={handleBlur}\n\t\t\t\ton:focus={handleFocus}\n\t\t\t\ton:mouseenter={() => (expanded = true)}\n\t\t\t\ton:mousemove={() => (expanded = true)}\n\t\t\t\ton:mouseleave={() => {\n\t\t\t\t\tif (!interacting) {\n\t\t\t\t\t\texpanded = false;\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\ton:pointerdown={() => (interacting = true)}\n\t\t\t\ton:pointerup={() => (interacting = false)}\n\t\t\t\tstyle:--front-toast-height={`${$heights[0]?.height}px`}\n\t\t\t\tstyle:--offset={typeof offset === 'number'\n\t\t\t\t\t? `${offset}px`\n\t\t\t\t\t: offset || VIEWPORT_OFFSET}\n\t\t\t\tstyle:--width={`${TOAST_WIDTH}px`}\n\t\t\t\tstyle:--gap={`${GAP}px`}\n\t\t\t\tstyle={$$props.style}\n\t\t\t\t{...$$restProps}\n\t\t\t>\n\t\t\t\t{#each $toasts.filter((toast) => (!toast.position && index === 0) || toast.position === position) as toast, index (toast.id)}\n\t\t\t\t\t<Toast\n\t\t\t\t\t\t{index}\n\t\t\t\t\t\t{toast}\n\t\t\t\t\t\t{invert}\n\t\t\t\t\t\t{visibleToasts}\n\t\t\t\t\t\t{closeButton}\n\t\t\t\t\t\t{interacting}\n\t\t\t\t\t\t{position}\n\t\t\t\t\t\texpandByDefault={expand}\n\t\t\t\t\t\t{expanded}\n\t\t\t\t\t\tactionButtonStyle={toastOptions?.actionButtonStyle ||\n\t\t\t\t\t\t\t''}\n\t\t\t\t\t\tcancelButtonStyle={toastOptions?.cancelButtonStyle ||\n\t\t\t\t\t\t\t''}\n\t\t\t\t\t\tclass={toastOptions?.class || ''}\n\t\t\t\t\t\tdescriptionClass={toastOptions?.descriptionClass || ''}\n\t\t\t\t\t\tclasses={toastOptions.classes || {}}\n\t\t\t\t\t\tduration={toastOptions?.duration ?? duration}\n\t\t\t\t\t\tunstyled={toastOptions.unstyled || false}\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"loading-icon\" slot=\"loading-icon\">\n\t\t\t\t\t\t\t<Loader visible={toast.type === 'loading'} />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t<slot name=\"success-icon\" slot=\"success-icon\">\n\t\t\t\t\t\t\t<Icon type=\"success\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t<slot name=\"error-icon\" slot=\"error-icon\">\n\t\t\t\t\t\t\t<Icon type=\"error\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t<slot name=\"warning-icon\" slot=\"warning-icon\">\n\t\t\t\t\t\t\t<Icon type=\"warning\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t<slot name=\"info-icon\" slot=\"info-icon\">\n\t\t\t\t\t\t\t<Icon type=\"info\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</Toast>\n\t\t\t\t{/each}\n\t\t\t</ol>\n\t\t{/each}\n\t</section>\n{/if}\n\n<style global>\n\t:global(:where(html[dir='ltr'])),\n\t:global(:where([data-sonner-toaster][dir='ltr'])) {\n\t\t--toast-icon-margin-start: -3px;\n\t\t--toast-icon-margin-end: 4px;\n\t\t--toast-svg-margin-start: -1px;\n\t\t--toast-svg-margin-end: 0px;\n\t\t--toast-button-margin-start: auto;\n\t\t--toast-button-margin-end: 0;\n\t\t--toast-close-button-start: 0;\n\t\t--toast-close-button-end: unset;\n\t\t--toast-close-button-transform: translate(-35%, -35%);\n\t}\n\n\t:global(:where(html[dir='rtl'])),\n\t:global(:where([data-sonner-toaster][dir='rtl'])) {\n\t\t--toast-icon-margin-start: 4px;\n\t\t--toast-icon-margin-end: -3px;\n\t\t--toast-svg-margin-start: 0px;\n\t\t--toast-svg-margin-end: -1px;\n\t\t--toast-button-margin-start: 0;\n\t\t--toast-button-margin-end: auto;\n\t\t--toast-close-button-start: unset;\n\t\t--toast-close-button-end: 0;\n\t\t--toast-close-button-transform: translate(35%, -35%);\n\t}\n\n\t:global(:where([data-sonner-toaster])) {\n\t\tposition: fixed;\n\t\twidth: var(--width);\n\t\tfont-family:\n\t\t\tui-sans-serif,\n\t\t\tsystem-ui,\n\t\t\t-apple-system,\n\t\t\tBlinkMacSystemFont,\n\t\t\tSegoe UI,\n\t\t\tRoboto,\n\t\t\tHelvetica Neue,\n\t\t\tArial,\n\t\t\tNoto Sans,\n\t\t\tsans-serif,\n\t\t\tApple Color Emoji,\n\t\t\tSegoe UI Emoji,\n\t\t\tSegoe UI Symbol,\n\t\t\tNoto Color Emoji;\n\t\t--gray1: hsl(0, 0%, 99%);\n\t\t--gray2: hsl(0, 0%, 97.3%);\n\t\t--gray3: hsl(0, 0%, 95.1%);\n\t\t--gray4: hsl(0, 0%, 93%);\n\t\t--gray5: hsl(0, 0%, 90.9%);\n\t\t--gray6: hsl(0, 0%, 88.7%);\n\t\t--gray7: hsl(0, 0%, 85.8%);\n\t\t--gray8: hsl(0, 0%, 78%);\n\t\t--gray9: hsl(0, 0%, 56.1%);\n\t\t--gray10: hsl(0, 0%, 52.3%);\n\t\t--gray11: hsl(0, 0%, 43.5%);\n\t\t--gray12: hsl(0, 0%, 9%);\n\t\t--border-radius: 8px;\n\t\tbox-sizing: border-box;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tlist-style: none;\n\t\toutline: none;\n\t\tz-index: 999999999;\n\t}\n\n\t:global(:where([data-sonner-toaster][data-x-position='right'])) {\n\t\tright: max(var(--offset), env(safe-area-inset-right));\n\t}\n\n\t:global(:where([data-sonner-toaster][data-x-position='left'])) {\n\t\tleft: max(var(--offset), env(safe-area-inset-left));\n\t}\n\n\t:global(:where([data-sonner-toaster][data-x-position='center'])) {\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t}\n\n\t:global(:where([data-sonner-toaster][data-y-position='top'])) {\n\t\ttop: max(var(--offset), env(safe-area-inset-top));\n\t}\n\n\t:global(:where([data-sonner-toaster][data-y-position='bottom'])) {\n\t\tbottom: max(var(--offset), env(safe-area-inset-bottom));\n\t}\n\n\t:global(:where([data-sonner-toast])) {\n\t\t--y: translateY(100%);\n\t\t--lift-amount: calc(var(--lift) * var(--gap));\n\t\tz-index: var(--z-index);\n\t\tposition: absolute;\n\t\topacity: 0;\n\t\ttransform: var(--y);\n\t\tfilter: blur(0);\n\t\t/* https://stackoverflow.com/questions/48124372/pointermove-event-not-working-with-touch-why-not */\n\t\ttouch-action: none;\n\t\ttransition:\n\t\t\ttransform 400ms,\n\t\t\topacity 400ms,\n\t\t\theight 400ms,\n\t\t\tbox-shadow 200ms;\n\t\tbox-sizing: border-box;\n\t\toutline: none;\n\t\toverflow-wrap: anywhere;\n\t}\n\n\t:global(:where([data-sonner-toast][data-styled='true'])) {\n\t\tpadding: 16px;\n\t\tbackground: var(--normal-bg);\n\t\tborder: 1px solid var(--normal-border);\n\t\tcolor: var(--normal-text);\n\t\tborder-radius: var(--border-radius);\n\t\tbox-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);\n\t\twidth: var(--width);\n\t\tfont-size: 13px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 6px;\n\t}\n\n\t:global(:where([data-sonner-toast]:focus-visible)) {\n\t\tbox-shadow:\n\t\t\t0px 4px 12px rgba(0, 0, 0, 0.1),\n\t\t\t0 0 0 2px rgba(0, 0, 0, 0.2);\n\t}\n\n\t:global(:where([data-sonner-toast][data-y-position='top'])) {\n\t\ttop: 0;\n\t\t--y: translateY(-100%);\n\t\t--lift: 1;\n\t\t--lift-amount: calc(1 * var(--gap));\n\t}\n\n\t:global(:where([data-sonner-toast][data-y-position='bottom'])) {\n\t\tbottom: 0;\n\t\t--y: translateY(100%);\n\t\t--lift: -1;\n\t\t--lift-amount: calc(var(--lift) * var(--gap));\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-description])) {\n\t\tfont-weight: 400;\n\t\tline-height: 1.4;\n\t\tcolor: inherit;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-title])) {\n\t\tfont-weight: 500;\n\t\tline-height: 1.5;\n\t\tcolor: inherit;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-icon])) {\n\t\tdisplay: flex;\n\t\theight: 16px;\n\t\twidth: 16px;\n\t\tposition: relative;\n\t\tjustify-content: flex-start;\n\t\talign-items: center;\n\t\tflex-shrink: 0;\n\t\tmargin-left: var(--toast-icon-margin-start);\n\t\tmargin-right: var(--toast-icon-margin-end);\n\t}\n\n\t:global(:where([data-sonner-toast][data-promise='true'])) :global(:where([data-icon])) > :global(svg) {\n\t\topacity: 0;\n\t\ttransform: scale(0.8);\n\t\ttransform-origin: center;\n\t\tanimation: sonner-fade-in 300ms ease forwards;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-icon])) > :global(*) {\n\t\tflex-shrink: 0;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-icon])) :global(svg) {\n\t\tmargin-left: var(--toast-svg-margin-start);\n\t\tmargin-right: var(--toast-svg-margin-end);\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-content])) {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 2px;\n\t}\n\n\t:global([data-sonner-toast][data-styled='true']) :global([data-button]) {\n\t\tborder-radius: 4px;\n\t\tpadding-left: 8px;\n\t\tpadding-right: 8px;\n\t\theight: 24px;\n\t\tfont-size: 12px;\n\t\tcolor: var(--normal-bg);\n\t\tbackground: var(--normal-text);\n\t\tmargin-left: var(--toast-button-margin-start);\n\t\tmargin-right: var(--toast-button-margin-end);\n\t\tborder: none;\n\t\tcursor: pointer;\n\t\toutline: none;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex-shrink: 0;\n\t\ttransition:\n\t\t\topacity 400ms,\n\t\t\tbox-shadow 200ms;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-button]):focus-visible) {\n\t\tbox-shadow: 0 0 0 2px rgba(0, 0, 0, 0.4);\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-button]):first-of-type) {\n\t\tmargin-left: var(--toast-button-margin-start);\n\t\tmargin-right: var(--toast-button-margin-end);\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-cancel])) {\n\t\tcolor: var(--normal-text);\n\t\tbackground: rgba(0, 0, 0, 0.08);\n\t}\n\n\t:global(:where([data-sonner-toast][data-theme='dark'])) :global(:where([data-cancel])) {\n\t\tbackground: rgba(255, 255, 255, 0.3);\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-close-button])) {\n\t\tposition: absolute;\n\t\tleft: var(--toast-close-button-start);\n\t\tright: var(--toast-close-button-end);\n\t\ttop: 0;\n\t\theight: 20px;\n\t\twidth: 20px;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpadding: 0;\n\t\tbackground: var(--gray1);\n\t\tcolor: var(--gray12);\n\t\tborder: 1px solid var(--gray4);\n\t\ttransform: var(--toast-close-button-transform);\n\t\tborder-radius: 50%;\n\t\tcursor: pointer;\n\t\tz-index: 1;\n\t\ttransition:\n\t\t\topacity 100ms,\n\t\t\tbackground 200ms,\n\t\t\tborder-color 200ms;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-close-button]):focus-visible) {\n\t\tbox-shadow:\n\t\t\t0px 4px 12px rgba(0, 0, 0, 0.1),\n\t\t\t0 0 0 2px rgba(0, 0, 0, 0.2);\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-disabled='true'])) {\n\t\tcursor: not-allowed;\n\t}\n\n\t:global(:where([data-sonner-toast]):hover) :global(:where([data-close-button]):hover) {\n\t\tbackground: var(--gray2);\n\t\tborder-color: var(--gray5);\n\t}\n\n\t/* Leave a ghost div to avoid setting hover to false when swiping out */\n\t:global(:where([data-sonner-toast][data-swiping='true'])::before) {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\theight: 100%;\n\t\tz-index: -1;\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-y-position='top'][data-swiping='true']\n\t\t)::before) {\n\t\t/* y 50% needed to distribute height additional height evenly */\n\t\tbottom: 50%;\n\t\ttransform: scaleY(3) translateY(50%);\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-y-position='bottom'][data-swiping='true']\n\t\t)::before) {\n\t\t/* y -50% needed to distribute height additional height evenly */\n\t\ttop: 50%;\n\t\ttransform: scaleY(3) translateY(-50%);\n\t}\n\n\t/* Leave a ghost div to avoid setting hover to false when transitioning out */\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-swiping='false'][data-removed='true']\n\t\t)::before) {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tinset: 0;\n\t\ttransform: scaleY(2);\n\t}\n\n\t/* Needed to avoid setting hover to false when inbetween toasts */\n\t:global(:where([data-sonner-toast])::after) {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\theight: calc(var(--gap) + 1px);\n\t\tbottom: 100%;\n\t\twidth: 100%;\n\t}\n\n\t:global(:where([data-sonner-toast][data-mounted='true'])) {\n\t\t--y: translateY(0);\n\t\topacity: 1;\n\t}\n\n\t:global(:where([data-sonner-toast][data-expanded='false'][data-front='false'])) {\n\t\t--scale: var(--toasts-before) * 0.05 + 1;\n\t\t--y: translateY(calc(var(--lift-amount) * var(--toasts-before)))\n\t\t\tscale(calc(-1 * var(--scale)));\n\t\theight: var(--front-toast-height);\n\t}\n\n\t:global(:where([data-sonner-toast])) > :global(*) {\n\t\ttransition: opacity 400ms;\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-expanded='false'][data-front='false'][data-styled='true']\n\t\t)\n\t\t)> :global(*) {\n\t\topacity: 0;\n\t}\n\n\t:global(:where([data-sonner-toast][data-visible='false'])) {\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n\n\t:global(:where([data-sonner-toast][data-mounted='true'][data-expanded='true'])) {\n\t\t--y: translateY(calc(var(--lift) * var(--offset)));\n\t\theight: var(--initial-height);\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-removed='true'][data-front='true'][data-swipe-out='false']\n\t\t)) {\n\t\t--y: translateY(calc(var(--lift) * -100%));\n\t\topacity: 0;\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-removed='true'][data-front='false'][data-swipe-out='false'][data-expanded='true']\n\t\t)) {\n\t\t--y: translateY(\n\t\t\tcalc(var(--lift) * var(--offset) + var(--lift) * -100%)\n\t\t);\n\t\topacity: 0;\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-removed='true'][data-front='false'][data-swipe-out='false'][data-expanded='false']\n\t\t)) {\n\t\t--y: translateY(40%);\n\t\topacity: 0;\n\t\ttransition:\n\t\t\ttransform 500ms,\n\t\t\topacity 200ms;\n\t}\n\n\t/* Bump up the height to make sure hover state doesn't get set to false */\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-removed='true'][data-front='false']\n\t\t)::before) {\n\t\theight: calc(var(--initial-height) + 20%);\n\t}\n\n\t:global([data-sonner-toast][data-swiping='true']) {\n\t\ttransform: var(--y) translateY(var(--swipe-amount, 0px));\n\t\ttransition: none;\n\t}\n\n\t:global([data-sonner-toast][data-swipe-out='true'][data-y-position='bottom']),\n\t:global([data-sonner-toast][data-swipe-out='true'][data-y-position='top']) {\n\t\tanimation: swipe-out 200ms ease-out forwards;\n\t}\n\n\t@keyframes -global-swipe-out {\n\t\tfrom {\n\t\t\ttransform: translateY(\n\t\t\t\tcalc(var(--lift) * var(--offset) + var(--swipe-amount))\n\t\t\t);\n\t\t\topacity: 1;\n\t\t}\n\n\t\tto {\n\t\t\ttransform: translateY(\n\t\t\t\tcalc(\n\t\t\t\t\tvar(--lift) * var(--offset) + var(--swipe-amount) +\n\t\t\t\t\t\tvar(--lift) * -100%\n\t\t\t\t)\n\t\t\t);\n\t\t\topacity: 0;\n\t\t}\n\t}\n\n\t@media (max-width: 600px) {\n\t\t:global([data-sonner-toaster]) {\n\t\t\tposition: fixed;\n\t\t\t--mobile-offset: 16px;\n\t\t\tright: var(--mobile-offset);\n\t\t\tleft: var(--mobile-offset);\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t:global([data-sonner-toaster]) :global([data-sonner-toast]) {\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\twidth: calc(100% - var(--mobile-offset) * 2);\n\t\t}\n\n\t\t:global([data-sonner-toaster][data-x-position='left']) {\n\t\t\tleft: var(--mobile-offset);\n\t\t}\n\n\t\t:global([data-sonner-toaster][data-y-position='bottom']) {\n\t\t\tbottom: 20px;\n\t\t}\n\n\t\t:global([data-sonner-toaster][data-y-position='top']) {\n\t\t\ttop: 20px;\n\t\t}\n\n\t\t:global([data-sonner-toaster][data-x-position='center']) {\n\t\t\tleft: var(--mobile-offset);\n\t\t\tright: var(--mobile-offset);\n\t\t\ttransform: none;\n\t\t}\n\t}\n\n\t:global([data-sonner-toaster][data-theme='light']) {\n\t\t--normal-bg: #fff;\n\t\t--normal-border: var(--gray4);\n\t\t--normal-text: var(--gray12);\n\n\t\t--success-bg: hsl(143, 85%, 96%);\n\t\t--success-border: hsl(145, 92%, 91%);\n\t\t--success-text: hsl(140, 100%, 27%);\n\n\t\t--info-bg: hsl(208, 100%, 97%);\n\t\t--info-border: hsl(221, 91%, 91%);\n\t\t--info-text: hsl(210, 92%, 45%);\n\n\t\t--warning-bg: hsl(49, 100%, 97%);\n\t\t--warning-border: hsl(49, 91%, 91%);\n\t\t--warning-text: hsl(31, 92%, 45%);\n\n\t\t--error-bg: hsl(359, 100%, 97%);\n\t\t--error-border: hsl(359, 100%, 94%);\n\t\t--error-text: hsl(360, 100%, 45%);\n\t}\n\n\t:global([data-sonner-toaster][data-theme='light']\n\t\t[data-sonner-toast][data-invert='true']) {\n\t\t--normal-bg: #000;\n\t\t--normal-border: hsl(0, 0%, 20%);\n\t\t--normal-text: var(--gray1);\n\t}\n\n\t:global([data-sonner-toaster][data-theme='dark']\n\t\t[data-sonner-toast][data-invert='true']) {\n\t\t--normal-bg: #fff;\n\t\t--normal-border: var(--gray3);\n\t\t--normal-text: var(--gray12);\n\t}\n\n\t:global([data-sonner-toaster][data-theme='dark']) {\n\t\t--normal-bg: #000;\n\t\t--normal-border: hsl(0, 0%, 20%);\n\t\t--normal-text: var(--gray1);\n\n\t\t--success-bg: hsl(150, 100%, 6%);\n\t\t--success-border: hsl(147, 100%, 12%);\n\t\t--success-text: hsl(150, 86%, 65%);\n\n\t\t--info-bg: hsl(215, 100%, 6%);\n\t\t--info-border: hsl(223, 100%, 12%);\n\t\t--info-text: hsl(216, 87%, 65%);\n\n\t\t--warning-bg: hsl(64, 100%, 6%);\n\t\t--warning-border: hsl(60, 100%, 12%);\n\t\t--warning-text: hsl(46, 87%, 65%);\n\n\t\t--error-bg: hsl(358, 76%, 10%);\n\t\t--error-border: hsl(357, 89%, 16%);\n\t\t--error-text: hsl(358, 100%, 81%);\n\t}\n\n\t:global([data-rich-colors='true']) :global([data-sonner-toast][data-type='success']) {\n\t\tbackground: var(--success-bg);\n\t\tborder-color: var(--success-border);\n\t\tcolor: var(--success-text);\n\t}\n\n\t:global([data-theme='dark']\n\t\t[data-sonner-toast][data-type='default']\n\t\t[data-close-button]) {\n\t\tbackground: var(--normal-bg);\n\t\tborder-color: var(--normal-border);\n\t\tcolor: var(--normal-text);\n\t}\n\n\t:global([data-rich-colors='true']\n\t\t[data-sonner-toast][data-type='success']\n\t\t[data-close-button]) {\n\t\tbackground: var(--success-bg);\n\t\tborder-color: var(--success-border);\n\t\tcolor: var(--success-text);\n\t}\n\n\t:global([data-rich-colors='true']) :global([data-sonner-toast][data-type='info']) {\n\t\tbackground: var(--info-bg);\n\t\tborder-color: var(--info-border);\n\t\tcolor: var(--info-text);\n\t}\n\n\t:global([data-rich-colors='true']\n\t\t[data-sonner-toast][data-type='info']\n\t\t[data-close-button]) {\n\t\tbackground: var(--info-bg);\n\t\tborder-color: var(--info-border);\n\t\tcolor: var(--info-text);\n\t}\n\n\t:global([data-rich-colors='true']) :global([data-sonner-toast][data-type='warning']) {\n\t\tbackground: var(--warning-bg);\n\t\tborder-color: var(--warning-border);\n\t\tcolor: var(--warning-text);\n\t}\n\n\t:global([data-rich-colors='true']\n\t\t[data-sonner-toast][data-type='warning']\n\t\t[data-close-button]) {\n\t\tbackground: var(--warning-bg);\n\t\tborder-color: var(--warning-border);\n\t\tcolor: var(--warning-text);\n\t}\n\n\t:global([data-rich-colors='true']) :global([data-sonner-toast][data-type='error']) {\n\t\tbackground: var(--error-bg);\n\t\tborder-color: var(--error-border);\n\t\tcolor: var(--error-text);\n\t}\n\n\t:global([data-rich-colors='true']\n\t\t[data-sonner-toast][data-type='error']\n\t\t[data-close-button]) {\n\t\tbackground: var(--error-bg);\n\t\tborder-color: var(--error-border);\n\t\tcolor: var(--error-text);\n\t}\n\n\t:global(.sonner-loading-wrapper) {\n\t\t--size: 16px;\n\t\theight: var(--size);\n\t\twidth: var(--size);\n\t\tposition: absolute;\n\t\tinset: 0;\n\t\tz-index: 10;\n\t}\n\n\t:global(.sonner-loading-wrapper[data-visible='false']) {\n\t\ttransform-origin: center;\n\t\tanimation: sonner-fade-out 0.2s ease forwards;\n\t}\n\n\t:global(.sonner-spinner) {\n\t\tposition: relative;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\theight: var(--size);\n\t\twidth: var(--size);\n\t}\n\n\t:global(.sonner-loading-bar) {\n\t\tanimation: sonner-spin 1.2s linear infinite;\n\t\tbackground: var(--gray11);\n\t\tborder-radius: 6px;\n\t\theight: 8%;\n\t\tleft: -10%;\n\t\tposition: absolute;\n\t\ttop: -3.9%;\n\t\twidth: 24%;\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(1)) {\n\t\tanimation-delay: -1.2s;\n\t\ttransform: rotate(0.0001deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(2)) {\n\t\tanimation-delay: -1.1s;\n\t\ttransform: rotate(30deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(3)) {\n\t\tanimation-delay: -1s;\n\t\ttransform: rotate(60deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(4)) {\n\t\tanimation-delay: -0.9s;\n\t\ttransform: rotate(90deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(5)) {\n\t\tanimation-delay: -0.8s;\n\t\ttransform: rotate(120deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(6)) {\n\t\tanimation-delay: -0.7s;\n\t\ttransform: rotate(150deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(7)) {\n\t\tanimation-delay: -0.6s;\n\t\ttransform: rotate(180deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(8)) {\n\t\tanimation-delay: -0.5s;\n\t\ttransform: rotate(210deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(9)) {\n\t\tanimation-delay: -0.4s;\n\t\ttransform: rotate(240deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(10)) {\n\t\tanimation-delay: -0.3s;\n\t\ttransform: rotate(270deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(11)) {\n\t\tanimation-delay: -0.2s;\n\t\ttransform: rotate(300deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(12)) {\n\t\tanimation-delay: -0.1s;\n\t\ttransform: rotate(330deg) translate(146%);\n\t}\n\n\t@keyframes -global-sonner-fade-in {\n\t\t0% {\n\t\t\topacity: 0;\n\t\t\ttransform: scale(0.8);\n\t\t}\n\t\t100% {\n\t\t\topacity: 1;\n\t\t\ttransform: scale(1);\n\t\t}\n\t}\n\n\t@keyframes -global-sonner-fade-out {\n\t\t0% {\n\t\t\topacity: 1;\n\t\t\ttransform: scale(1);\n\t\t}\n\t\t100% {\n\t\t\topacity: 0;\n\t\t\ttransform: scale(0.8);\n\t\t}\n\t}\n\n\t@keyframes -global-sonner-spin {\n\t\t0% {\n\t\t\topacity: 1;\n\t\t}\n\t\t100% {\n\t\t\topacity: 0.15;\n\t\t}\n\t}\n\n\t@media (prefers-reduced-motion) {\n\t\t:global([data-sonner-toast]),\n\t\t:global([data-sonner-toast]) > :global(*),\n\t\t:global(.sonner-loading-bar) {\n\t\t\ttransition: none !important;\n\t\t\tanimation: none !important;\n\t\t}\n\t}\n\n\t:global(.sonner-loader) {\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\ttransform-origin: center;\n\t\ttransition:\n\t\t\topacity 200ms,\n\t\t\ttransform 200ms;\n\t}\n\n\t:global(.sonner-loader[data-visible='false']) {\n\t\topacity: 0;\n\t\ttransform: scale(0.8) translate(-50%, -50%);\n\t}\n</style>\n","import {\n\tpage as _page,\n\tnavigating as _navigating,\n\tupdated as _updated\n} from '../../client/state.svelte.js';\nimport { stores } from '../../client/client.js';\n\nexport const page = {\n\tget data() {\n\t\treturn _page.data;\n\t},\n\tget error() {\n\t\treturn _page.error;\n\t},\n\tget form() {\n\t\treturn _page.form;\n\t},\n\tget params() {\n\t\treturn _page.params;\n\t},\n\tget route() {\n\t\treturn _page.route;\n\t},\n\tget state() {\n\t\treturn _page.state;\n\t},\n\tget status() {\n\t\treturn _page.status;\n\t},\n\tget url() {\n\t\treturn _page.url;\n\t}\n};\n\nexport const navigating = {\n\tget from() {\n\t\treturn _navigating.current ? _navigating.current.from : null;\n\t},\n\tget to() {\n\t\treturn _navigating.current ? _navigating.current.to : null;\n\t},\n\tget type() {\n\t\treturn _navigating.current ? _navigating.current.type : null;\n\t},\n\tget willUnload() {\n\t\treturn _navigating.current ? _navigating.current.willUnload : null;\n\t},\n\tget delta() {\n\t\treturn _navigating.current ? _navigating.current.delta : null;\n\t},\n\tget complete() {\n\t\treturn _navigating.current ? _navigating.current.complete : null;\n\t}\n};\n\nObject.defineProperty(navigating, 'current', {\n\tget() {\n\t\t// between 2.12.0 and 2.12.1 `navigating.current` existed\n\t\tthrow new Error('Replace navigating.current.<prop> with navigating.<prop>');\n\t}\n});\n\nexport const updated = {\n\tget current() {\n\t\treturn _updated.current;\n\t},\n\tcheck: stores.updated.check\n};\n","import {\n\tpage as client_page,\n\tnavigating as client_navigating,\n\tupdated as client_updated\n} from './client.js';\nimport {\n\tpage as server_page,\n\tnavigating as server_navigating,\n\tupdated as server_updated\n} from './server.js';\nimport { BROWSER } from 'esm-env';\n\n/**\n * A read-only reactive object with information about the current page, serving several use cases:\n * - retrieving the combined `data` of all pages/layouts anywhere in your component tree (also see [loading data](https://svelte.dev/docs/kit/load))\n * - retrieving the current value of the `form` prop anywhere in your component tree (also see [form actions](https://svelte.dev/docs/kit/form-actions))\n * - retrieving the page state that was set through `goto`, `pushState` or `replaceState` (also see [goto](https://svelte.dev/docs/kit/$app-navigation#goto) and [shallow routing](https://svelte.dev/docs/kit/shallow-routing))\n * - retrieving metadata such as the URL you're on, the current route and its parameters, and whether or not there was an error\n *\n * ```svelte\n * <!--- file: +layout.svelte --->\n * <script>\n * \timport { page } from '$app/state';\n * </script>\n *\n * <p>Currently at {page.url.pathname}</p>\n *\n * {#if page.error}\n * \t<span class=\"red\">Problem detected</span>\n * {:else}\n * \t<span class=\"small\">All systems operational</span>\n * {/if}\n * ```\n *\n * Changes to `page` are available exclusively with runes. (The legacy reactivity syntax will not reflect any changes)\n *\n * ```svelte\n * <!--- file: +page.svelte --->\n * <script>\n * \timport { page } from '$app/state';\n * \tconst id = $derived(page.params.id); // This will correctly update id for usage on this page\n * \t$: badId = page.params.id; // Do not use; will never update after initial load\n * </script>\n * ```\n *\n * On the server, values can only be read during rendering (in other words _not_ in e.g. `load` functions). In the browser, the values can be read at any time.\n *\n * @type {import('@sveltejs/kit').Page}\n */\nexport const page = BROWSER ? client_page : server_page;\n\n/**\n * A read-only object representing an in-progress navigation, with `from`, `to`, `type` and (if `type === 'popstate'`) `delta` properties.\n * Values are `null` when no navigation is occurring, or during server rendering.\n * @type {import('@sveltejs/kit').Navigation | { from: null, to: null, type: null, willUnload: null, delta: null, complete: null }}\n */\n// @ts-expect-error\nexport const navigating = BROWSER ? client_navigating : server_navigating;\n\n/**\n * A read-only reactive value that's initially `false`. If [`version.pollInterval`](https://svelte.dev/docs/kit/configuration#version) is a non-zero value, SvelteKit will poll for new versions of the app and update `current` to `true` when it detects one. `updated.check()` will force an immediate check, regardless of polling.\n * @type {{ get current(): boolean; check(): Promise<boolean>; }}\n */\nexport const updated = BROWSER ? client_updated : server_updated;\n","<script lang=\"ts\">\n\timport { WEBUI_BASE_URL } from '$lib/constants';\n\timport { settings, playingNotificationSound, isLastActiveTab } from '$lib/stores';\n\timport DOMPurify from 'dompurify';\n\n\timport { marked } from 'marked';\n\timport { createEventDispatcher, onMount } from 'svelte';\n\n\tconst dispatch = createEventDispatcher();\n\n\texport let onClick: Function = () => {};\n\texport let title: string = 'HI';\n\texport let content: string;\n\n\tlet startX = 0,\n\t\tstartY = 0;\n\tlet moved = false;\n\tconst DRAG_THRESHOLD_PX = 6;\n\n\tconst clickHandler = () => {\n\t\tonClick();\n\t\tdispatch('closeToast');\n\t};\n\n\tfunction onPointerDown(e: PointerEvent) {\n\t\tstartX = e.clientX;\n\t\tstartY = e.clientY;\n\t\tmoved = false;\n\t\t// Ensure we continue to get events even if the toast moves under the pointer.\n\t\t(e.currentTarget as HTMLElement).setPointerCapture?.(e.pointerId);\n\t}\n\n\tfunction onPointerMove(e: PointerEvent) {\n\t\tif (moved) return;\n\t\tconst dx = e.clientX - startX;\n\t\tconst dy = e.clientY - startY;\n\t\tif (dx * dx + dy * dy > DRAG_THRESHOLD_PX * DRAG_THRESHOLD_PX) {\n\t\t\tmoved = true;\n\t\t}\n\t}\n\n\tfunction onPointerUp(e: PointerEvent) {\n\t\t// Release capture if taken\n\t\t(e.currentTarget as HTMLElement).releasePointerCapture?.(e.pointerId);\n\n\t\t// Only treat as a click if there wasn't a drag\n\t\tif (!moved) {\n\t\t\tclickHandler();\n\t\t}\n\t}\n\n\tonMount(() => {\n\t\tif (!navigator.userActivation.hasBeenActive) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ($settings?.notificationSound ?? true) {\n\t\t\tif (!$playingNotificationSound && $isLastActiveTab) {\n\t\t\t\tplayingNotificationSound.set(true);\n\n\t\t\t\tconst audio = new Audio(`/audio/notification.mp3`);\n\t\t\t\taudio.play().finally(() => {\n\t\t\t\t\t// Ensure the global state is reset after the sound finishes\n\t\t\t\t\tplayingNotificationSound.set(false);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n</script>\n\n<!-- svelte-ignore a11y-click-events-have-key-events -->\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n<div\n\tclass=\"flex gap-2.5 text-left min-w-[var(--width)] w-full dark:bg-gray-850 dark:text-white bg-white text-black border border-gray-100 dark:border-gray-800 rounded-3xl px-4 py-3.5 cursor-pointer select-none\"\n\ton:dragstart|preventDefault\n\ton:pointerdown={onPointerDown}\n\ton:pointermove={onPointerMove}\n\ton:pointerup={onPointerUp}\n\ton:pointercancel={() => (moved = true)}\n\ton:keydown={(e) => {\n\t\tif (e.key === 'Enter' || e.key === ' ') {\n\t\t\te.preventDefault();\n\t\t\tclickHandler();\n\t\t}\n\t}}\n>\n\t<div class=\"shrink-0 self-top -translate-y-0.5\">\n\t\t<img src=\"{WEBUI_BASE_URL}/static/favicon.png\" alt=\"favicon\" class=\"size-6 rounded-full\" />\n\t</div>\n\n\t<div>\n\t\t{#if title}\n\t\t\t<div class=\" text-[13px] font-medium mb-0.5 line-clamp-1\">{title}</div>\n\t\t{/if}\n\n\t\t<div class=\" line-clamp-2 text-xs self-center dark:text-gray-300 font-normal\">\n\t\t\t{@html DOMPurify.sanitize(marked(content))}\n\t\t</div>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport { WEBUI_BASE_URL } from '$lib/constants';\n\n\tlet selected = '';\n</script>\n\n<div class=\"min-w-[4.5rem] bg-gray-50 dark:bg-gray-950 flex gap-2.5 flex-col pt-8\">\n\t<div class=\"flex justify-center relative\">\n\t\t{#if selected === 'home'}\n\t\t\t<div class=\"absolute top-0 left-0 flex h-full\">\n\t\t\t\t<div class=\"my-auto rounded-r-lg w-1 h-8 bg-black dark:bg-white\"></div>\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<Tooltip content=\"Home\" placement=\"right\">\n\t\t\t<button\n\t\t\t\tclass=\" cursor-pointer {selected === 'home' ? 'rounded-2xl' : 'rounded-full'}\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tselected = 'home';\n\n\t\t\t\t\tif (window.electronAPI) {\n\t\t\t\t\t\twindow.electronAPI.load('home');\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<img\n\t\t\t\t\tsrc=\"{WEBUI_BASE_URL}/static/splash.png\"\n\t\t\t\t\tclass=\"size-11 dark:invert p-0.5\"\n\t\t\t\t\talt=\"logo\"\n\t\t\t\t\tdraggable=\"false\"\n\t\t\t\t/>\n\t\t\t</button>\n\t\t</Tooltip>\n\t</div>\n\n\t<div class=\" -mt-1 border-[1.5px] border-gray-100 dark:border-gray-900 mx-4\"></div>\n\n\t<div class=\"flex justify-center relative group\">\n\t\t{#if selected === ''}\n\t\t\t<div class=\"absolute top-0 left-0 flex h-full\">\n\t\t\t\t<div class=\"my-auto rounded-r-lg w-1 h-8 bg-black dark:bg-white\"></div>\n\t\t\t</div>\n\t\t{/if}\n\t\t<button\n\t\t\tclass=\" cursor-pointer bg-transparent\"\n\t\t\ton:click={() => {\n\t\t\t\tselected = '';\n\t\t\t}}\n\t\t>\n\t\t\t<img\n\t\t\t\tsrc=\"{WEBUI_BASE_URL}/static/favicon.png\"\n\t\t\t\tclass=\"size-10 {selected === '' ? 'rounded-2xl' : 'rounded-full'}\"\n\t\t\t\talt=\"logo\"\n\t\t\t\tdraggable=\"false\"\n\t\t\t/>\n\t\t</button>\n\t</div>\n\n\t<!-- <div class=\"flex justify-center relative group text-gray-400\">\n\t\t<button class=\" cursor-pointer p-2\" on:click={() => {}}>\n\t\t\t<Plus className=\"size-4\" strokeWidth=\"2\" />\n\t\t</button>\n\t</div> -->\n</div>\n","<script lang=\"ts\">\n\timport { Confetti } from 'svelte-confetti';\n\timport { toast } from 'svelte-sonner';\n\timport { getContext, onMount, onDestroy, tick } from 'svelte';\n\n\timport { exportChatStats, exportSingleChatStats, downloadChatStats } from '$lib/apis/chats';\n\timport { getVersion } from '$lib/apis';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\texport let eventData = null;\n\n\t// Listen for verify:chat messages from opener\n\tconst handleMessage = async (event: MessageEvent) => {\n\t\t// Community sends: { type: 'verify:chat', data: { id: ... } }\n\t\tconst chatId = event.data?.data?.id ?? event.data?.id;\n\t\tif (event.data?.type === 'verify:chat' && chatId) {\n\t\t\ttry {\n\t\t\t\tconst res = await exportSingleChatStats(localStorage.token, chatId);\n\t\t\t\tif (res && window.opener) {\n\t\t\t\t\twindow.opener.postMessage(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'verify:chat:response',\n\t\t\t\t\t\t\tdata: res,\n\t\t\t\t\t\t\tchatId: chatId,\n\t\t\t\t\t\t\trequestId: event.data.requestId ?? null\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'*'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} catch (err: any) {\n\t\t\t\tconsole.error('Failed to verify chat:', err);\n\t\t\t\tif (window.opener) {\n\t\t\t\t\twindow.opener.postMessage(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'verify:chat:error',\n\t\t\t\t\t\t\terror: err?.detail || err?.message || 'Failed to verify chat',\n\t\t\t\t\t\t\tchatId: chatId,\n\t\t\t\t\t\t\trequestId: event.data.requestId ?? null\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'*'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// Watch for modal visibility changes to notify opener\n\t$: if (show && window.opener) {\n\t\twindow.opener.postMessage('loaded', '*');\n\t}\n\n\tonMount(() => {\n\t\twindow.addEventListener('message', handleMessage);\n\t});\n\n\tonDestroy(() => {\n\t\twindow.removeEventListener('message', handleMessage);\n\t});\n\n\t// State\n\tlet syncing = false;\n\tlet downloading = false;\n\tlet completed = false;\n\tlet error = false;\n\tlet errorMessage = '';\n\n\t// Progress tracking\n\tlet processedItemsCount = 0;\n\tlet total = 0;\n\n\t// Download controller for cancellation\n\tlet downloadController: AbortController | null = null;\n\n\t// Sync mode: 'incremental' or 'full'\n\tlet syncMode: 'incremental' | 'full' = 'incremental';\n\n\t// Reactive progress percentage\n\t$: progressPercent =\n\t\ttotal > 0 ? Math.min(Math.round((processedItemsCount / total) * 100), 100) : 0;\n\n\t// Helper to send postMessage to opener\n\tconst postToOpener = (message: object) => {\n\t\tif (window.opener) {\n\t\t\twindow.opener.postMessage({ ...message, requestId: eventData?.requestId ?? null }, '*');\n\t\t}\n\t};\n\n\t// Reset all state\n\tconst resetState = () => {\n\t\tsyncing = false;\n\t\tdownloading = false;\n\t\tcompleted = false;\n\t\terror = false;\n\t\terrorMessage = '';\n\t\tprocessedItemsCount = 0;\n\t\ttotal = 0;\n\t\tdownloadController = null;\n\t};\n\n\t// Handle error state\n\tconst handleError = (message: string) => {\n\t\tconsole.error('Sync error:', message);\n\t\terrorMessage = message;\n\t\terror = true;\n\t\tsyncing = false;\n\t\tdownloading = false;\n\t\tpostToOpener({ type: 'sync:error', error: message });\n\t};\n\n\t// Cancel ongoing operations\n\tconst cancelOperation = () => {\n\t\tif (downloadController) {\n\t\t\tdownloadController.abort();\n\t\t\tdownloadController = null;\n\t\t}\n\t\tsyncing = false;\n\t\tdownloading = false;\n\n\t\tpostToOpener({ type: 'sync:error', error: 'User cancelled the operation' });\n\t};\n\n\t// Sync stats to opener window\n\tconst syncStats = async () => {\n\t\tif (window.opener) {\n\t\t\twindow.opener.focus();\n\t\t}\n\t\tpostToOpener({ type: 'sync:start' });\n\n\t\tsyncing = true;\n\t\terror = false;\n\t\terrorMessage = '';\n\t\tprocessedItemsCount = 0;\n\t\ttotal = 0;\n\n\t\ttry {\n\t\t\t// Get version info\n\t\t\tconst versionRes = await getVersion(localStorage.token).catch((err) => {\n\t\t\t\tconsole.error('Failed to get version:', err);\n\t\t\t\treturn null;\n\t\t\t});\n\n\t\t\tif (versionRes) {\n\t\t\t\tpostToOpener({ type: 'sync:version', data: versionRes });\n\t\t\t}\n\n\t\t\t// Paginate through stats\n\t\t\tlet page = 1;\n\t\t\tlet allItemsLoaded = false;\n\n\t\t\twhile (!allItemsLoaded) {\n\t\t\t\t// Build search params, include updated_at for incremental mode\n\t\t\t\tconst searchParams = { ...(eventData?.searchParams ?? {}) };\n\t\t\t\tif (syncMode === 'incremental' && eventData?.lastSyncedChatUpdatedAt) {\n\t\t\t\t\tsearchParams.updated_at = eventData.lastSyncedChatUpdatedAt;\n\t\t\t\t}\n\n\t\t\t\tconst res = await exportChatStats(localStorage.token, page, searchParams).catch((err) => {\n\t\t\t\t\tthrow new Error(err?.detail || err?.message || 'Failed to export chat stats');\n\t\t\t\t});\n\n\t\t\t\tif (!res) {\n\t\t\t\t\tthrow new Error('Failed to fetch stats data');\n\t\t\t\t}\n\n\t\t\t\tprocessedItemsCount += res.items.length;\n\t\t\t\ttotal = res.total;\n\n\t\t\t\t// Allow UI to repaint\n\t\t\t\tawait tick();\n\n\t\t\t\tif (window.opener && res.items.length > 0) {\n\t\t\t\t\tpostToOpener({ type: 'sync:stats:chats', data: res });\n\t\t\t\t}\n\n\t\t\t\tif (processedItemsCount >= total || res.items.length === 0) {\n\t\t\t\t\tallItemsLoaded = true;\n\t\t\t\t} else {\n\t\t\t\t\tpage += 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Success\n\t\t\tpostToOpener({ type: 'sync:complete' });\n\t\t\tsyncing = false;\n\t\t\tcompleted = true;\n\t\t} catch (err: any) {\n\t\t\thandleError(err?.message || 'An unexpected error occurred');\n\t\t}\n\t};\n\n\t// Download stats as JSON file\n\tconst downloadHandler = async () => {\n\t\tif (downloading) {\n\t\t\tcancelOperation();\n\t\t\treturn;\n\t\t}\n\n\t\tdownloading = true;\n\t\tsyncing = true;\n\t\terror = false;\n\t\terrorMessage = '';\n\t\tprocessedItemsCount = 0;\n\t\ttotal = 0;\n\n\t\ttry {\n\t\t\t// Get total count first (no filters for download - get all)\n\t\t\tconst initialRes = await exportChatStats(localStorage.token, 1, {}).catch(() => null);\n\n\t\t\tif (initialRes?.total) {\n\t\t\t\ttotal = initialRes.total;\n\t\t\t}\n\n\t\t\t// Allow UI to show the total\n\t\t\tawait tick();\n\n\t\t\t// Get version for filename\n\t\t\tconst versionRes = await getVersion(localStorage.token).catch(() => null);\n\t\t\tconst version = versionRes?.version ?? '0.0.0';\n\t\t\tconst filename = `open-webui-stats-${version}-${Date.now()}.json`;\n\n\t\t\t// Start streaming download\n\t\t\tconst searchParams = eventData?.searchParams ?? {};\n\t\t\tconst [res, controller] = await downloadChatStats(\n\t\t\t\tlocalStorage.token,\n\t\t\t\tsearchParams.updated_at\n\t\t\t).catch((err) => {\n\t\t\t\tthrow new Error(\n\t\t\t\t\terr?.detail || 'Failed to connect to the server. Please check your connection.'\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tif (!res) {\n\t\t\t\tthrow new Error('Failed to start download. The server may be unavailable.');\n\t\t\t}\n\n\t\t\tdownloadController = controller;\n\t\t\tconst reader = res.body.getReader();\n\t\t\tconst decoder = new TextDecoder();\n\n\t\t\tconst items: any[] = [];\n\t\t\tlet buffer = '';\n\n\t\t\twhile (true) {\n\t\t\t\tconst { done, value } = await reader.read();\n\t\t\t\tif (done) break;\n\n\t\t\t\tbuffer += decoder.decode(value, { stream: true });\n\t\t\t\tconst lines = buffer.split('\\n');\n\t\t\t\tbuffer = lines.pop() || '';\n\n\t\t\t\tfor (const line of lines) {\n\t\t\t\t\tif (line.trim() !== '') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\titems.push(JSON.parse(line));\n\t\t\t\t\t\t\tprocessedItemsCount += 1;\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.error('Error parsing line:', e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Allow UI to repaint after each chunk\n\t\t\t\tawait tick();\n\t\t\t}\n\n\t\t\t// Process remaining buffer\n\t\t\tif (buffer.trim() !== '') {\n\t\t\t\ttry {\n\t\t\t\t\titems.push(JSON.parse(buffer));\n\t\t\t\t\tprocessedItemsCount += 1;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error('Error parsing buffer:', e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Trigger download if not cancelled\n\t\t\tif (downloading) {\n\t\t\t\tconst blob = new Blob([JSON.stringify(items)], { type: 'application/json' });\n\t\t\t\tconst url = window.URL.createObjectURL(blob);\n\t\t\t\tconst a = document.createElement('a');\n\t\t\t\ta.href = url;\n\t\t\t\ta.download = filename;\n\t\t\t\tdocument.body.appendChild(a);\n\t\t\t\ta.click();\n\t\t\t\tdocument.body.removeChild(a);\n\t\t\t\twindow.URL.revokeObjectURL(url);\n\t\t\t}\n\t\t} catch (err: any) {\n\t\t\t// Don't show error if user cancelled the download\n\t\t\tif (err?.name === 'AbortError' || err?.message?.includes('aborted')) {\n\t\t\t\t// User cancelled - just reset state silently\n\t\t\t} else {\n\t\t\t\thandleError(err?.message || 'Download failed. Please try again.');\n\t\t\t\ttoast.error(errorMessage);\n\t\t\t}\n\t\t} finally {\n\t\t\tdownloading = false;\n\t\t\tsyncing = false;\n\t\t\tdownloadController = null;\n\t\t}\n\t};\n\n\t// Close modal and reset state\n\tconst closeModal = () => {\n\t\tshow = false;\n\t\tresetState();\n\t};\n</script>\n\n<Modal bind:show size=\"md\">\n\t<div class=\"w-full\">\n\t\t{#if completed}\n\t\t\t<div class=\"px-5.5 py-5\">\n\t\t\t\t<div class=\"mb-1 text-xl font-medium\">{$i18n.t('Sync Complete!')}</div>\n\t\t\t\t<div class=\"mb-3 text-xs text-gray-500\">\n\t\t\t\t\t{$i18n.t('Your usage stats have been successfully synced.')}\n\t\t\t\t</div>\n\n\t\t\t\t<Confetti x={[-0.5, 0.5]} y={[0.25, 1]} />\n\n\t\t\t\t<div class=\"flex justify-end\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"flex items-center justify-center gap-2 rounded-full bg-black px-4 py-2 text-sm text-white transition hover:bg-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100\"\n\t\t\t\t\t\ton:click={closeModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Done')}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{:else if error}\n\t\t\t<div class=\"px-5.5 py-5\">\n\t\t\t\t<div class=\"mb-1 text-xl font-medium\">{$i18n.t('Sync Failed')}</div>\n\t\t\t\t<div class=\"mb-3 text-xs text-gray-500\">\n\t\t\t\t\t{errorMessage || $i18n.t('There was an error syncing your stats. Please try again.')}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"flex justify-end\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"flex items-center justify-center gap-2 rounded-full bg-black px-4 py-2 text-sm text-white transition hover:bg-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\terror = false;\n\t\t\t\t\t\t\terrorMessage = '';\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Try Again')}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"flex justify-between px-5 pt-4 pb-0.5\">\n\t\t\t\t<div class=\"text-lg font-medium self-center\">{$i18n.t('Sync Usage Stats')}</div>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"self-center\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tshow = false;\n\t\t\t\t\t}}\n\t\t\t\t\tdisabled={syncing}\n\t\t\t\t>\n\t\t\t\t\t<XMark className={'size-5'} />\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div class=\"px-5 pt-2 pb-5\">\n\t\t\t\t<div class=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t{$i18n.t('Do you want to sync your usage stats with Open WebUI Community?')}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mt-2 text-xs text-gray-500\">\n\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t'Participate in community leaderboards and evaluations! Syncing aggregated usage stats helps drive research and improvements to Open WebUI. Your privacy is paramount: no message content is ever shared.'\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mt-3 text-xs text-gray-500\">\n\t\t\t\t\t<div class=\"font-medium text-gray-900 dark:text-gray-100 mb-1\">\n\t\t\t\t\t\t{$i18n.t('What is shared:')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul class=\"list-disc list-inside space-y-0.5 ml-1 mb-2\">\n\t\t\t\t\t\t<li>{$i18n.t('Open WebUI version')}</li>\n\t\t\t\t\t\t<li>{$i18n.t('Model names and usage frequency')}</li>\n\t\t\t\t\t\t<li>{$i18n.t('Message counts and response timestamps')}</li>\n\t\t\t\t\t\t<li>{$i18n.t('Content lengths (character counts only)')}</li>\n\t\t\t\t\t\t<li>{$i18n.t('User ratings (thumbs up/down)')}</li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<div class=\"font-medium text-gray-900 dark:text-gray-100 mb-1\">\n\t\t\t\t\t\t{$i18n.t('What is NOT shared:')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul class=\"list-disc list-inside space-y-0.5 ml-1\">\n\t\t\t\t\t\t<li>{$i18n.t('Your message text or inputs')}</li>\n\t\t\t\t\t\t<li>{$i18n.t('Model responses or outputs')}</li>\n\t\t\t\t\t\t<li>{$i18n.t('Uploaded files or images')}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\n\t\t\t\t{#if eventData?.lastSyncedChatUpdatedAt}\n\t\t\t\t\t<div class=\"mt-3\">\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t'Syncs only chats with updates after your last sync timestamp. Disable to re-sync all chats.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<label class=\"flex items-center gap-2 text-xs cursor-pointer\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tchecked={syncMode === 'incremental'}\n\t\t\t\t\t\t\t\t\ton:change={(e) => (syncMode = e.target.checked ? 'incremental' : 'full')}\n\t\t\t\t\t\t\t\t\tdisabled={syncing}\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 rounded border-gray-300 dark:border-gray-600\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"text-gray-700 dark:text-gray-300\"\n\t\t\t\t\t\t\t\t\t>{$i18n.t('Only sync new/updated chats')}</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t{#if syncing}\n\t\t\t\t\t<div class=\"mt-3 mx-1.5\">\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500 mb-1 flex justify-between\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{downloading ? $i18n.t('Downloading stats...') : $i18n.t('Syncing stats...')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{#if total > 0}\n\t\t\t\t\t\t\t\t\t{processedItemsCount}/{total}\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"w-full bg-gray-200 rounded-full h-1.5 dark:bg-gray-700 overflow-hidden\">\n\t\t\t\t\t\t\t{#if total > 0}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"bg-gray-900 dark:bg-gray-100 h-1.5 rounded-full transition-all duration-300\"\n\t\t\t\t\t\t\t\t\tstyle=\"width: {progressPercent}%\"\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"bg-gray-900 dark:bg-gray-100 h-1.5 w-0 rounded-full animate-pulse\"\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"mt-5 flex justify-between items-center gap-2\">\n\t\t\t\t\t<div class=\"text-xs text-gray-400 text-center mr-auto\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"hover:underline px-2\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={downloadHandler}\n\t\t\t\t\t\t\tdisabled={syncing && !downloading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{downloading ? $i18n.t('Stop Download') : $i18n.t('Download as JSON')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"px-4 py-2 rounded-full text-sm font-medium bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100 transition disabled:cursor-not-allowed\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tif (syncing) {\n\t\t\t\t\t\t\t\tcancelOperation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Cancel')}\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition-colors rounded-full\"\n\t\t\t\t\t\ton:click={syncStats}\n\t\t\t\t\t\tdisabled={syncing}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if syncing && !downloading}\n\t\t\t\t\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<Spinner className=\"size-3\" />\n\t\t\t\t\t\t\t\t<span>{$i18n.t('Syncing...')}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t{$i18n.t('Sync')}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</Modal>\n","<script>\n\timport { io } from 'socket.io-client';\n\timport { spring } from 'svelte/motion';\n\timport PyodideWorker from '$lib/workers/pyodide.worker?worker';\n\timport { Toaster, toast } from 'svelte-sonner';\n\n\tlet loadingProgress = spring(0, {\n\t\tstiffness: 0.05\n\t});\n\n\timport { onMount, tick, setContext, onDestroy } from 'svelte';\n\timport {\n\t\tconfig,\n\t\tuser,\n\t\tsettings,\n\t\ttheme,\n\t\tWEBUI_NAME,\n\t\tWEBUI_VERSION,\n\t\tWEBUI_DEPLOYMENT_ID,\n\t\tmobile,\n\t\tsocket,\n\t\tchatId,\n\t\tchats,\n\t\tcurrentChatPage,\n\t\ttags,\n\t\ttemporaryChatEnabled,\n\t\tisLastActiveTab,\n\t\tisApp,\n\t\tappInfo,\n\t\ttoolServers,\n\t\tplayingNotificationSound,\n\t\tchannels,\n\t\tchannelId\n\t} from '$lib/stores';\n\timport { goto } from '$app/navigation';\n\timport { page } from '$app/stores';\n\timport { beforeNavigate } from '$app/navigation';\n\timport { updated } from '$app/state';\n\n\timport i18n, { initI18n, getLanguages, changeLanguage } from '$lib/i18n';\n\n\timport '../tailwind.css';\n\timport '../app.css';\n\timport 'tippy.js/dist/tippy.css';\n\n\timport { executeToolServer, getBackendConfig, getVersion } from '$lib/apis';\n\timport { getSessionUser, userSignOut } from '$lib/apis/auths';\n\timport { getAllTags, getChatList } from '$lib/apis/chats';\n\timport { chatCompletion } from '$lib/apis/openai';\n\n\timport { WEBUI_API_BASE_URL, WEBUI_BASE_URL, WEBUI_HOSTNAME } from '$lib/constants';\n\timport { bestMatchingLanguage } from '$lib/utils';\n\timport { setTextScale } from '$lib/utils/text-scale';\n\n\timport NotificationToast from '$lib/components/NotificationToast.svelte';\n\timport AppSidebar from '$lib/components/app/AppSidebar.svelte';\n\timport SyncStatsModal from '$lib/components/chat/Settings/SyncStatsModal.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport { getUserSettings } from '$lib/apis/users';\n\timport dayjs from 'dayjs';\n\timport { getChannels } from '$lib/apis/channels';\n\n\tconst unregisterServiceWorkers = async () => {\n\t\tif ('serviceWorker' in navigator) {\n\t\t\ttry {\n\t\t\t\tconst registrations = await navigator.serviceWorker.getRegistrations();\n\t\t\t\tawait Promise.all(registrations.map((r) => r.unregister()));\n\t\t\t\treturn true;\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error unregistering service workers:', error);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t// handle frontend updates (https://svelte.dev/docs/kit/configuration#version)\n\tbeforeNavigate(async ({ willUnload, to }) => {\n\t\tif (updated.current && !willUnload && to?.url) {\n\t\t\tawait unregisterServiceWorkers();\n\t\t\tlocation.href = to.url.href;\n\t\t}\n\t});\n\n\tsetContext('i18n', i18n);\n\n\tconst bc = new BroadcastChannel('active-tab-channel');\n\n\tlet loaded = false;\n\tlet tokenTimer = null;\n\n\tlet showRefresh = false;\n\n\tlet showSyncStatsModal = false;\n\tlet syncStatsEventData = null;\n\n\tlet heartbeatInterval = null;\n\n\tconst BREAKPOINT = 768;\n\n\tconst setupSocket = async (enableWebsocket) => {\n\t\tconst _socket = io(`${WEBUI_BASE_URL}` || undefined, {\n\t\t\treconnection: true,\n\t\t\treconnectionDelay: 1000,\n\t\t\treconnectionDelayMax: 5000,\n\t\t\trandomizationFactor: 0.5,\n\t\t\tpath: '/ws/socket.io',\n\t\t\ttransports: enableWebsocket ? ['websocket'] : ['polling', 'websocket'],\n\t\t\tauth: { token: localStorage.token }\n\t\t});\n\t\tawait socket.set(_socket);\n\n\t\t_socket.on('connect_error', (err) => {\n\t\t\tconsole.log('connect_error', err);\n\t\t});\n\n\t\t_socket.on('connect', async () => {\n\t\t\tconsole.log('connected', _socket.id);\n\t\t\tconst res = await getVersion(localStorage.token);\n\n\t\t\tconst deploymentId = res?.deployment_id ?? null;\n\t\t\tconst version = res?.version ?? null;\n\n\t\t\tif (version !== null || deploymentId !== null) {\n\t\t\t\tif (\n\t\t\t\t\t($WEBUI_VERSION !== null && version !== $WEBUI_VERSION) ||\n\t\t\t\t\t($WEBUI_DEPLOYMENT_ID !== null && deploymentId !== $WEBUI_DEPLOYMENT_ID)\n\t\t\t\t) {\n\t\t\t\t\tawait unregisterServiceWorkers();\n\t\t\t\t\tlocation.href = location.href;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Send heartbeat every 30 seconds\n\t\t\theartbeatInterval = setInterval(() => {\n\t\t\t\tif (_socket.connected) {\n\t\t\t\t\tconsole.log('Sending heartbeat');\n\t\t\t\t\t_socket.emit('heartbeat', {});\n\t\t\t\t}\n\t\t\t}, 30000);\n\n\t\t\tif (deploymentId !== null) {\n\t\t\t\tWEBUI_DEPLOYMENT_ID.set(deploymentId);\n\t\t\t}\n\n\t\t\tif (version !== null) {\n\t\t\t\tWEBUI_VERSION.set(version);\n\t\t\t}\n\n\t\t\tconsole.log('version', version);\n\n\t\t\tif (localStorage.getItem('token')) {\n\t\t\t\t// Emit user-join event with auth token\n\t\t\t\t_socket.emit('user-join', { auth: { token: localStorage.token } });\n\t\t\t} else {\n\t\t\t\tconsole.warn('No token found in localStorage, user-join event not emitted');\n\t\t\t}\n\t\t});\n\n\t\t_socket.on('reconnect_attempt', (attempt) => {\n\t\t\tconsole.log('reconnect_attempt', attempt);\n\t\t});\n\n\t\t_socket.on('reconnect_failed', () => {\n\t\t\tconsole.log('reconnect_failed');\n\t\t});\n\n\t\t_socket.on('disconnect', (reason, details) => {\n\t\t\tconsole.log(`Socket ${_socket.id} disconnected due to ${reason}`);\n\n\t\t\tif (heartbeatInterval) {\n\t\t\t\tclearInterval(heartbeatInterval);\n\t\t\t\theartbeatInterval = null;\n\t\t\t}\n\n\t\t\tif (details) {\n\t\t\t\tconsole.log('Additional details:', details);\n\t\t\t}\n\t\t});\n\t};\n\n\tconst executePythonAsWorker = async (id, code, cb) => {\n\t\tlet result = null;\n\t\tlet stdout = null;\n\t\tlet stderr = null;\n\n\t\tlet executing = true;\n\t\tlet packages = [\n\t\t\t/\\bimport\\s+requests\\b|\\bfrom\\s+requests\\b/.test(code) ? 'requests' : null,\n\t\t\t/\\bimport\\s+bs4\\b|\\bfrom\\s+bs4\\b/.test(code) ? 'beautifulsoup4' : null,\n\t\t\t/\\bimport\\s+numpy\\b|\\bfrom\\s+numpy\\b/.test(code) ? 'numpy' : null,\n\t\t\t/\\bimport\\s+pandas\\b|\\bfrom\\s+pandas\\b/.test(code) ? 'pandas' : null,\n\t\t\t/\\bimport\\s+matplotlib\\b|\\bfrom\\s+matplotlib\\b/.test(code) ? 'matplotlib' : null,\n\t\t\t/\\bimport\\s+seaborn\\b|\\bfrom\\s+seaborn\\b/.test(code) ? 'seaborn' : null,\n\t\t\t/\\bimport\\s+sklearn\\b|\\bfrom\\s+sklearn\\b/.test(code) ? 'scikit-learn' : null,\n\t\t\t/\\bimport\\s+scipy\\b|\\bfrom\\s+scipy\\b/.test(code) ? 'scipy' : null,\n\t\t\t/\\bimport\\s+re\\b|\\bfrom\\s+re\\b/.test(code) ? 'regex' : null,\n\t\t\t/\\bimport\\s+seaborn\\b|\\bfrom\\s+seaborn\\b/.test(code) ? 'seaborn' : null,\n\t\t\t/\\bimport\\s+sympy\\b|\\bfrom\\s+sympy\\b/.test(code) ? 'sympy' : null,\n\t\t\t/\\bimport\\s+tiktoken\\b|\\bfrom\\s+tiktoken\\b/.test(code) ? 'tiktoken' : null,\n\t\t\t/\\bimport\\s+pytz\\b|\\bfrom\\s+pytz\\b/.test(code) ? 'pytz' : null\n\t\t].filter(Boolean);\n\n\t\tconst pyodideWorker = new PyodideWorker();\n\n\t\tpyodideWorker.postMessage({\n\t\t\tid: id,\n\t\t\tcode: code,\n\t\t\tpackages: packages\n\t\t});\n\n\t\tsetTimeout(() => {\n\t\t\tif (executing) {\n\t\t\t\texecuting = false;\n\t\t\t\tstderr = 'Execution Time Limit Exceeded';\n\t\t\t\tpyodideWorker.terminate();\n\n\t\t\t\tif (cb) {\n\t\t\t\t\tcb(\n\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstdout: stdout,\n\t\t\t\t\t\t\t\t\tstderr: stderr,\n\t\t\t\t\t\t\t\t\tresult: result\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t(_key, value) => (typeof value === 'bigint' ? value.toString() : value)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}, 60000);\n\n\t\tpyodideWorker.onmessage = (event) => {\n\t\t\tconsole.log('pyodideWorker.onmessage', event);\n\t\t\tconst { id, ...data } = event.data;\n\n\t\t\tconsole.log(id, data);\n\n\t\t\tdata['stdout'] && (stdout = data['stdout']);\n\t\t\tdata['stderr'] && (stderr = data['stderr']);\n\t\t\tdata['result'] && (result = data['result']);\n\n\t\t\tif (cb) {\n\t\t\t\tcb(\n\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstdout: stdout,\n\t\t\t\t\t\t\t\tstderr: stderr,\n\t\t\t\t\t\t\t\tresult: result\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(_key, value) => (typeof value === 'bigint' ? value.toString() : value)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\texecuting = false;\n\t\t};\n\n\t\tpyodideWorker.onerror = (event) => {\n\t\t\tconsole.log('pyodideWorker.onerror', event);\n\n\t\t\tif (cb) {\n\t\t\t\tcb(\n\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstdout: stdout,\n\t\t\t\t\t\t\t\tstderr: stderr,\n\t\t\t\t\t\t\t\tresult: result\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(_key, value) => (typeof value === 'bigint' ? value.toString() : value)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\texecuting = false;\n\t\t};\n\t};\n\n\tconst executeTool = async (data, cb) => {\n\t\tconst toolServer = $settings?.toolServers?.find((server) => server.url === data.server?.url);\n\t\tconst toolServerData = $toolServers?.find((server) => server.url === data.server?.url);\n\n\t\tconsole.log('executeTool', data, toolServer);\n\n\t\tif (toolServer) {\n\t\t\tconsole.log(toolServer);\n\n\t\t\tlet toolServerToken = null;\n\t\t\tconst auth_type = toolServer?.auth_type ?? 'bearer';\n\t\t\tif (auth_type === 'bearer') {\n\t\t\t\ttoolServerToken = toolServer?.key;\n\t\t\t} else if (auth_type === 'none') {\n\t\t\t\t// No authentication\n\t\t\t} else if (auth_type === 'session') {\n\t\t\t\ttoolServerToken = localStorage.token;\n\t\t\t}\n\n\t\t\tconst res = await executeToolServer(\n\t\t\t\ttoolServerToken,\n\t\t\t\ttoolServer.url,\n\t\t\t\tdata?.name,\n\t\t\t\tdata?.params,\n\t\t\t\ttoolServerData\n\t\t\t);\n\n\t\t\tconsole.log('executeToolServer', res);\n\t\t\tif (cb) {\n\t\t\t\tcb(JSON.parse(JSON.stringify(res)));\n\t\t\t}\n\t\t} else {\n\t\t\tif (cb) {\n\t\t\t\tcb(\n\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\terror: 'Tool Server Not Found'\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst chatEventHandler = async (event, cb) => {\n\t\tconst chat = $page.url.pathname.includes(`/c/${event.chat_id}`);\n\n\t\tlet isFocused = document.visibilityState !== 'visible';\n\t\tif (window.electronAPI) {\n\t\t\tconst res = await window.electronAPI.send({\n\t\t\t\ttype: 'window:isFocused'\n\t\t\t});\n\t\t\tif (res) {\n\t\t\t\tisFocused = res.isFocused;\n\t\t\t}\n\t\t}\n\n\t\tawait tick();\n\t\tconst type = event?.data?.type ?? null;\n\t\tconst data = event?.data?.data ?? null;\n\n\t\tif ((event.chat_id !== $chatId && !$temporaryChatEnabled) || isFocused) {\n\t\t\tif (type === 'chat:completion') {\n\t\t\t\tconst { done, content, title } = data;\n\n\t\t\t\tif (done) {\n\t\t\t\t\tif ($settings?.notificationSoundAlways ?? false) {\n\t\t\t\t\t\tplayingNotificationSound.set(true);\n\n\t\t\t\t\t\tconst audio = new Audio(`/audio/notification.mp3`);\n\t\t\t\t\t\taudio.play().finally(() => {\n\t\t\t\t\t\t\t// Ensure the global state is reset after the sound finishes\n\t\t\t\t\t\t\tplayingNotificationSound.set(false);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($isLastActiveTab) {\n\t\t\t\t\t\tif ($settings?.notificationEnabled ?? false) {\n\t\t\t\t\t\t\tnew Notification(`${title}  Open WebUI`, {\n\t\t\t\t\t\t\t\tbody: content,\n\t\t\t\t\t\t\t\ticon: `${WEBUI_BASE_URL}/static/favicon.png`\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttoast.custom(NotificationToast, {\n\t\t\t\t\t\tcomponentProps: {\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tgoto(`/c/${event.chat_id}`);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcontent: content,\n\t\t\t\t\t\t\ttitle: title\n\t\t\t\t\t\t},\n\t\t\t\t\t\tduration: 15000,\n\t\t\t\t\t\tunstyled: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (type === 'chat:title') {\n\t\t\t\tcurrentChatPage.set(1);\n\t\t\t\tawait chats.set(await getChatList(localStorage.token, $currentChatPage));\n\t\t\t} else if (type === 'chat:tags') {\n\t\t\t\ttags.set(await getAllTags(localStorage.token));\n\t\t\t}\n\t\t} else if (data?.session_id === $socket.id) {\n\t\t\tif (type === 'execute:python') {\n\t\t\t\tconsole.log('execute:python', data);\n\t\t\t\texecutePythonAsWorker(data.id, data.code, cb);\n\t\t\t} else if (type === 'execute:tool') {\n\t\t\t\tconsole.log('execute:tool', data);\n\t\t\t\texecuteTool(data, cb);\n\t\t\t} else if (type === 'request:chat:completion') {\n\t\t\t\tconsole.log(data, $socket.id);\n\t\t\t\tconst { session_id, channel, form_data, model } = data;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst directConnections = $settings?.directConnections ?? {};\n\n\t\t\t\t\tif (directConnections) {\n\t\t\t\t\t\tconst urlIdx = model?.urlIdx;\n\n\t\t\t\t\t\tconst OPENAI_API_URL = directConnections.OPENAI_API_BASE_URLS[urlIdx];\n\t\t\t\t\t\tconst OPENAI_API_KEY = directConnections.OPENAI_API_KEYS[urlIdx];\n\t\t\t\t\t\tconst API_CONFIG = directConnections.OPENAI_API_CONFIGS[urlIdx];\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (API_CONFIG?.prefix_id) {\n\t\t\t\t\t\t\t\tconst prefixId = API_CONFIG.prefix_id;\n\t\t\t\t\t\t\t\tform_data['model'] = form_data['model'].replace(`${prefixId}.`, ``);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst [res, controller] = await chatCompletion(\n\t\t\t\t\t\t\t\tOPENAI_API_KEY,\n\t\t\t\t\t\t\t\tform_data,\n\t\t\t\t\t\t\t\tOPENAI_API_URL\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t// raise if the response is not ok\n\t\t\t\t\t\t\t\tif (!res.ok) {\n\t\t\t\t\t\t\t\t\tthrow await res.json();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (form_data?.stream ?? false) {\n\t\t\t\t\t\t\t\t\tcb({\n\t\t\t\t\t\t\t\t\t\tstatus: true\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tconsole.log({ status: true });\n\n\t\t\t\t\t\t\t\t\t// res will either be SSE or JSON\n\t\t\t\t\t\t\t\t\tconst reader = res.body.getReader();\n\t\t\t\t\t\t\t\t\tconst decoder = new TextDecoder();\n\n\t\t\t\t\t\t\t\t\tconst processStream = async () => {\n\t\t\t\t\t\t\t\t\t\twhile (true) {\n\t\t\t\t\t\t\t\t\t\t\t// Read data chunks from the response stream\n\t\t\t\t\t\t\t\t\t\t\tconst { done, value } = await reader.read();\n\t\t\t\t\t\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Decode the received chunk\n\t\t\t\t\t\t\t\t\t\t\tconst chunk = decoder.decode(value, { stream: true });\n\n\t\t\t\t\t\t\t\t\t\t\t// Process lines within the chunk\n\t\t\t\t\t\t\t\t\t\t\tconst lines = chunk.split('\\n').filter((line) => line.trim() !== '');\n\n\t\t\t\t\t\t\t\t\t\t\tfor (const line of lines) {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(line);\n\t\t\t\t\t\t\t\t\t\t\t\t$socket?.emit(channel, line);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Process the stream in the background\n\t\t\t\t\t\t\t\t\tawait processStream();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst data = await res.json();\n\t\t\t\t\t\t\t\t\tcb(data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthrow new Error('An error occurred while fetching the completion');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error('chatCompletion', error);\n\t\t\t\t\t\t\tcb(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('chatCompletion', error);\n\t\t\t\t\tcb(error);\n\t\t\t\t} finally {\n\t\t\t\t\t$socket.emit(channel, {\n\t\t\t\t\t\tdone: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.log('chatEventHandler', event);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst channelEventHandler = async (event) => {\n\t\tconsole.log('channelEventHandler', event);\n\t\tif (event.data?.type === 'typing') {\n\t\t\treturn;\n\t\t}\n\n\t\t// handle channel created event\n\t\tif (event.data?.type === 'channel:created') {\n\t\t\tconst res = await getChannels(localStorage.token).catch(async (error) => {\n\t\t\t\treturn null;\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\tawait channels.set(\n\t\t\t\t\tres.sort(\n\t\t\t\t\t\t(a, b) =>\n\t\t\t\t\t\t\t['', null, 'group', 'dm'].indexOf(a.type) - ['', null, 'group', 'dm'].indexOf(b.type)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// check url path\n\t\tconst channel = $page.url.pathname.includes(`/channels/${event.channel_id}`);\n\n\t\tlet isFocused = document.visibilityState !== 'visible';\n\t\tif (window.electronAPI) {\n\t\t\tconst res = await window.electronAPI.send({\n\t\t\t\ttype: 'window:isFocused'\n\t\t\t});\n\t\t\tif (res) {\n\t\t\t\tisFocused = res.isFocused;\n\t\t\t}\n\t\t}\n\n\t\tif ((!channel || isFocused) && event?.user?.id !== $user?.id) {\n\t\t\tawait tick();\n\t\t\tconst type = event?.data?.type ?? null;\n\t\t\tconst data = event?.data?.data ?? null;\n\n\t\t\tif ($channels) {\n\t\t\t\tif ($channels.find((ch) => ch.id === event.channel_id) && $channelId !== event.channel_id) {\n\t\t\t\t\tchannels.set(\n\t\t\t\t\t\t$channels.map((ch) => {\n\t\t\t\t\t\t\tif (ch.id === event.channel_id) {\n\t\t\t\t\t\t\t\tif (type === 'message') {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t...ch,\n\t\t\t\t\t\t\t\t\t\tunread_count: (ch.unread_count ?? 0) + 1,\n\t\t\t\t\t\t\t\t\t\tlast_message_at: event.created_at\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn ch;\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tconst res = await getChannels(localStorage.token).catch(async (error) => {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tawait channels.set(\n\t\t\t\t\t\t\tres.sort(\n\t\t\t\t\t\t\t\t(a, b) =>\n\t\t\t\t\t\t\t\t\t['', null, 'group', 'dm'].indexOf(a.type) -\n\t\t\t\t\t\t\t\t\t['', null, 'group', 'dm'].indexOf(b.type)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (type === 'message') {\n\t\t\t\tconst title = `${data?.user?.name}${event?.channel?.type !== 'dm' ? ` (#${event?.channel?.name})` : ''}`;\n\n\t\t\t\tif ($isLastActiveTab) {\n\t\t\t\t\tif ($settings?.notificationEnabled ?? false) {\n\t\t\t\t\t\tnew Notification(`${title}  Open WebUI`, {\n\t\t\t\t\t\t\tbody: data?.content,\n\t\t\t\t\t\t\ticon: `${WEBUI_API_BASE_URL}/users/${data?.user?.id}/profile/image`\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttoast.custom(NotificationToast, {\n\t\t\t\t\tcomponentProps: {\n\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\tgoto(`/channels/${event.channel_id}`);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontent: data?.content,\n\t\t\t\t\t\ttitle: `${title}`\n\t\t\t\t\t},\n\t\t\t\t\tduration: 15000,\n\t\t\t\t\tunstyled: true\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tconst TOKEN_EXPIRY_BUFFER = 60; // seconds\n\tconst checkTokenExpiry = async () => {\n\t\tconst exp = $user?.expires_at; // token expiry time in unix timestamp\n\t\tconst now = Math.floor(Date.now() / 1000); // current time in unix timestamp\n\n\t\tif (!exp) {\n\t\t\t// If no expiry time is set, do nothing\n\t\t\treturn;\n\t\t}\n\n\t\tif (now >= exp - TOKEN_EXPIRY_BUFFER) {\n\t\t\tconst res = await userSignOut();\n\t\t\tuser.set(null);\n\t\t\tlocalStorage.removeItem('token');\n\n\t\t\tlocation.href = res?.redirect_url ?? '/auth';\n\t\t}\n\t};\n\n\tconst windowMessageEventHandler = async (event) => {\n\t\tif (\n\t\t\t!['https://openwebui.com', 'https://www.openwebui.com', 'http://localhost:9999'].includes(\n\t\t\t\tevent.origin\n\t\t\t)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.data === 'export:stats' || event.data?.type === 'export:stats') {\n\t\t\tsyncStatsEventData = event.data;\n\t\t\tshowSyncStatsModal = true;\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\twindow.addEventListener('message', windowMessageEventHandler);\n\n\t\tlet touchstartY = 0;\n\n\t\tfunction isNavOrDescendant(el) {\n\t\t\tconst nav = document.querySelector('nav'); // change selector if needed\n\t\t\treturn nav && (el === nav || nav.contains(el));\n\t\t}\n\n\t\tdocument.addEventListener('touchstart', (e) => {\n\t\t\tif (!isNavOrDescendant(e.target)) return;\n\t\t\ttouchstartY = e.touches[0].clientY;\n\t\t});\n\n\t\tdocument.addEventListener('touchmove', (e) => {\n\t\t\tif (!isNavOrDescendant(e.target)) return;\n\t\t\tconst touchY = e.touches[0].clientY;\n\t\t\tconst touchDiff = touchY - touchstartY;\n\t\t\tif (touchDiff > 50 && window.scrollY === 0) {\n\t\t\t\tshowRefresh = true;\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t});\n\n\t\tdocument.addEventListener('touchend', (e) => {\n\t\t\tif (!isNavOrDescendant(e.target)) return;\n\t\t\tif (showRefresh) {\n\t\t\t\tshowRefresh = false;\n\t\t\t\tlocation.reload();\n\t\t\t}\n\t\t});\n\n\t\tif (typeof window !== 'undefined') {\n\t\t\tif (window.applyTheme) {\n\t\t\t\twindow.applyTheme();\n\t\t\t}\n\t\t}\n\n\t\tif (window?.electronAPI) {\n\t\t\tconst info = await window.electronAPI.send({\n\t\t\t\ttype: 'app:info'\n\t\t\t});\n\n\t\t\tif (info) {\n\t\t\t\tisApp.set(true);\n\t\t\t\tappInfo.set(info);\n\n\t\t\t\tconst data = await window.electronAPI.send({\n\t\t\t\t\ttype: 'app:data'\n\t\t\t\t});\n\n\t\t\t\tif (data) {\n\t\t\t\t\tappData.set(data);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Listen for messages on the BroadcastChannel\n\t\tbc.onmessage = (event) => {\n\t\t\tif (event.data === 'active') {\n\t\t\t\tisLastActiveTab.set(false); // Another tab became active\n\t\t\t}\n\t\t};\n\n\t\t// Set yourself as the last active tab when this tab is focused\n\t\tconst handleVisibilityChange = () => {\n\t\t\tif (document.visibilityState === 'visible') {\n\t\t\t\tisLastActiveTab.set(true); // This tab is now the active tab\n\t\t\t\tbc.postMessage('active'); // Notify other tabs that this tab is active\n\n\t\t\t\t// Check token expiry when the tab becomes active\n\t\t\t\tcheckTokenExpiry();\n\t\t\t}\n\t\t};\n\n\t\t// Add event listener for visibility state changes\n\t\tdocument.addEventListener('visibilitychange', handleVisibilityChange);\n\n\t\t// Call visibility change handler initially to set state on load\n\t\thandleVisibilityChange();\n\n\t\ttheme.set(localStorage.theme);\n\n\t\tmobile.set(window.innerWidth < BREAKPOINT);\n\n\t\tconst onResize = () => {\n\t\t\tif (window.innerWidth < BREAKPOINT) {\n\t\t\t\tmobile.set(true);\n\t\t\t} else {\n\t\t\t\tmobile.set(false);\n\t\t\t}\n\t\t};\n\t\twindow.addEventListener('resize', onResize);\n\n\t\tuser.subscribe(async (value) => {\n\t\t\tif (value) {\n\t\t\t\t$socket?.off('events', chatEventHandler);\n\t\t\t\t$socket?.off('events:channel', channelEventHandler);\n\n\t\t\t\t$socket?.on('events', chatEventHandler);\n\t\t\t\t$socket?.on('events:channel', channelEventHandler);\n\n\t\t\t\tconst userSettings = await getUserSettings(localStorage.token);\n\t\t\t\tif (userSettings) {\n\t\t\t\t\tsettings.set(userSettings.ui);\n\t\t\t\t} else {\n\t\t\t\t\tsettings.set(JSON.parse(localStorage.getItem('settings') ?? '{}'));\n\t\t\t\t}\n\t\t\t\tsetTextScale($settings?.textScale ?? 1);\n\n\t\t\t\t// Set up the token expiry check\n\t\t\t\tif (tokenTimer) {\n\t\t\t\t\tclearInterval(tokenTimer);\n\t\t\t\t}\n\t\t\t\ttokenTimer = setInterval(checkTokenExpiry, 15000);\n\t\t\t} else {\n\t\t\t\t$socket?.off('events', chatEventHandler);\n\t\t\t\t$socket?.off('events:channel', channelEventHandler);\n\t\t\t}\n\t\t});\n\n\t\tlet backendConfig = null;\n\t\ttry {\n\t\t\tbackendConfig = await getBackendConfig();\n\t\t\tconsole.log('Backend config:', backendConfig);\n\t\t} catch (error) {\n\t\t\tconsole.error('Error loading backend config:', error);\n\t\t}\n\t\t// Initialize i18n even if we didn't get a backend config,\n\t\t// so `/error` can show something that's not `undefined`.\n\n\t\tinitI18n(localStorage?.locale);\n\t\tif (!localStorage.locale) {\n\t\t\tconst languages = await getLanguages();\n\t\t\tconst browserLanguages = navigator.languages\n\t\t\t\t? navigator.languages\n\t\t\t\t: [navigator.language || navigator.userLanguage];\n\t\t\tconst lang = backendConfig.default_locale\n\t\t\t\t? backendConfig.default_locale\n\t\t\t\t: bestMatchingLanguage(languages, browserLanguages, 'en-US');\n\t\t\tchangeLanguage(lang);\n\t\t\tdayjs.locale(lang);\n\t\t}\n\n\t\tif (backendConfig) {\n\t\t\t// Save Backend Status to Store\n\t\t\tawait config.set(backendConfig);\n\t\t\tawait WEBUI_NAME.set(backendConfig.name);\n\n\t\t\tif ($config) {\n\t\t\t\tawait setupSocket($config.features?.enable_websocket ?? true);\n\n\t\t\t\tconst currentUrl = `${window.location.pathname}${window.location.search}`;\n\t\t\t\tconst encodedUrl = encodeURIComponent(currentUrl);\n\n\t\t\t\tif (localStorage.token) {\n\t\t\t\t\t// Get Session User Info\n\t\t\t\t\tconst sessionUser = await getSessionUser(localStorage.token).catch((error) => {\n\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (sessionUser) {\n\t\t\t\t\t\tawait user.set(sessionUser);\n\t\t\t\t\t\tawait config.set(await getBackendConfig());\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Redirect Invalid Session User to /auth Page\n\t\t\t\t\t\tlocalStorage.removeItem('token');\n\t\t\t\t\t\tawait goto(`/auth?redirect=${encodedUrl}`);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Don't redirect if we're already on the auth page\n\t\t\t\t\t// Needed because we pass in tokens from OAuth logins via URL fragments\n\t\t\t\t\tif ($page.url.pathname !== '/auth') {\n\t\t\t\t\t\tawait goto(`/auth?redirect=${encodedUrl}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// Redirect to /error when Backend Not Detected\n\t\t\tawait goto(`/error`);\n\t\t}\n\n\t\tawait tick();\n\n\t\tif (\n\t\t\tdocument.documentElement.classList.contains('her') &&\n\t\t\tdocument.getElementById('progress-bar')\n\t\t) {\n\t\t\tloadingProgress.subscribe((value) => {\n\t\t\t\tconst progressBar = document.getElementById('progress-bar');\n\n\t\t\t\tif (progressBar) {\n\t\t\t\t\tprogressBar.style.width = `${value}%`;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tawait loadingProgress.set(100);\n\n\t\t\tdocument.getElementById('splash-screen')?.remove();\n\n\t\t\tconst audio = new Audio(`/audio/greeting.mp3`);\n\t\t\tconst playAudio = () => {\n\t\t\t\taudio.play();\n\t\t\t\tdocument.removeEventListener('click', playAudio);\n\t\t\t};\n\n\t\t\tdocument.addEventListener('click', playAudio);\n\n\t\t\tloaded = true;\n\t\t} else {\n\t\t\tdocument.getElementById('splash-screen')?.remove();\n\t\t\tloaded = true;\n\t\t}\n\n\t\t// Auto-show SyncStatsModal when opened with ?sync=true (from community)\n\t\tif ((window.opener ?? false) && $page.url.searchParams.get('sync') === 'true') {\n\t\t\tshowSyncStatsModal = true;\n\t\t}\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('resize', onResize);\n\t\t};\n\t});\n\n\tonDestroy(() => {\n\t\twindow.removeEventListener('message', windowMessageEventHandler);\n\t\tbc.close();\n\t});\n</script>\n\n<svelte:head>\n\t<title>{$WEBUI_NAME}</title>\n\t<link crossorigin=\"anonymous\" rel=\"icon\" href=\"{WEBUI_BASE_URL}/static/favicon.png\" />\n\n\t<meta name=\"apple-mobile-web-app-title\" content={$WEBUI_NAME} />\n\t<meta name=\"description\" content={$WEBUI_NAME} />\n\t<link\n\t\trel=\"search\"\n\t\ttype=\"application/opensearchdescription+xml\"\n\t\ttitle={$WEBUI_NAME}\n\t\thref=\"/opensearch.xml\"\n\t\tcrossorigin=\"use-credentials\"\n\t/>\n</svelte:head>\n\n{#if showRefresh}\n\t<div class=\" py-5\">\n\t\t<Spinner className=\"size-5\" />\n\t</div>\n{/if}\n\n{#if loaded}\n\t{#if $isApp}\n\t\t<div class=\"flex flex-row h-screen\">\n\t\t\t<AppSidebar />\n\n\t\t\t<div class=\"w-full flex-1 max-w-[calc(100%-4.5rem)]\">\n\t\t\t\t<slot />\n\t\t\t</div>\n\t\t</div>\n\t{:else}\n\t\t<slot />\n\t{/if}\n{/if}\n\n{#if $config?.features.enable_community_sharing}\n\t<SyncStatsModal bind:show={showSyncStatsModal} eventData={syncStatsEventData} />\n{/if}\n\n<Toaster\n\ttheme={$theme.includes('dark')\n\t\t? 'dark'\n\t\t: $theme === 'system'\n\t\t\t? window.matchMedia('(prefers-color-scheme: dark)').matches\n\t\t\t\t? 'dark'\n\t\t\t\t: 'light'\n\t\t\t: 'light'}\n\trichColors\n\tposition=\"top-right\"\n\tcloseButton\n/>\n"],"names":["ssr","trailingSlash","is_date","obj","tick_spring","ctx","last_value","current_value","target_value","delta","velocity","spring","damper","acceleration","d","_","i","next_value","k","value","opts","store","writable","stiffness","damping","precision","last_time","task","current_token","inv_mass","inv_mass_recovery_rate","cancel_task","set","new_value","token","raf","loop","now","elapsed","fulfil","fn","type","$$render","consequent_3","alternate","consequent_2","alternate_1","consequent_1","alternate_2","consequent","alternate_3","visible","$.prop","$$props","bars","$.each","div_1","TOAST_LIFETIME","GAP","SWIPE_TRESHOLD","TIME_BEFORE_UNMOUNT","SCALE_MULTIPLIER","defaultClasses","toasts","heights","removeHeight","setHeight","remove","toastState","toast","index","expanded","invert","position","visibleToasts","expandByDefault","closeButton","interacting","cancelButtonStyle","actionButtonStyle","duration","descriptionClass","classes","unstyled","mounted","removed","swiping","swipeOut","offsetBeforeRemove","initialHeight","toastRef","$.mutable_source","offset","closeTimerStartTimeRef","lastCloseTimerStartTimeRef","pointerStartRef","updateHeights","$.get","tick","scale","offsetHeight","rectHeight","scaledRectHeight","finalHeight","$.set","deleteToast","timeoutId","remainingTime","pauseTimer","elapsedTime","startTimer","_b","_a","effect","onMount","height","onPointerDown","event","disabled","target","onPointerUp","swipeAmount","_c","onPointerMove","yPosition","xPosition","clampedY","coords","swipeStartThreshold","isFront","isVisible","toastTitle","toastDescription","toastType","toastClass","toastDescriptionClass","heightIndex","$heights","toastsHeightBefore","prev","curr","reducerIndex","isPromiseLoadingOrInfiniteDuration","useEffect","$effect","cn","$$args","$.component","node_2","$$anchor","$$component","node_7","consequent_7","consequent_6","consequent_5","consequent_4","$.untrack","node_18","$.spread_props","consequent_10","node_21","$.event","button_1","consequent_13","button_2","consequent_14","$.bind_this","li","$$value","$toasts","$$sanitized_props","_d","_f","_e","VISIBLE_TOASTS_AMOUNT","VIEWPORT_OFFSET","TOAST_WIDTH","DARK","LIGHT","getInitialTheme","t","getDocumentDirection","dirAttribute","theme","hotkey","containerAriaLabel","richColors","expand","toastOptions","dir","reset","actualTheme","listRef","lastFocusedElementRef","isFocusWithinRef","onDestroy","handleKeydown","key","handleBlur","handleFocus","possiblePositions","hotkeyLabel","toastsToDismiss","updatedToasts","dismissToast","mediaQueryList","changeHandler","matches","section","$$array","$$restProps","$$array_1","ol","$.template_effect","$.set_attribute","updated","_updated","stores","client_updated","dispatch","createEventDispatcher","onClick","title","content","startX","startY","moved","DRAG_THRESHOLD_PX","clickHandler","e","dx","dy","$settings","$playingNotificationSound","$isLastActiveTab","playingNotificationSound","DOMPurify","marked","WEBUI_BASE_URL","div","selected","$.set_class","button","img_1","i18n","getContext","show","eventData","handleMessage","chatId","res","exportSingleChatStats","err","syncing","downloading","completed","error","errorMessage","processedItemsCount","total","downloadController","syncMode","postToOpener","message","resetState","handleError","cancelOperation","syncStats","versionRes","getVersion","page","allItemsLoaded","searchParams","exportChatStats","downloadHandler","initialRes","filename","controller","downloadChatStats","reader","decoder","items","buffer","done","lines","line","blob","url","a","closeModal","progressPercent","Confetti","node_1","$i18n","$.set_checked","input","$.set_text","text_21","button_3","button_4","loadingProgress","unregisterServiceWorkers","registrations","r","beforeNavigate","willUnload","to","setContext","bc","loaded","tokenTimer","showRefresh","showSyncStatsModal","syncStatsEventData","heartbeatInterval","BREAKPOINT","setupSocket","enableWebsocket","_socket","io","socket","deploymentId","version","$WEBUI_VERSION","$WEBUI_DEPLOYMENT_ID","WEBUI_DEPLOYMENT_ID","WEBUI_VERSION","attempt","reason","details","executePythonAsWorker","id","code","cb","result","stdout","stderr","executing","packages","pyodideWorker","PyodideWorker","_key","data","executeTool","toolServer","server","toolServerData","$toolServers","toolServerToken","auth_type","executeToolServer","chatEventHandler","$page","isFocused","$chatId","$temporaryChatEnabled","NotificationToast","goto","currentChatPage","chats","getChatList","$currentChatPage","tags","getAllTags","$socket","session_id","channel","form_data","model","directConnections","urlIdx","OPENAI_API_URL","OPENAI_API_KEY","API_CONFIG","prefixId","chatCompletion","channelEventHandler","getChannels","channels","b","$user","$channels","ch","$channelId","_g","_h","_i","_j","WEBUI_API_BASE_URL","_k","TOKEN_EXPIRY_BUFFER","checkTokenExpiry","exp","userSignOut","user","windowMessageEventHandler","touchstartY","isNavOrDescendant","el","nav","info","isApp","appInfo","isLastActiveTab","handleVisibilityChange","mobile","onResize","userSettings","getUserSettings","settings","setTextScale","backendConfig","getBackendConfig","initI18n","languages","getLanguages","browserLanguages","lang","bestMatchingLanguage","changeLanguage","dayjs","config","WEBUI_NAME","$config","currentUrl","encodedUrl","sessionUser","getSessionUser","progressBar","audio","playAudio","$WEBUI_NAME","$isApp","$theme"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,6,7,8]}