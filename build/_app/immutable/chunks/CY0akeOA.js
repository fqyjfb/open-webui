import"./CWj6FrbW.js";import"./CN51-NxK.js";import{t as u,a as d,B as Lr,b as br,g as Ar,o as rl,c as a,r as t,k as l,w as i,s,l as Ve,p as wr,f as _,e as L,i as c,j as e,m as k,A as Dr,z as cr,aP as Pa,aQ as m,n as I,u as fr,x as Rl,d as Qe,y as cl,bf as Ci,V as Ui,aa as Di,b3 as Gi,q as ml,v as Al,aR as oi}from"./Cef1s1vS.js";import{i as g}from"./DtBwJrag.js";import{e as Za,i as dr}from"./DHQpwR2r.js";import{s as qr,c as ii,r as Q,a as T,d as or,h as li,f as ti}from"./CepVL_7U.js";import{b as J,a as si,c as Bi}from"./C-UcLPd1.js";import{i as Rr}from"./D6HxSY24.js";import{a as la,s as Nr}from"./B0aKtzpN.js";import{p as hi}from"./6n6O1dfj.js";import{g as bi}from"./CPXFBEE4.js";import{t as fe}from"./Bfaq2Jpc.js";import{c as Jr,N as Hi,a as Wr,b as xl,u as Nl,O as ji,M as $l}from"./qfldb4BO.js";import{h as Ki,i as Yi,u as Wi,j as Fi,k as Vi,g as al,l as Zi,m as zi,n as Xi,o as Ji,p as qi,q as Qi,a as pl,r as es,s as ts}from"./CHNOfSHo.js";import{p as il}from"./Bfc47y5P.js";import{p as oa}from"./8WYl0Dy3.js";import{f as Ai}from"./CxvPj3pb.js";import{S as as,C as rs}from"./g6_CMVvy.js";import{l as ls}from"./DNvYwxuc.js";import{j as is,u as ss}from"./DCURGwAY.js";import{i as vs,e as ds,g as os,s as ns,a as cs,b as us,c as _s,d as fs,f as ps,h as ms,j as gs,k as xs,l as Es}from"./B7WipsKi.js";import{h as ys}from"./BlW6_CAt.js";import ni from"./BFmuJLeH.js";import{e as hs,f as bs,h as As,i as ws,j as Is,k as $s}from"./B-Mlgtbf.js";import{g as Rs}from"./BcRxY7Ij.js";import{S as va}from"./DAC5tu1r.js";import{S as ta}from"./Di5hFSsI.js";import{T as lt}from"./JXfXx3cP.js";import{I as Fl,W as ai,e as Ns,b as ci,a as Yl}from"./D9RT3jjV.js";import{c as Ts,T as Kl,z as Ss,o as Ml,m as ui,n as ks}from"./DfpwS1Ja.js";import{T as Zr}from"./Dlc8dZfN.js";import{S as Qr}from"./CaFREkKp.js";import{g as Os,a as Ls,b as Ps,u as Ms}from"./UGw2eVY9.js";import{b as Tl}from"./DhQBHKPK.js";import{D as Cs}from"./IzBjbzL9.js";import{e as wi,f as Us,u as Ds,c as _i,i as Gs,t as Bs}from"./Bk0FIuUR.js";import{X as Sl}from"./i-Im-os4.js";import{S as Ii}from"./C83syoBY.js";import{P as Hs,M as js}from"./DMzGDzrJ.js";import{S as $i}from"./CxwbzrnD.js";import{C as gl}from"./BO-2Ki4Z.js";import{M as Ri,C as Vl,A as Wl,a as Ks,b as Ys}from"./DKle2sFU.js";import{M as Zl}from"./B3gTqYNi.js";import{C as fi}from"./CP6EIRCd.js";import{C as Ws}from"./C3aUuVTd.js";import{D as vi}from"./D52qNrtl.js";import{d as pi,a as mi,p as gi,c as xi,b as Fs,e as Vs,f as Ni,h as Zs}from"./DAsPskiE.js";import{s as zs}from"./XZMgsyez.js";import{b as Xs,c as Cl}from"./R7cNvzSA.js";import{f as Js}from"./BjO3HhBo.js";import{D as qs}from"./B8Zi6N3Q.js";import{D as Qs}from"./BOLBI9yR.js";import{P as ev}from"./BbJ_-BMy.js";import{P as tv}from"./D50nY2iI.js";import{L as av}from"./iaifgwmP.js";import{E as rv}from"./dEXUfeqI.js";import{E as lv}from"./B0WJJTCM.js";import{E as iv}from"./CSCZxgK6.js";import{b as sv,d as vv,u as dv}from"./C_32_w7d.js";import{P as Ul}from"./Czmx3fnX.js";import"./CGwCSIWv.js";import{g as Ti,r as ov,u as Si,a as nv,b as cv}from"./C4bmGxex.js";import{i as uv}from"./s87GskTD.js";import{d as _v}from"./CzMDae1w.js";import{h as fv,i as pv}from"./B7QHk0vF.js";import{A as mv}from"./7C3etv2L.js";const gv=async(It="")=>{let ee=null;const r=await fetch(`${Fl}/config`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...It&&{authorization:`Bearer ${It}`}}}).then(async f=>{if(!f.ok)throw await f.json();return f.json()}).catch(f=>("detail"in f?ee=f.detail:ee="Server connection failed",null));if(ee)throw ee;return r},xv=async(It="",ee)=>{let r=null;const f=await fetch(`${Fl}/config/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...It&&{authorization:`Bearer ${It}`}},body:JSON.stringify({...ee})}).then(async p=>{if(!p.ok)throw await p.json();return p.json()}).catch(p=>("detail"in p?r=p.detail:r="Server connection failed",null));if(r)throw r;return f},ri=async(It="")=>{let ee=null;const r=await fetch(`${Fl}/config/url/verify`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...It&&{authorization:`Bearer ${It}`}}}).then(async f=>{if(!f.ok)throw await f.json();return f.json()}).catch(f=>("detail"in f?ee=f.detail:ee="Server connection failed",null));if(ee)throw ee;return r},Ev=async(It="")=>{let ee=null;const r=await fetch(`${Fl}/models`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...It&&{authorization:`Bearer ${It}`}}}).then(async f=>{if(!f.ok)throw await f.json();return f.json()}).catch(f=>("detail"in f?ee=f.detail:ee="Server connection failed",null));if(ee)throw ee;return r};var yv=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"></path></svg>');function hv(It,ee){let r=oa(ee,"className",8,"w-4 h-4");oa(ee,"strokeWidth",8,"1.5");var f=yv();u(()=>qr(f,0,ii(r()))),d(It,f)}var bv=_('<div class="  flex w-full justify-between"><button class=" flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition" type="button"><div class=" self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class=" self-center text-sm font-medium"> </div></button></div> <button class=" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"><div class=" self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class=" self-center text-sm font-medium"> </div></button> <button class=" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"><div class=" self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class=" self-center text-sm font-medium"> </div></button>',1),Av=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class=" space-y-3 overflow-y-scroll scrollbar-hidden h-full"><div><div class=" mb-2 text-sm font-medium"> </div> <input id="config-json-input" hidden="" type="file" accept=".json"/> <button type="button" class=" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"><div class=" self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class=" self-center text-sm font-medium"> </div></button> <button type="button" class=" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"><div class=" self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class=" self-center text-sm font-medium"> </div></button> <hr class="border-gray-50 dark:border-gray-850/30 my-1"/> <!></div></div></form>');function wv(It,ee){br(ee,!1);const r=()=>la(h,"$i18n",p),f=()=>la(Jr,"$config",p),[p,Gt]=Nr(),{saveAs:Ke}=Ai,h=Ar("i18n");let we=oa(ee,"saveHandler",8);const v=async()=>{let ye=new Blob([JSON.stringify(await ls(localStorage.token))],{type:"application/json"});Ke(ye,`all-chats-export-${Date.now()}.json`)},o=async()=>{const ye=await is(localStorage.token),V=["id","name","email","role"],ue=[V.join(","),...ye.users.map(x=>V.map(D=>x[D]===null||x[D]===void 0?"":`"${String(x[D]).replace(/"/g,'""')}"`).join(","))].join(`
`),M=new Blob([ue],{type:"text/csv;charset=utf-8;"});Ke(M,"users.csv")};rl(async()=>{}),Rr();var S=Av(),$=a(S),U=a($),y=a(U),A=a(y,!0);t(y);var G=l(y,2),K=l(G,2),te=l(a(K),2),Ie=a(te,!0);t(te),t(K);var Ee=l(K,2),Ne=l(a(Ee),2),n=a(Ne,!0);t(Ne),t(Ee);var q=l(Ee,4);{var W=ye=>{var V=bv(),ue=L(V),M=a(ue),x=l(a(M),2),D=a(x,!0);t(x),t(M),t(ue);var le=l(ue,2),se=l(a(le),2),ve=a(se,!0);t(se),t(le);var N=l(le,2),xe=l(a(N),2),We=a(xe,!0);t(xe),t(N),u((_e,R,F)=>{s(D,_e),s(ve,R),s(We,F)},[()=>(r(),i(()=>r().t("Download Database"))),()=>(r(),i(()=>r().t("Export All Chats (All Users)"))),()=>(r(),i(()=>r().t("Export Users")))]),Ve("click",M,()=>{as(localStorage.token).catch(_e=>{fe.error(`${_e}`)})}),Ve("click",le,()=>{v()}),Ve("click",N,()=>{o()}),d(ye,V)};g(q,ye=>{f(),i(()=>{var V;return((V=f())==null?void 0:V.features.enable_admin_export)??!0})&&ye(W)})}t(U),t($),t(S),u((ye,V,ue)=>{s(A,ye),s(Ie,V),s(n,ue)},[()=>(r(),i(()=>r().t("Database"))),()=>(r(),i(()=>r().t("Import Config from JSON File"))),()=>(r(),i(()=>r().t("Export Config to JSON File")))]),Ve("change",G,ye=>{const V=ye.target.files[0],ue=new FileReader;ue.onload=async M=>{await vs(localStorage.token,JSON.parse(M.target.result)).catch(D=>{fe.error(`${D}`)})&&fe.success(r().t("Config imported successfully")),M.target.value=null},ue.readAsText(V)}),Ve("click",K,async()=>{document.getElementById("config-json-input").click()}),Ve("click",Ee,async()=>{const ye=await ds(localStorage.token),V=new Blob([JSON.stringify(ye)],{type:"application/json"});Ke(V,`config-${Date.now()}.json`)}),Ve("submit",S,il(async()=>{we()()})),d(It,S),wr(),Gt()}var Iv=_('<a target="_blank"> </a>'),$v=_('<button class=" text-xs px-3 py-1.5 bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium" type="button"> </button>'),Rv=_('<div class="mt-0.5"><!></div>'),Nv=_('<a href="https://docs.openwebui.com/enterprise" target="_blank" class="text-gray-500 mt-0.5"><span class=" capitalize text-black dark:text-white"> </span> registered to <span class=" capitalize text-black dark:text-white"> </span> for <span class=" font-medium text-black dark:text-white"> </span></a> <!>',1),Tv=_('<a class=" text-xs hover:underline" href="https://docs.openwebui.com/enterprise" target="_blank"><span class="text-gray-500"> </span></a>'),Sv=_("<option> </option>"),kv=_('<div class="mb-2.5 w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div></div> <div class="flex mt-2 space-x-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="email"/></div></div>'),Ov=_('<div class=" flex w-full flex-col pr-2 mb-2.5"><div class=" text-xs font-medium"> </div> <input class="w-full mt-1 text-sm dark:text-gray-300 bg-transparent outline-hidden" type="text"/> <div class="mt-2 text-xs text-gray-400 dark:text-gray-500"><a href="https://docs.openwebui.com/getting-started/api-endpoints" target="_blank" class=" text-gray-300 font-medium underline"> </a></div></div>'),Lv=_('<div class="mb-2.5 flex w-full justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <!>',1),Pv=_('<div class="mt-2 text-xs"><div class=" bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-3 py-2"><div><span class=" font-medium"> </span> <span><a href="https://docs.openwebui.com/getting-started/env-configuration#jwt_expires_in" target="_blank" class=" underline"> </a></span></div></div></div>'),Mv=_('<input class="w-full bg-transparent outline-hidden py-0.5" type="number"/>'),Cv=_('<input class="w-full bg-transparent outline-hidden py-0.5" required/>'),Uv=_('<input class="w-full bg-transparent outline-hidden py-0.5" required/>'),Dv=_('<input class="w-full bg-transparent outline-hidden py-0.5" required/>'),Gv=_('<input class="w-full bg-transparent outline-hidden py-0.5" required/>'),Bv=_('<input class="w-full bg-transparent outline-hidden py-0.5"/>'),Hv=_('<div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1 mt-1"> </div> <input class="w-full bg-transparent outline-hidden py-0.5"/></div></div> <div class="flex justify-between items-center text-xs"><div class=" font-medium"> </div> <div class="mt-1"><!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div> <div class="w-full"></div></div>',1),jv=_('<div class="flex flex-col gap-1"><div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <input class="w-full bg-transparent outline-hidden py-0.5" required/></div> <div class="w-full"></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <input class="w-full bg-transparent outline-hidden py-0.5" required/></div> <div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div> <div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <input class="w-full bg-transparent outline-hidden py-0.5"/></div></div> <div class="text-xs text-gray-400 dark:text-gray-500"><a class=" text-gray-300 font-medium underline" href="https://ldap.com/ldap-filters/" target="_blank"> </a></div> <div><div class="flex justify-between items-center text-sm"><div class="  font-medium"> </div> <div class="mt-1"><!></div></div> <!></div></div>'),Kv=_('<div class="mb-2.5 w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div></div> <div class="flex mt-2 space-x-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" min="0"/></div> <div class="mt-2 text-xs text-gray-400 dark:text-gray-500"> </div></div>'),Yv=_('<div><div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class=" mb-1 text-xs font-medium flex space-x-2 items-center"><div> </div></div> <div class="flex w-full justify-between items-center"><div class="flex flex-col text-xs text-gray-700 dark:text-gray-200"><div class="flex gap-1"><!> <!></div> <button class=" underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500" type="button"><div> </div></button></div> <!></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div> <div class=" text-xs text-gray-500"> </div></div> <a class="flex-shrink-0 text-xs font-medium underline" href="https://docs.openwebui.com/" target="_blank"> </a></div> <div class="mt-1"><div class="flex space-x-1"><a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div> <!></div></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option></select></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option>None</option><!></select></div></div> <div class=" mb-2.5 flex w-full justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5"><div class=" self-center text-xs font-medium mb-2"> </div> <!></div> <div class="mb-2.5"><div class=" self-center text-xs font-medium mb-2"> </div> <!></div> <div class="mb-2.5 flex w-full justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class=" mb-2.5 w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div></div> <div class="flex mt-2 space-x-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text"/></div> <div class="mt-2 text-xs text-gray-400 dark:text-gray-500"> <span class=" text-gray-300 font-medium"> </span></div> <!></div> <div class=" space-y-3"><div class="mt-2 space-y-2 pr-1.5"><div class="flex justify-between items-center text-sm"><div class="  font-medium"> </div> <div class="mt-1"><!></div></div> <!></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5"><div class=" self-center text-xs font-medium mb-2"> </div> <!></div> <div class="mb-2.5 w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div></div> <div class="flex mt-2 space-x-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text"/></div> <div class="mt-2 text-xs text-gray-400 dark:text-gray-500"> </div></div> <div class=" w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div></div> <div class="flex mt-2 space-x-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text"/></div></div></div></div>'),Wv=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class="space-y-3 overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>');function Fv(It,ee){br(ee,!1);const r=()=>la(Ke,"$i18n",p),f=()=>la(Jr,"$config",p),[p,Gt]=Nr(),Ke=Ar("i18n");let h=oa(ee,"saveHandler",8),we=k(null),v=k({current:"",latest:""}),o=k(null),S=k(""),$=k([]),U=k(!1),y=k({label:"",host:"",port:"",attribute_for_mail:"mail",attribute_for_username:"uid",app_dn:"",app_dn_password:"",search_base:"",search_filters:"",use_tls:!1,certificate_path:"",ciphers:""});const A=async()=>{c(we,null),c(v,await Yi(localStorage.token).catch(ye=>({current:ai,latest:ai}))),console.info(e(v)),c(we,Ts(e(v).latest,e(v).current)),console.info(e(we))},G=async()=>{if(!e(U))return;await $s(localStorage.token,e(y)).catch(V=>(fe.error(`${V}`),null))&&fe.success(r().t("LDAP server updated"))},K=async()=>{c(S,await Wi(localStorage.token,e(S)));const ye=await ws(localStorage.token,e(o));await Is(localStorage.token,e(U)),await G(),ye?h()():fe.error(r().t("Failed to update settings"))};rl(async()=>{var V,ue;(ue=(V=f())==null?void 0:V.features)!=null&&ue.enable_version_update_check&&A(),await Promise.all([(async()=>{c(o,await hs(localStorage.token))})(),(async()=>{c(S,await Ki(localStorage.token))})(),(async()=>{c(y,await bs(localStorage.token))})(),(async()=>{c($,await Rs(localStorage.token))})()]);const ye=await As(localStorage.token);c(U,ye.ENABLE_LDAP)}),Rr();var te=Wv(),Ie=a(te),Ee=a(Ie);{var Ne=ye=>{var V=Yv(),ue=a(V),M=a(ue),x=a(M,!0);t(M);var D=l(M,4),le=a(D),se=a(le),ve=a(se,!0);t(se),t(le);var N=l(le,2),xe=a(N),We=a(xe),_e=a(We);lt(_e,{get content(){return Ns},children:(je,pt)=>{Dr();var Kt=cr();u(()=>s(Kt,`v${ai}`)),d(je,Kt)},$$slots:{default:!0}});var R=l(_e,2);{var F=je=>{var pt=Iv(),Kt=a(pt,!0);t(pt),u(Aa=>{T(pt,"href",`https://github.com/open-webui/open-webui/releases/tag/v${e(v),i(()=>e(v).latest)??""}`),s(Kt,Aa)},[()=>(e(we),r(),e(v),i(()=>e(we)===null?r().t("Checking for updates..."):e(we)?`(v${e(v).latest} ${r().t("available!")})`:r().t("(latest)")))]),d(je,pt)};g(R,je=>{f(),i(()=>{var pt,Kt;return(Kt=(pt=f())==null?void 0:pt.features)==null?void 0:Kt.enable_version_update_check})&&je(F)})}t(We);var Fe=l(We,2),mt=a(Fe),Ot=a(mt,!0);t(mt),t(Fe),t(xe);var bt=l(xe,2);{var fa=je=>{var pt=$v(),Kt=a(pt,!0);t(pt),u(Aa=>s(Kt,Aa),[()=>(r(),i(()=>r().t("Check for updates")))]),Ve("click",pt,()=>{A()}),d(je,pt)};g(bt,je=>{f(),i(()=>{var pt,Kt;return(Kt=(pt=f())==null?void 0:pt.features)==null?void 0:Kt.enable_version_update_check})&&je(fa)})}t(N),t(D);var zt=l(D,2),ca=a(zt),ua=a(ca),Jt=a(ua),aa=a(Jt,!0);t(Jt);var be=l(Jt,2),Ye=a(be,!0);t(be),t(ua);var vt=l(ua,2),nt=a(vt,!0);t(vt),t(ca),Dr(2),t(zt);var Ge=l(zt,2),ze=a(Ge),tt=a(ze),ut=a(tt),et=a(ut,!0);t(ut);var Lt=l(ut,2);{var Nt=je=>{var pt=Nv(),Kt=L(pt),Aa=a(Kt),Oa=a(Aa);t(Aa);var er=l(Aa,2),Ma=a(er,!0);t(er);var Ha=l(er,2),Sa=a(Ha);t(Ha),t(Kt);var ja=l(Kt,2);{var Tt=Dt=>{var Rt=Rv(),sa=a(Rt);ys(sa,()=>(fr(ni),f(),i(()=>{var Zt,Na;return ni.sanitize((Na=(Zt=f())==null?void 0:Zt.license_metadata)==null?void 0:Na.html)}))),t(Rt),d(Dt,Rt)};g(ja,Dt=>{f(),i(()=>{var Rt,sa;return(sa=(Rt=f())==null?void 0:Rt.license_metadata)==null?void 0:sa.html})&&Dt(Tt)})}u(()=>{s(Oa,`${f(),i(()=>{var Dt,Rt;return(Rt=(Dt=f())==null?void 0:Dt.license_metadata)==null?void 0:Rt.type})??""}
											license`),s(Ma,(f(),i(()=>{var Dt,Rt;return(Rt=(Dt=f())==null?void 0:Dt.license_metadata)==null?void 0:Rt.organization_name}))),s(Sa,`${f(),i(()=>{var Dt,Rt;return((Rt=(Dt=f())==null?void 0:Dt.license_metadata)==null?void 0:Rt.seats)??"Unlimited"})??""} users.`)}),d(je,pt)},qt=je=>{var pt=Tv(),Kt=a(pt),Aa=a(Kt,!0);t(Kt),t(pt),u(Oa=>s(Aa,Oa),[()=>(r(),i(()=>r().t("Upgrade to a licensed plan for enhanced capabilities, including custom theming and branding, and dedicated support.")))]),d(je,pt)};g(Lt,je=>{f(),i(()=>{var pt;return(pt=f())==null?void 0:pt.license_metadata})?je(Nt):je(qt,!1)})}t(tt),t(ze),t(Ge),t(ue);var ct=l(ue,2),Qt=a(ct),wa=a(Qt,!0);t(Qt);var Ua=l(Qt,4),na=a(Ua),Wt=a(na,!0);t(na);var St=l(na,2),ia=a(St);u(()=>{e(o),Pa(()=>{r()})});var At=a(ia),Ce=a(At,!0);t(At),At.value=At.__value="pending";var Ct=l(At),Ht=a(Ct,!0);t(Ct),Ct.value=Ct.__value="user";var da=l(Ct),$a=a(da,!0);t(da),da.value=da.__value="admin",t(ia),t(St),t(Ua);var ha=l(Ua,2),Ft=a(ha),jt=a(Ft,!0);t(Ft);var gt=l(Ft,2),Vt=a(gt);u(()=>{e(o),Pa(()=>{r(),e($)})});var Yt=a(Vt);Yt.value=Yt.__value="";var Ze=l(Yt);Za(Ze,1,()=>e($),dr,(je,pt)=>{var Kt=Sv(),Aa=a(Kt,!0);t(Kt);var Oa={};u(()=>{s(Aa,(e(pt),i(()=>e(pt).name))),Oa!==(Oa=(e(pt),i(()=>e(pt).id)))&&(Kt.value=(Kt.__value=(e(pt),i(()=>e(pt).id)))??"")}),d(je,Kt)}),t(Vt),t(gt),t(ha);var Z=l(ha,2),at=a(Z),ft=a(at,!0);t(at);var Et=l(at,2);ta(Et,{get state(){return e(o).ENABLE_SIGNUP},set state(je){m(o,e(o).ENABLE_SIGNUP=je)},$$legacy:!0}),t(Z);var re=l(Z,2),ne=a(re),Se=a(ne,!0);t(ne);var Oe=l(ne,2);ta(Oe,{get state(){return e(o).SHOW_ADMIN_DETAILS},set state(je){m(o,e(o).SHOW_ADMIN_DETAILS=je)},$$legacy:!0}),t(re);var Ue=l(re,2);{var Le=je=>{var pt=kv(),Kt=a(pt),Aa=a(Kt),Oa=a(Aa,!0);t(Aa),t(Kt);var er=l(Kt,2),Ma=a(er);Q(Ma),t(er),t(pt),u((Ha,Sa)=>{s(Oa,Ha),T(Ma,"placeholder",Sa)},[()=>(r(),i(()=>r().t("Admin Contact Email"))),()=>(r(),i(()=>r().t("Leave empty to use first admin user")))]),J(Ma,()=>e(o).ADMIN_EMAIL,Ha=>m(o,e(o).ADMIN_EMAIL=Ha)),d(je,pt)};g(Ue,je=>{e(o),i(()=>e(o).SHOW_ADMIN_DETAILS)&&je(Le)})}var Ae=l(Ue,2),Be=a(Ae),C=a(Be,!0);t(Be);var H=l(Be,2);{let je=I(()=>(r(),i(()=>r().t("Enter a title for the pending user info overlay. Leave empty for default."))));Zr(H,{get placeholder(){return e(je)},get value(){return e(o).PENDING_USER_OVERLAY_TITLE},set value(pt){m(o,e(o).PENDING_USER_OVERLAY_TITLE=pt)},$$legacy:!0})}t(Ae);var ie=l(Ae,2),He=a(ie),Pe=a(He,!0);t(He);var $e=l(He,2);{let je=I(()=>(r(),i(()=>r().t("Enter content for the pending user info overlay. Leave empty for default."))));Zr($e,{get placeholder(){return e(je)},get value(){return e(o).PENDING_USER_OVERLAY_CONTENT},set value(pt){m(o,e(o).PENDING_USER_OVERLAY_CONTENT=pt)},$$legacy:!0})}t(ie);var B=l(ie,2),z=a(B),pe=a(z,!0);t(z);var de=l(z,2);ta(de,{get state(){return e(o).ENABLE_API_KEYS},set state(je){m(o,e(o).ENABLE_API_KEYS=je)},$$legacy:!0}),t(B);var ae=l(B,2);{var b=je=>{var pt=Lv(),Kt=L(pt),Aa=a(Kt),Oa=a(Aa,!0);t(Aa);var er=l(Aa,2);ta(er,{get state(){return e(o).ENABLE_API_KEYS_ENDPOINT_RESTRICTIONS},set state(Sa){m(o,e(o).ENABLE_API_KEYS_ENDPOINT_RESTRICTIONS=Sa)},$$legacy:!0}),t(Kt);var Ma=l(Kt,2);{var Ha=Sa=>{var ja=Ov(),Tt=a(ja),Dt=a(Tt,!0);t(Tt);var Rt=l(Tt,2);Q(Rt),T(Rt,"placeholder","e.g.) /api/v1/messages, /api/v1/channels");var sa=l(Rt,2),Zt=a(sa),Na=a(Zt,!0);t(Zt),t(sa),t(ja),u((Mt,Ia)=>{s(Dt,Mt),s(Na,Ia)},[()=>(r(),i(()=>r().t("Allowed Endpoints"))),()=>(r(),i(()=>r().t("To learn more about available endpoints, visit our documentation.")))]),J(Rt,()=>e(o).API_KEYS_ALLOWED_ENDPOINTS,Mt=>m(o,e(o).API_KEYS_ALLOWED_ENDPOINTS=Mt)),d(Sa,ja)};g(Ma,Sa=>{e(o),i(()=>{var ja;return(ja=e(o))==null?void 0:ja.ENABLE_API_KEYS_ENDPOINT_RESTRICTIONS})&&Sa(Ha)})}u(Sa=>s(Oa,Sa),[()=>(r(),i(()=>r().t("API Key Endpoint Restrictions")))]),d(je,pt)};g(ae,je=>{e(o),i(()=>{var pt;return(pt=e(o))==null?void 0:pt.ENABLE_API_KEYS})&&je(b)})}var Y=l(ae,2),O=a(Y),ce=a(O),Re=a(ce,!0);t(ce),t(O);var E=l(O,2),w=a(E);Q(w),T(w,"placeholder",'e.g.) "30m","1h", "10d". '),t(E);var P=l(E,2),oe=a(P),Te=l(oe),j=a(Te,!0);t(Te),t(P);var me=l(P,2);{var _t=je=>{var pt=Pv(),Kt=a(pt),Aa=a(Kt),Oa=a(Aa),er=a(Oa);t(Oa);var Ma=l(Oa,2),Ha=a(Ma),Sa=a(Ha,!0);t(Ha),t(Ma),t(Aa),t(Kt),t(pt),u((ja,Tt)=>{s(er,`${ja??""}:`),s(Sa,Tt)},[()=>(r(),i(()=>r().t("Warning"))),()=>(r(),i(()=>r().t("No expiration can pose security risks.")))]),d(je,pt)};g(me,je=>{e(o),i(()=>e(o).JWT_EXPIRES_IN==="-1")&&je(_t)})}t(Y);var Me=l(Y,2),ke=a(Me),De=a(ke),rt=a(De),Pt=a(rt,!0);t(rt);var yt=l(rt,2),ht=a(yt);ta(ht,{get state(){return e(U)},set state(je){c(U,je)},$$legacy:!0}),t(yt),t(De);var he=l(De,2);{var X=je=>{var pt=jv(),Kt=a(pt),Aa=a(Kt),Oa=a(Aa),er=a(Oa,!0);t(Oa);var Ma=l(Oa,2);Q(Ma),t(Aa),Dr(2),t(Kt);var Ha=l(Kt,2),Sa=a(Ha),ja=a(Sa),Tt=a(ja,!0);t(ja);var Dt=l(ja,2);Q(Dt),t(Sa);var Rt=l(Sa,2),sa=a(Rt),Zt=a(sa,!0);t(sa);var Na=l(sa,2);{let Ca=I(()=>(r(),i(()=>r().t("Default to 389 or 636 if TLS is enabled"))));lt(Na,{placement:"top-start",get content(){return e(Ca)},className:"w-full",children:(Pr,Xr)=>{var ar=Mv();Q(ar),u(vr=>T(ar,"placeholder",vr),[()=>(r(),i(()=>r().t("Enter server port")))]),J(ar,()=>e(y).port,vr=>m(y,e(y).port=vr)),d(Pr,ar)},$$slots:{default:!0}})}t(Rt),t(Ha);var Mt=l(Ha,2),Ia=a(Mt),tr=a(Ia),Ka=a(tr,!0);t(tr);var wt=l(tr,2);{let Ca=I(()=>(r(),i(()=>r().t("The Application Account DN you bind with for search"))));lt(wt,{get content(){return e(Ca)},placement:"top-start",children:(Pr,Xr)=>{var ar=Cv();Q(ar),u(vr=>T(ar,"placeholder",vr),[()=>(r(),i(()=>r().t("Enter Application DN")))]),J(ar,()=>e(y).app_dn,vr=>m(y,e(y).app_dn=vr)),d(Pr,ar)},$$slots:{default:!0}})}t(Ia);var ma=l(Ia,2),La=a(ma),ra=a(La,!0);t(La);var ka=l(La,2);{let Ca=I(()=>(r(),i(()=>r().t("Enter Application DN Password"))));va(ka,{get placeholder(){return e(Ca)},get value(){return e(y).app_dn_password},set value(Pr){m(y,e(y).app_dn_password=Pr)},$$legacy:!0})}t(ma),t(Mt);var $r=l(Mt,2),jr=a($r),Fr=a(jr),_l=a(Fr,!0);t(Fr);var ol=l(Fr,2);{let Ca=I(()=>(r(),i(()=>r().t("The LDAP attribute that maps to the mail that users use to sign in."))));lt(ol,{get content(){return e(Ca)},placement:"top-start",children:(Pr,Xr)=>{var ar=Uv();Q(ar),u(vr=>T(ar,"placeholder",vr),[()=>(r(),i(()=>r().t("Example: mail")))]),J(ar,()=>e(y).attribute_for_mail,vr=>m(y,e(y).attribute_for_mail=vr)),d(Pr,ar)},$$slots:{default:!0}})}t(jr),t($r);var xr=l($r,2),Er=a(xr),kr=a(Er),el=a(kr,!0);t(kr);var sl=l(kr,2);{let Ca=I(()=>(r(),i(()=>r().t("The LDAP attribute that maps to the username that users use to sign in."))));lt(sl,{get content(){return e(Ca)},placement:"top-start",children:(Pr,Xr)=>{var ar=Dv();Q(ar),u(vr=>T(ar,"placeholder",vr),[()=>(r(),i(()=>r().t("Example: sAMAccountName or uid or userPrincipalName")))]),J(ar,()=>e(y).attribute_for_username,vr=>m(y,e(y).attribute_for_username=vr)),d(Pr,ar)},$$slots:{default:!0}})}t(Er),t(xr);var Cr=l(xr,2),Or=a(Cr),Kr=a(Or),Vr=a(Kr,!0);t(Kr);var Yr=l(Kr,2);{let Ca=I(()=>(r(),i(()=>r().t("The base to search for users"))));lt(Yr,{get content(){return e(Ca)},placement:"top-start",children:(Pr,Xr)=>{var ar=Gv();Q(ar),u(vr=>T(ar,"placeholder",vr),[()=>(r(),i(()=>r().t("Example: ou=users,dc=foo,dc=example")))]),J(ar,()=>e(y).search_base,vr=>m(y,e(y).search_base=vr)),d(Pr,ar)},$$slots:{default:!0}})}t(Or),t(Cr);var vl=l(Cr,2),tl=a(vl),ll=a(tl),nl=a(ll,!0);t(ll);var fl=l(ll,2);Q(fl),t(tl),t(vl);var Ur=l(vl,2),zr=a(Ur),dl=a(zr,!0);t(zr),t(Ur);var ul=l(Ur,2),wl=a(ul),El=a(wl),zl=a(El,!0);t(El);var kl=l(El,2),Dl=a(kl);ta(Dl,{get state(){return e(y).use_tls},set state(Ca){m(y,e(y).use_tls=Ca)},$$legacy:!0}),t(kl),t(wl);var Gl=l(wl,2);{var Ol=Ca=>{var Pr=Hv(),Xr=L(Pr),ar=a(Xr),vr=a(ar),yl=a(vr,!0);t(vr);var hl=l(vr,2);Q(hl),t(ar),t(Xr);var Ll=l(Xr,2),Pl=a(Ll),Xl=a(Pl,!0);t(Pl);var Bl=l(Pl,2),Jl=a(Bl);ta(Jl,{get state(){return e(y).validate_cert},set state(bl){m(y,e(y).validate_cert=bl)},$$legacy:!0}),t(Bl),t(Ll);var Hl=l(Ll,2),jl=a(Hl),ql=a(jl),Pi=a(ql,!0);t(ql);var Mi=l(ql,2);{let bl=I(()=>(r(),i(()=>r().t("Default to ALL"))));lt(Mi,{get content(){return e(bl)},placement:"top-start",children:(Ql,di)=>{var Il=Bv();Q(Il),u(ei=>T(Il,"placeholder",ei),[()=>(r(),i(()=>r().t("Example: ALL")))]),J(Il,()=>e(y).ciphers,ei=>m(y,e(y).ciphers=ei)),d(Ql,Il)},$$slots:{default:!0}})}t(jl),Dr(2),t(Hl),u((bl,Ql,di,Il)=>{s(yl,bl),T(hl,"placeholder",Ql),s(Xl,di),s(Pi,Il)},[()=>(r(),i(()=>r().t("Certificate Path"))),()=>(r(),i(()=>r().t("Enter certificate path"))),()=>(r(),i(()=>r().t("Validate certificate"))),()=>(r(),i(()=>r().t("Ciphers")))]),J(hl,()=>e(y).certificate_path,bl=>m(y,e(y).certificate_path=bl)),d(Ca,Pr)};g(Gl,Ca=>{e(y),i(()=>e(y).use_tls)&&Ca(Ol)})}t(ul),t(pt),u((Ca,Pr,Xr,ar,vr,yl,hl,Ll,Pl,Xl,Bl,Jl,Hl,jl)=>{s(er,Ca),T(Ma,"placeholder",Pr),s(Tt,Xr),T(Dt,"placeholder",ar),s(Zt,vr),s(Ka,yl),s(ra,hl),s(_l,Ll),s(el,Pl),s(Vr,Xl),s(nl,Bl),T(fl,"placeholder",Jl),s(dl,Hl),s(zl,jl)},[()=>(r(),i(()=>r().t("Label"))),()=>(r(),i(()=>r().t("Enter server label"))),()=>(r(),i(()=>r().t("Host"))),()=>(r(),i(()=>r().t("Enter server host"))),()=>(r(),i(()=>r().t("Port"))),()=>(r(),i(()=>r().t("Application DN"))),()=>(r(),i(()=>r().t("Application DN Password"))),()=>(r(),i(()=>r().t("Attribute for Mail"))),()=>(r(),i(()=>r().t("Attribute for Username"))),()=>(r(),i(()=>r().t("Search Base"))),()=>(r(),i(()=>r().t("Search Filters"))),()=>(r(),i(()=>r().t("Example: (&(objectClass=inetOrgPerson)(uid=%s))"))),()=>(r(),i(()=>r().t("Click here for filter guides."))),()=>(r(),i(()=>r().t("TLS")))]),J(Ma,()=>e(y).label,Ca=>m(y,e(y).label=Ca)),J(Dt,()=>e(y).host,Ca=>m(y,e(y).host=Ca)),J(fl,()=>e(y).search_filters,Ca=>m(y,e(y).search_filters=Ca)),d(je,pt)};g(he,je=>{e(U)&&je(X)})}t(ke),t(Me),t(ct);var ge=l(ct,2),st=a(ge),it=a(st,!0);t(st);var Xe=l(st,4),qe=a(Xe),xt=a(qe,!0);t(qe);var Bt=l(qe,2);ta(Bt,{get state(){return e(o).ENABLE_COMMUNITY_SHARING},set state(je){m(o,e(o).ENABLE_COMMUNITY_SHARING=je)},$$legacy:!0}),t(Xe);var kt=l(Xe,2),_a=a(kt),ea=a(_a,!0);t(_a);var ga=l(_a,2);ta(ga,{get state(){return e(o).ENABLE_MESSAGE_RATING},set state(je){m(o,e(o).ENABLE_MESSAGE_RATING=je)},$$legacy:!0}),t(kt);var Ra=l(kt,2),Je=a(Ra),dt=a(Je,!0);t(Je);var Ut=l(Je,2);ta(Ut,{get state(){return e(o).ENABLE_FOLDERS},set state(je){m(o,e(o).ENABLE_FOLDERS=je)},$$legacy:!0}),t(Ra);var ot=l(Ra,2);{var $t=je=>{var pt=Kv(),Kt=a(pt),Aa=a(Kt),Oa=a(Aa,!0);t(Aa),t(Kt);var er=l(Kt,2),Ma=a(er);Q(Ma),t(er);var Ha=l(er,2),Sa=a(Ha,!0);t(Ha),t(pt),u((ja,Tt,Dt)=>{s(Oa,ja),T(Ma,"placeholder",Tt),s(Sa,Dt)},[()=>(r(),i(()=>r().t("Folder Max File Count"))),()=>(r(),i(()=>r().t("Leave empty for unlimited"))),()=>(r(),i(()=>r().t("Maximum number of files allowed per folder.")))]),J(Ma,()=>e(o).FOLDER_MAX_FILE_COUNT,ja=>m(o,e(o).FOLDER_MAX_FILE_COUNT=ja)),d(je,pt)};g(ot,je=>{e(o),i(()=>e(o).ENABLE_FOLDERS)&&je($t)})}var Xt=l(ot,2),ya=a(Xt),Ta=a(ya);t(ya);var ur=l(ya,2);ta(ur,{get state(){return e(o).ENABLE_NOTES},set state(je){m(o,e(o).ENABLE_NOTES=je)},$$legacy:!0}),t(Xt);var qa=l(Xt,2),Da=a(qa),pa=a(Da);t(Da);var za=l(Da,2);ta(za,{get state(){return e(o).ENABLE_CHANNELS},set state(je){m(o,e(o).ENABLE_CHANNELS=je)},$$legacy:!0}),t(qa);var nr=l(qa,2),yr=a(nr),rr=a(yr);t(yr);var Ga=l(yr,2);ta(Ga,{get state(){return e(o).ENABLE_MEMORIES},set state(je){m(o,e(o).ENABLE_MEMORIES=je)},$$legacy:!0}),t(nr);var Ya=l(nr,2),Ir=a(Ya),Hr=a(Ir,!0);t(Ir);var Tr=l(Ir,2);ta(Tr,{get state(){return e(o).ENABLE_USER_WEBHOOKS},set state(je){m(o,e(o).ENABLE_USER_WEBHOOKS=je)},$$legacy:!0}),t(Ya);var hr=l(Ya,2),ir=a(hr),pr=a(ir,!0);t(ir);var Gr=l(ir,2);ta(Gr,{get state(){return e(o).ENABLE_USER_STATUS},set state(je){m(o,e(o).ENABLE_USER_STATUS=je)},$$legacy:!0}),t(hr);var Xa=l(hr,2),Qa=a(Xa),Wa=a(Qa,!0);t(Qa);var _r=l(Qa,2);{let je=I(()=>(r(),i(()=>r().t("Enter a watermark for the response. Leave empty for none."))));Zr(_r,{get placeholder(){return e(je)},get value(){return e(o).RESPONSE_WATERMARK},set value(pt){m(o,e(o).RESPONSE_WATERMARK=pt)},$$legacy:!0})}t(Xa);var Sr=l(Xa,2),xa=a(Sr),Ea=a(xa),ba=a(Ea,!0);t(Ea),t(xa);var Fa=l(xa,2),Ba=a(Fa);Q(Ba),T(Ba,"placeholder",'e.g.) "http://localhost:3000"'),t(Fa);var sr=l(Fa,2),lr=a(sr,!0);t(sr),t(Sr);var Ja=l(Sr,2),Va=a(Ja),Br=a(Va),Mr=a(Br,!0);t(Br),t(Va);var mr=l(Va,2),gr=a(mr);Q(gr),T(gr,"placeholder","https://example.com/webhook"),t(mr),t(Ja),t(ge),t(V),u((je,pt,Kt,Aa,Oa,er,Ma,Ha,Sa,ja,Tt,Dt,Rt,sa,Zt,Na,Mt,Ia,tr,Ka,wt,ma,La,ra,ka,$r,jr,Fr,_l,ol,xr,Er,kr,el,sl,Cr,Or,Kr,Vr,Yr)=>{s(x,je),s(ve,pt),s(Ot,Kt),s(aa,Aa),s(Ye,Oa),s(nt,er),s(et,Ma),s(wa,Ha),s(Wt,Sa),T(ia,"placeholder",ja),s(Ce,Tt),s(Ht,Dt),s($a,Rt),s(jt,sa),T(Vt,"placeholder",Zt),s(ft,Na),s(Se,Mt),s(C,Ia),s(Pe,tr),s(pe,Ka),s(Re,wt),s(oe,`${ma??""} `),s(j,La),s(Pt,ra),s(it,ka),s(xt,$r),s(ea,jr),s(dt,Fr),s(Ta,`${_l??""} (${ol??""})`),s(pa,`${xr??""} (${Er??""})`),s(rr,`${kr??""} (${el??""})`),s(Hr,sl),s(pr,Cr),s(Wa,Or),s(ba,Kr),s(lr,Vr),s(Mr,Yr)},[()=>(r(),i(()=>r().t("General"))),()=>(r(),i(()=>r().t("Version"))),()=>(r(),i(()=>r().t("See what's new"))),()=>(r(),i(()=>r().t("Help"))),()=>(r(),i(()=>r().t("Discover how to use Open WebUI and seek support from the community."))),()=>(r(),i(()=>r().t("Documentation"))),()=>(r(),i(()=>r().t("License"))),()=>(r(),i(()=>r().t("Authentication"))),()=>(r(),i(()=>r().t("Default User Role"))),()=>(r(),i(()=>r().t("Select a role"))),()=>(r(),i(()=>r().t("pending"))),()=>(r(),i(()=>r().t("user"))),()=>(r(),i(()=>r().t("admin"))),()=>(r(),i(()=>r().t("Default Group"))),()=>(r(),i(()=>r().t("Select a group"))),()=>(r(),i(()=>r().t("Enable New Sign Ups"))),()=>(r(),i(()=>r().t("Show Admin Details in Account Pending Overlay"))),()=>(r(),i(()=>r().t("Pending User Overlay Title"))),()=>(r(),i(()=>r().t("Pending User Overlay Content"))),()=>(r(),i(()=>r().t("Enable API Keys"))),()=>(r(),i(()=>r().t("JWT Expiration"))),()=>(r(),i(()=>r().t("Valid time units:"))),()=>(r(),i(()=>r().t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration."))),()=>(r(),i(()=>r().t("LDAP"))),()=>(r(),i(()=>r().t("Features"))),()=>(r(),i(()=>r().t("Enable Community Sharing"))),()=>(r(),i(()=>r().t("Enable Message Rating"))),()=>(r(),i(()=>r().t("Folders"))),()=>(r(),i(()=>r().t("Notes"))),()=>(r(),i(()=>r().t("Beta"))),()=>(r(),i(()=>r().t("Channels"))),()=>(r(),i(()=>r().t("Beta"))),()=>(r(),i(()=>r().t("Memories"))),()=>(r(),i(()=>r().t("Beta"))),()=>(r(),i(()=>r().t("User Webhooks"))),()=>(r(),i(()=>r().t("User Status"))),()=>(r(),i(()=>r().t("Response Watermark"))),()=>(r(),i(()=>r().t("WebUI URL"))),()=>(r(),i(()=>r().t("Enter the public URL of your WebUI. This URL will be used to generate links in the notifications."))),()=>(r(),i(()=>r().t("Webhook URL")))]),Ve("click",Fe,()=>{Hi.set(!0)}),or(ia,()=>e(o).DEFAULT_USER_ROLE,je=>m(o,e(o).DEFAULT_USER_ROLE=je)),or(Vt,()=>e(o).DEFAULT_GROUP_ID,je=>m(o,e(o).DEFAULT_GROUP_ID=je)),J(w,()=>e(o).JWT_EXPIRES_IN,je=>m(o,e(o).JWT_EXPIRES_IN=je)),J(Ba,()=>e(o).WEBUI_URL,je=>m(o,e(o).WEBUI_URL=je)),J(gr,()=>e(S),je=>c(S,je)),d(ye,V)};g(Ee,ye=>{e(o)!==null&&ye(Ne)})}t(Ie);var n=l(Ie,2),q=a(n),W=a(q,!0);t(q),t(n),t(te),u(ye=>s(W,ye),[()=>(r(),i(()=>r().t("Save")))]),Ve("submit",te,il(async()=>{K()})),d(It,te),wr(),Gt()}var Vv=_('<option class="bg-gray-100 dark:bg-gray-700"> </option>'),Zv=_(`<div class="self-center"><svg class=" w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg></div>`),zv=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),Xv=_(`<div class="self-center"><svg class=" w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg></div>`),Jv=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),qv=_('<option class="bg-gray-100 dark:bg-gray-700"> </option>'),Qv=_('<div class="flex gap-2"><div class="flex-1"><select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"></select></div> <button class="px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg></button></div>'),ed=_('<span class="ml-2 self-center"> </span>'),td=_('<span class="ml-2 self-center"> </span>'),ad=_("<option> </option>"),rd=_('<select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"></select>'),ld=_('<div class="flex justify-between items-center"><div class="text-xs text-gray-500"> </div> <div class=" pr-2"><!></div></div>'),id=_('<input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off" required/>'),sd=_('<div class="flex mt-0.5 mb-1.5 space-x-2"><div class=" flex-1"><!></div></div>'),vd=_('<div class=" py-0.5 w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <button class="p-1 px-3 text-xs flex rounded-sm transition" type="button"><!></button></div> <!></div>'),dd=_("<div> </div>"),od=_('<div class="flex w-full justify-between mb-2"><div class=" self-center text-sm font-medium"> </div></div> <div class="space-y-1"><!> <div class="space-y-1"><!></div></div>',1),nd=_("<div> </div>"),cd=_('<div class="flex justify-center"><div class="my-auto"><!></div></div>'),ud=_('<div class="space-y-1"><div class="flex gap-2"><div class="flex-1"><select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option selected disabled class="bg-gray-100 dark:bg-gray-700"> </option><!></select></div></div></div> <div class=" my-2"><div class=" mb-2 text-sm font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2"><input id="pipelines-upload-input" type="file" accept=".py" hidden=""/> <button class="w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl" type="button"><!></button></div> <button class="px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition" type="button"><!></button></div></div> <div class=" my-2"><div class=" mb-2 text-sm font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div> <button class="px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition" type="button"><!></button></div> <div class="mt-2 text-xs text-gray-500"><span class=" font-medium dark:text-gray-200"> </span> <span class=" font-medium dark:text-gray-400"> </span></div></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-3 w-full"/> <!>',1),_d=_("<div> </div>"),fd=_('<div class="flex w-full justify-between mb-2"><div class=" self-center text-sm font-medium"> </div></div> <!>',1),pd=_('<div class="flex justify-center h-full"><div class="my-auto"><!></div></div>'),md=_('<div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div>'),gd=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class="overflow-y-scroll scrollbar-hidden h-full"><!></div> <!></form>');function xd(It,ee){br(ee,!1);const r=()=>la(h,"$i18n",Gt),f=()=>la(Jr,"$config",Gt),p=()=>la(xl,"$settings",Gt),[Gt,Ke]=Nr(),h=Ar("i18n");let we=oa(ee,"saveHandler",8),v=k(!1),o=k(!1),S=k(),$=k(null),U=k(""),y=k(null),A=k(null),G=k(null),K=k(null),te=k("");const Ie=async()=>{var ve,N,xe,We;const se=e(y)[e(K)];if(se&&((se==null?void 0:se.valves)??!1)){for(const R in e(G).properties)((ve=e(G).properties[R])==null?void 0:ve.type)==="array"&&m(A,e(A)[R]=(e(A)[R]??"").split(",").map(F=>F.trim()));await Vi(localStorage.token,se.id,e(A),e(U)).catch(R=>{fe.error(`${R}`)})&&(fe.success(r().t("Valves updated successfully")),Ne(),Wr.set(await al(localStorage.token,((xe=(N=f())==null?void 0:N.features)==null?void 0:xe.enable_direct_connections)&&(((We=p())==null?void 0:We.directConnections)??null))),we()())}else fe.error(r().t("No valves to update"))},Ee=async se=>{var ve;c(A,null),c(G,null),c(G,await zi(localStorage.token,e(y)[se].id,e(U))),c(A,await Xi(localStorage.token,e(y)[se].id,e(U)));for(const N in e(G).properties)((ve=e(G).properties[N])==null?void 0:ve.type)==="array"&&m(A,e(A)[N]=e(A)[N].join(","))},Ne=async()=>{c(y,null),c(A,null),c(G,null),e($).length>0?(e(U),c(y,await Zi(localStorage.token,e(U))),e(y).length>0&&(c(K,0),await Ee(e(K)))):c(y,[])},n=async()=>{var ve,N,xe;c(v,!0),await Ji(localStorage.token,e(te),e(U)).catch(We=>(fe.error(`${We}`),null))&&(fe.success(r().t("Pipeline downloaded successfully")),Ne(),Wr.set(await al(localStorage.token,((N=(ve=f())==null?void 0:ve.features)==null?void 0:N.enable_direct_connections)&&(((xe=p())==null?void 0:xe.directConnections)??null)))),c(v,!1)},q=async()=>{var ve,N,xe;if(c(o,!0),e(S)&&e(S).length!==0){const We=e(S)[0];await qi(localStorage.token,We,e(U)).catch(R=>(fe.error(r().t("Something went wrong :/")),null))&&(fe.success(r().t("Pipeline downloaded successfully")),Ne(),Wr.set(await al(localStorage.token,((N=(ve=f())==null?void 0:ve.features)==null?void 0:N.enable_direct_connections)&&(((xe=p())==null?void 0:xe.directConnections)??null))))}else fe.error(r().t("No file selected"));c(S,null);const se=document.getElementById("pipelines-upload-input");se&&(se.value=null),c(o,!1)},W=async()=>{var ve,N,xe;await Qi(localStorage.token,e(y)[e(K)].id,e(U)).catch(We=>(fe.error(`${We}`),null))&&(fe.success(r().t("Pipeline deleted successfully")),Ne(),Wr.set(await al(localStorage.token,((N=(ve=f())==null?void 0:ve.features)==null?void 0:N.enable_direct_connections)&&(((xe=p())==null?void 0:xe.directConnections)??null))))};rl(async()=>{c($,await Fi(localStorage.token)),e($),e($).length>0&&c(U,e($)[0].idx.toString()),await Ne()}),Rr();var ye=gd(),V=a(ye),ue=a(V);{var M=se=>{var ve=fd(),N=L(ve),xe=a(N),We=a(xe,!0);t(xe),t(N);var _e=l(N,2);{var R=Fe=>{var mt=ud(),Ot=L(mt),bt=a(Ot),fa=a(bt),zt=a(fa);u(()=>{e(U),Pa(()=>{r(),e($)})});var ca=a(zt),ua=a(ca,!0);t(ca),ca.value=ca.__value="";var Jt=l(ca);Za(Jt,1,()=>e($),dr,(Ze,Z,at,ft)=>{var Et=Vv(),re=a(Et,!0);t(Et);var ne={};u(Se=>{s(re,(e(Z),i(()=>e(Z).url))),ne!==(ne=Se)&&(Et.value=(Et.__value=Se)??"")},[()=>(e(Z),i(()=>e(Z).idx.toString()))]),d(Ze,Et)}),t(zt),t(fa),t(bt),t(Ot);var aa=l(Ot,2),be=a(aa),Ye=a(be,!0);t(be);var vt=l(be,2),nt=a(vt),Ge=a(nt),ze=l(Ge,2),tt=a(ze);{var ut=Ze=>{var Z=cr();u(()=>s(Z,`${e(S),i(()=>e(S).length>0?`${e(S).length}`:"")??""} pipeline(s) selected.`)),d(Ze,Z)},et=Ze=>{var Z=cr();u(at=>s(Z,at),[()=>(r(),i(()=>r().t("Click here to select a py file.")))]),d(Ze,Z)};g(tt,Ze=>{e(S)?Ze(ut):Ze(et,!1)})}t(ze),t(nt);var Lt=l(nt,2),Nt=a(Lt);{var qt=Ze=>{var Z=Zv();d(Ze,Z)},ct=Ze=>{var Z=zv();d(Ze,Z)};g(Nt,Ze=>{e(o)?Ze(qt):Ze(ct,!1)})}t(Lt),t(vt),t(aa);var Qt=l(aa,2),wa=a(Qt),Ua=a(wa,!0);t(wa);var na=l(wa,2),Wt=a(na),St=a(Wt);Q(St),t(Wt);var ia=l(Wt,2),At=a(ia);{var Ce=Ze=>{var Z=Xv();d(Ze,Z)},Ct=Ze=>{var Z=Jv();d(Ze,Z)};g(At,Ze=>{e(v)?Ze(Ce):Ze(Ct,!1)})}t(ia),t(na);var Ht=l(na,2),da=a(Ht),$a=a(da,!0);t(da);var ha=l(da),Ft=l(ha),jt=a(Ft,!0);t(Ft),t(Ht),t(Qt);var gt=l(Qt,4);{var Vt=Ze=>{var Z=Qe(),at=L(Z);{var ft=re=>{var ne=od(),Se=L(ne),Oe=a(Se),Ue=a(Oe,!0);t(Oe),t(Se);var Le=l(Se,2),Ae=a(Le);{var Be=Pe=>{var $e=Qv(),B=a($e),z=a(B);u(()=>{e(K),Pa(()=>{r(),e(y)})}),Za(z,5,()=>e(y),dr,(de,ae,b)=>{var Y=qv(),O=a(Y);t(Y),Y.value=Y.__value=b,u(()=>s(O,`${e(ae),i(()=>e(ae).name)??""} (${e(ae),i(()=>e(ae).type??"pipe")??""})`)),d(de,Y)}),t(z),t(B);var pe=l(B,2);t($e),u(de=>T(z,"placeholder",de),[()=>(r(),i(()=>r().t("Select a pipeline")))]),or(z,()=>e(K),de=>c(K,de)),Ve("change",z,async()=>{await Rl(),await Ee(e(K))}),Ve("click",pe,()=>{W()}),d(Pe,$e)};g(Ae,Pe=>{e(y),i(()=>e(y).length>0)&&Pe(Be)})}var C=l(Ae,2),H=a(C);{var ie=Pe=>{var $e=Qe(),B=L($e);{var z=de=>{var ae=Qe(),b=L(ae);Za(b,1,()=>(e(G),i(()=>Object.keys(e(G).properties))),dr,(Y,O)=>{var ce=vd(),Re=a(ce),E=a(Re),w=a(E,!0);t(E);var P=l(E,2),oe=a(P);{var Te=Me=>{var ke=ed(),De=a(ke,!0);t(ke),u(rt=>s(De,rt),[()=>(r(),i(()=>r().t("None")))]),d(Me,ke)},j=Me=>{var ke=td(),De=a(ke,!0);t(ke),u(rt=>s(De,rt),[()=>(r(),i(()=>r().t("Custom")))]),d(Me,ke)};g(oe,Me=>{e(A),e(O),i(()=>(e(A)[e(O)]??null)===null)?Me(Te):Me(j,!1)})}t(P),t(Re);var me=l(Re,2);{var _t=Me=>{var ke=sd(),De=a(ke),rt=a(De);{var Pt=ht=>{var he=rd();u(()=>{e(A),Pa(()=>{e(O),e(G)})}),Za(he,5,()=>(e(G),e(O),i(()=>e(G).properties[e(O)].enum)),dr,(X,ge)=>{var st=ad(),it=a(st,!0);t(st);var Xe={};u(()=>{li(st,(e(ge),e(A),e(O),i(()=>e(ge)===e(A)[e(O)]))),s(it,e(ge)),Xe!==(Xe=e(ge))&&(st.value=(st.__value=e(ge))??"")}),d(X,st)}),t(he),or(he,()=>e(A)[e(O)],X=>m(A,e(A)[e(O)]=X)),d(ht,he)},yt=ht=>{var he=Qe(),X=L(he);{var ge=it=>{var Xe=ld(),qe=a(Xe),xt=a(qe,!0);t(qe);var Bt=l(qe,2),kt=a(Bt);ta(kt,{get state(){return e(A)[e(O)]},set state(_a){m(A,e(A)[e(O)]=_a)},$$legacy:!0}),t(Bt),t(Xe),u(_a=>s(xt,_a),[()=>(e(A),e(O),r(),i(()=>e(A)[e(O)]?r().t("Enabled"):r().t("Disabled")))]),d(it,Xe)},st=it=>{var Xe=id();Q(Xe),u(()=>T(Xe,"placeholder",(e(G),e(O),i(()=>e(G).properties[e(O)].title)))),J(Xe,()=>e(A)[e(O)],qe=>m(A,e(A)[e(O)]=qe)),d(it,Xe)};g(X,it=>{e(G),e(O),i(()=>{var Xe;return(((Xe=e(G).properties[e(O)])==null?void 0:Xe.type)??null)==="boolean"})?it(ge):it(st,!1)},!0)}d(ht,he)};g(rt,ht=>{e(G),e(O),i(()=>{var he;return((he=e(G).properties[e(O)])==null?void 0:he.enum)??null})?ht(Pt):ht(yt,!1)})}t(De),t(ke),d(Me,ke)};g(me,Me=>{e(A),e(O),i(()=>(e(A)[e(O)]??null)!==null)&&Me(_t)})}t(ce),u(()=>s(w,(e(G),e(O),i(()=>e(G).properties[e(O)].title)))),Ve("click",P,()=>{m(A,e(A)[e(O)]=(e(A)[e(O)]??null)===null?"":null)}),d(Y,ce)}),d(de,ae)},pe=de=>{Qr(de,{className:"size-5"})};g(B,de=>{e(A)?de(z):de(pe,!1)})}d(Pe,$e)},He=Pe=>{var $e=dd(),B=a($e,!0);t($e),u(z=>s(B,z),[()=>(r(),i(()=>r().t("No valves")))]),d(Pe,$e)};g(H,Pe=>{e(y),e(K),i(()=>e(y)[e(K)].valves)?Pe(ie):Pe(He,!1)})}t(C),t(Le),u(Pe=>s(Ue,Pe),[()=>(r(),i(()=>r().t("Pipelines Valves")))]),d(re,ne)},Et=re=>{var ne=Qe(),Se=L(ne);{var Oe=Ue=>{var Le=nd(),Ae=a(Le,!0);t(Le),u(Be=>s(Ae,Be),[()=>(r(),i(()=>r().t("Pipelines Not Detected")))]),d(Ue,Le)};g(Se,Ue=>{e(y),i(()=>e(y).length===0)&&Ue(Oe)},!0)}d(re,ne)};g(at,re=>{e(y),i(()=>e(y).length>0)?re(ft):re(Et,!1)})}d(Ze,Z)},Yt=Ze=>{var Z=cd(),at=a(Z),ft=a(at);Qr(ft,{className:"size-4"}),t(at),t(Z),d(Ze,Z)};g(gt,Ze=>{e(y)!==null?Ze(Vt):Ze(Yt,!1)})}u((Ze,Z,at,ft,Et,re,ne,Se)=>{T(zt,"placeholder",Ze),s(ua,Z),s(Ye,at),Lt.disabled=e(o),s(Ua,ft),T(St,"placeholder",Et),ia.disabled=e(v),s($a,re),s(ha,` ${ne??""} `),s(jt,Se)},[()=>(r(),i(()=>r().t("Select a pipeline url"))),()=>(r(),i(()=>r().t("Select a pipeline url"))),()=>(r(),i(()=>r().t("Upload Pipeline"))),()=>(r(),i(()=>r().t("Install from Github URL"))),()=>(r(),i(()=>r().t("Enter Github Raw URL"))),()=>(r(),i(()=>r().t("Warning:"))),()=>(r(),i(()=>r().t("Pipelines are a plugin system with arbitrary code execution "))),()=>(r(),i(()=>r().t("don't fetch random pipelines from sources you don't trust.")))]),or(zt,()=>e(U),Ze=>c(U,Ze)),Ve("change",zt,async()=>{await Rl(),await Ne()}),si(Ge,()=>e(S),Ze=>c(S,Ze)),Ve("click",ze,()=>{var Ze;(Ze=document.getElementById("pipelines-upload-input"))==null||Ze.click()}),Ve("click",Lt,()=>{q()}),J(St,()=>e(te),Ze=>c(te,Ze)),Ve("click",ia,()=>{n()}),d(Fe,mt)},F=Fe=>{var mt=_d(),Ot=a(mt,!0);t(mt),u(bt=>s(Ot,bt),[()=>(r(),i(()=>r().t("Pipelines Not Detected")))]),d(Fe,mt)};g(_e,Fe=>{e($),i(()=>e($).length>0)?Fe(R):Fe(F,!1)})}u(Fe=>s(We,Fe),[()=>(r(),i(()=>r().t("Manage Pipelines")))]),d(se,ve)},x=se=>{var ve=pd(),N=a(ve),xe=a(N);Qr(xe,{className:"size-6"}),t(N),t(ve),d(se,ve)};g(ue,se=>{e($)!==null?se(M):se(x,!1)})}t(V);var D=l(V,2);{var le=se=>{var ve=md(),N=a(ve),xe=a(N,!0);t(N),t(ve),u(We=>s(xe,We),[()=>(r(),i(()=>r().t("Save")))]),d(se,ve)};g(D,se=>{e($),i(()=>e($)!==null&&e($).length>0)&&se(le)})}t(ye),Ve("submit",ye,il(async()=>{Ie()})),d(It,ye),wr(),Ke()}var Ed=_('<div class="mb-2"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div>'),yd=_('<div><div class="mt-1 flex gap-2 mb-1"><input class="flex-1 w-full bg-transparent outline-hidden" required/> <!></div></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="model-list"><option></option></datalist></div></div></div>',1),hd=_('<div><div class="mt-1 flex gap-2 mb-1"><!></div></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" hover:underline dark:text-gray-200 text-gray-800" href="https://developers.deepgram.com/docs/models" target="_blank"> </a></div></div>',1),bd=_('<div><div class="mt-1 flex gap-2 mb-1"><!></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div></div>'),Ad=_(`<div><div class="mt-1 flex gap-2 mb-1"><input class="flex-1 w-full bg-transparent outline-hidden" required/> <!></div></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" placeholder="voxtral-mini-latest"/></div></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" hover:underline dark:text-gray-200 text-gray-800" href="https://docs.mistral.ai/capabilities/audio_transcription" target="_blank"> </a></div></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class="flex items-center justify-between mb-2"><div class="text-xs font-medium"> </div> <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"/> <div class="w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div></label></div> <div class="text-xs text-gray-400 dark:text-gray-500"> </div></div>`,1),wd=_('<div class="self-center"><!></div>'),Id=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),$d=_('<div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div> <button class="px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"><!></button></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" hover:underline dark:text-gray-200 text-gray-800" href="https://github.com/SYSTRAN/faster-whisper" target="_blank"> </a></div></div>'),Rd=_('<div><div class="mt-1 flex gap-2 mb-1"><input class="flex-1 w-full bg-transparent outline-hidden" required/> <!></div></div>'),Nd=_('<div><div class="mt-1 flex gap-2 mb-1"><!></div></div>'),Td=_('<div><div class="mt-1 flex gap-2 mb-1"><!></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div></div>'),Sd=_('<option class="bg-gray-100 dark:bg-gray-700"> </option>'),kd=_('<div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option> </option><!></select></div></div></div>'),Od=_('<div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="model-list"><option></option></datalist></div></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" hover:underline dark:text-gray-200 text-gray-800" href="https://github.com/microsoft/SpeechT5" target="_blank"> </a> To see the available CMU Arctic speaker embeddings, <a class=" hover:underline dark:text-gray-200 text-gray-800" href="https://huggingface.co/datasets/Matthijs/cmu-arctic-xvectors" target="_blank"> </a></div></div>'),Ld=_("<option> </option>"),Pd=_('<option class="bg-gray-50 dark:bg-gray-700"></option>'),Md=_('<div class=" flex gap-2"><div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="voice-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="voice-list"></datalist></div></div></div> <div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="tts-model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="tts-model-list"></datalist></div></div></div></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"><div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div>',1),Cd=_("<option> </option>"),Ud=_('<option class="bg-gray-50 dark:bg-gray-700"></option>'),Dd=_('<div class=" flex gap-2"><div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="voice-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="voice-list"></datalist></div></div></div> <div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="tts-model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="tts-model-list"></datalist></div></div></div></div>'),Gd=_("<option> </option>"),Bd=_('<div class=" flex gap-2"><div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="voice-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="voice-list"></datalist></div></div></div> <div class="w-full"><div class=" mb-1.5 text-xs font-medium"> <a href="https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=streaming#audio-outputs" target="_blank"><small> </small></a></div> <div class="flex w-full"><div class="flex-1"><input list="tts-model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div></div>'),Hd=_("<option> </option>"),jd=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class=" space-y-3 overflow-y-scroll scrollbar-hidden h-full"><div class="flex flex-col gap-3"><div><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <!> <div class="mb-2 py-0.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option></select></div></div> <!></div> <div><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2 py-0.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class=" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option><option> </option><option> </option></select></div></div> <!> <div class="mb-2"><!></div> <div class="pt-0.5 flex w-full justify-between"><div class="self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"></select></div></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> </div></div></div></div> <div class="flex justify-end text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>');function Kd(It,ee){br(ee,!1);const r=()=>la(Jr,"$config",Gt),f=()=>la(xl,"$settings",Gt),p=()=>la(we,"$i18n",Gt),[Gt,Ke]=Nr(),h=cl(),we=Ar("i18n");let v=oa(ee,"saveHandler",8),o=k(""),S=k(""),$=k(""),U=k(""),y=k(""),A=k(""),G=k(""),K=k(Kl.PUNCTUATION),te=k(""),Ie=k(""),Ee=k(""),Ne=k(""),n=k(""),q=k(""),W=k(""),ye=k(""),V=k(""),ue=k(""),M=k(""),x=k(""),D=k(""),le=k(""),se=k(""),ve=k(""),N=k(""),xe=k(!1),We=k(!1),_e=k([]),R=k([]);const F=async()=>{var b,Y,O;if(e(U)==="")c(R,[]);else{const ce=await Ls(localStorage.token,((Y=(b=r())==null?void 0:b.features)==null?void 0:Y.enable_direct_connections)&&(((O=f())==null?void 0:O.directConnections)??null)).catch(Re=>{fe.error(`${Re}`)});ce&&c(R,ce.models)}},Fe=async()=>{if(e(U)===""){const b=setInterval(()=>{c(_e,speechSynthesis.getVoices()),e(_e).length>0&&(clearInterval(b),e(_e).sort((Y,O)=>Y.name.localeCompare(O.name,p().resolvedLanguage)))},100)}else{const b=await Ps(localStorage.token).catch(Y=>{fe.error(`${Y}`)});b&&(c(_e,b.voices),e(_e).sort((Y,O)=>Y.name.localeCompare(O.name,p().resolvedLanguage)))}},mt=async()=>{let b={};try{b=e(G)?JSON.parse(e(G)):{},c(G,JSON.stringify(b,null,2))}catch{fe.error(p().t("Invalid JSON format for Parameters"));return}await Ms(localStorage.token,{tts:{OPENAI_API_BASE_URL:e(o),OPENAI_API_KEY:e(S),OPENAI_PARAMS:b,API_KEY:e($),ENGINE:e(U),MODEL:e(y),VOICE:e(A),AZURE_SPEECH_REGION:e(te),AZURE_SPEECH_BASE_URL:e(Ie),AZURE_SPEECH_OUTPUT_FORMAT:e(Ee),SPLIT_ON:e(K)},stt:{OPENAI_API_BASE_URL:e(Ne),OPENAI_API_KEY:e(n),ENGINE:e(q),MODEL:e(W),SUPPORTED_CONTENT_TYPES:e(ye).split(","),WHISPER_MODEL:e(V),DEEPGRAM_API_KEY:e(se),AZURE_API_KEY:e(ue),AZURE_REGION:e(M),AZURE_LOCALES:e(x),AZURE_BASE_URL:e(D),AZURE_MAX_SPEAKERS:e(le),MISTRAL_API_KEY:e(ve),MISTRAL_API_BASE_URL:e(N),MISTRAL_USE_CHAT_COMPLETIONS:e(xe)}})&&(v()(),Jr.set(await pl()))},Ot=async()=>{c(We,!0),await mt(),c(We,!1)};rl(async()=>{var Y,O;const b=await Os(localStorage.token);b&&(c(o,b.tts.OPENAI_API_BASE_URL),c(S,b.tts.OPENAI_API_KEY),c(G,JSON.stringify(((Y=b==null?void 0:b.tts)==null?void 0:Y.OPENAI_PARAMS)??"",null,2)),c($,b.tts.API_KEY),c(U,b.tts.ENGINE),c(y,b.tts.MODEL),c(A,b.tts.VOICE),c(K,b.tts.SPLIT_ON||Kl.PUNCTUATION),c(te,b.tts.AZURE_SPEECH_REGION),c(Ie,b.tts.AZURE_SPEECH_BASE_URL),c(Ee,b.tts.AZURE_SPEECH_OUTPUT_FORMAT),c(Ne,b.stt.OPENAI_API_BASE_URL),c(n,b.stt.OPENAI_API_KEY),c(q,b.stt.ENGINE),c(W,b.stt.MODEL),c(ye,(((O=b==null?void 0:b.stt)==null?void 0:O.SUPPORTED_CONTENT_TYPES)??[]).join(",")),c(V,b.stt.WHISPER_MODEL),c(ue,b.stt.AZURE_API_KEY),c(M,b.stt.AZURE_REGION),c(x,b.stt.AZURE_LOCALES),c(D,b.stt.AZURE_BASE_URL),c(le,b.stt.AZURE_MAX_SPEAKERS),c(se,b.stt.DEEPGRAM_API_KEY),c(ve,b.stt.MISTRAL_API_KEY),c(N,b.stt.MISTRAL_API_BASE_URL),c(xe,b.stt.MISTRAL_USE_CHAT_COMPLETIONS)),await Fe(),await F()}),Rr();var bt=jd(),fa=a(bt),zt=a(fa),ca=a(zt),ua=a(ca),Jt=a(ua,!0);t(ua);var aa=l(ua,4);{var be=b=>{var Y=Ed(),O=a(Y),ce=a(O,!0);t(O);var Re=l(O,2),E=a(Re),w=a(E);Q(w),t(E),t(Re),t(Y),u((P,oe)=>{s(ce,P),T(w,"placeholder",oe)},[()=>(p(),i(()=>p().t("Supported MIME Types"))),()=>(p(),i(()=>p().t("e.g., audio/wav,audio/mpeg,video/* (leave blank for defaults)")))]),J(w,()=>e(ye),P=>c(ye,P)),d(b,Y)};g(aa,b=>{e(q)!=="web"&&b(be)})}var Ye=l(aa,2),vt=a(Ye),nt=a(vt,!0);t(vt);var Ge=l(vt,2),ze=a(Ge);u(()=>{e(q),Pa(()=>{p()})});var tt=a(ze),ut=a(tt,!0);t(tt),tt.value=tt.__value="";var et=l(tt),Lt=a(et,!0);t(et),et.value=et.__value="openai";var Nt=l(et),qt=a(Nt,!0);t(Nt),Nt.value=Nt.__value="web";var ct=l(Nt),Qt=a(ct,!0);t(ct),ct.value=ct.__value="deepgram";var wa=l(ct),Ua=a(wa,!0);t(wa),wa.value=wa.__value="azure";var na=l(wa),Wt=a(na,!0);t(na),na.value=na.__value="mistral",t(ze),t(Ge),t(Ye);var St=l(Ye,2);{var ia=b=>{var Y=yd(),O=L(Y),ce=a(O),Re=a(ce);Q(Re);var E=l(Re,2);{let ke=I(()=>(p(),i(()=>p().t("API Key"))));va(E,{get placeholder(){return e(ke)},get value(){return e(n)},set value(De){c(n,De)},$$legacy:!0})}t(ce),t(O);var w=l(O,4),P=a(w),oe=a(P,!0);t(P);var Te=l(P,2),j=a(Te),me=a(j);Q(me);var _t=l(me,2),Me=a(_t);Me.value=Me.__value="whisper-1",t(_t),t(j),t(Te),t(w),u((ke,De,rt)=>{T(Re,"placeholder",ke),s(oe,De),T(me,"placeholder",rt)},[()=>(p(),i(()=>p().t("API Base URL"))),()=>(p(),i(()=>p().t("STT Model"))),()=>(p(),i(()=>p().t("Select a model")))]),J(Re,()=>e(Ne),ke=>c(Ne,ke)),J(me,()=>e(W),ke=>c(W,ke)),d(b,Y)},At=b=>{var Y=Qe(),O=L(Y);{var ce=E=>{var w=hd(),P=L(w),oe=a(P),Te=a(oe);{let he=I(()=>(p(),i(()=>p().t("API Key"))));va(Te,{get placeholder(){return e(he)},get value(){return e(se)},set value(X){c(se,X)},$$legacy:!0})}t(oe),t(P);var j=l(P,4),me=a(j),_t=a(me,!0);t(me);var Me=l(me,2),ke=a(Me),De=a(ke);Q(De),t(ke),t(Me);var rt=l(Me,2),Pt=a(rt),yt=l(Pt),ht=a(yt,!0);t(yt),t(rt),t(j),u((he,X,ge,st)=>{s(_t,he),T(De,"placeholder",X),s(Pt,`${ge??""} `),s(ht,st)},[()=>(p(),i(()=>p().t("STT Model"))),()=>(p(),i(()=>p().t("Select a model (optional)"))),()=>(p(),i(()=>p().t("Leave model field empty to use the default model."))),()=>(p(),i(()=>p().t("Click here to see available models.")))]),J(De,()=>e(W),he=>c(W,he)),d(E,w)},Re=E=>{var w=Qe(),P=L(w);{var oe=j=>{var me=bd(),_t=a(me),Me=a(_t);{let $t=I(()=>(p(),i(()=>p().t("API Key"))));va(Me,{get placeholder(){return e($t)},required:!0,get value(){return e(ue)},set value(Xt){c(ue,Xt)},$$legacy:!0})}t(_t);var ke=l(_t,4),De=a(ke),rt=a(De,!0);t(De);var Pt=l(De,2),yt=a(Pt),ht=a(yt);Q(ht),t(yt),t(Pt),t(ke);var he=l(ke,2),X=a(he),ge=a(X,!0);t(X);var st=l(X,2),it=a(st),Xe=a(it);Q(Xe),t(it),t(st),t(he);var qe=l(he,2),xt=a(qe),Bt=a(xt,!0);t(xt);var kt=l(xt,2),_a=a(kt),ea=a(_a);Q(ea),t(_a),t(kt),t(qe);var ga=l(qe,2),Ra=a(ga),Je=a(Ra,!0);t(Ra);var dt=l(Ra,2),Ut=a(dt),ot=a(Ut);Q(ot),t(Ut),t(dt),t(ga),t(me),u(($t,Xt,ya,Ta,ur,qa,Da,pa)=>{s(rt,$t),T(ht,"placeholder",Xt),s(ge,ya),T(Xe,"placeholder",Ta),s(Bt,ur),T(ea,"placeholder",qa),s(Je,Da),T(ot,"placeholder",pa)},[()=>(p(),i(()=>p().t("Azure Region"))),()=>(p(),i(()=>p().t("e.g., westus (leave blank for eastus)"))),()=>(p(),i(()=>p().t("Language Locales"))),()=>(p(),i(()=>p().t("e.g., en-US,ja-JP (leave blank for auto-detect)"))),()=>(p(),i(()=>p().t("Endpoint URL"))),()=>(p(),i(()=>p().t("(leave blank for to use commercial endpoint)"))),()=>(p(),i(()=>p().t("Max Speakers"))),()=>(p(),i(()=>p().t("e.g., 3, 4, 5 (leave blank for default)")))]),J(ht,()=>e(M),$t=>c(M,$t)),J(Xe,()=>e(x),$t=>c(x,$t)),J(ea,()=>e(D),$t=>c(D,$t)),J(ot,()=>e(le),$t=>c(le,$t)),d(j,me)},Te=j=>{var me=Qe(),_t=L(me);{var Me=De=>{var rt=Ad(),Pt=L(rt),yt=a(Pt),ht=a(yt);Q(ht);var he=l(ht,2);{let Xt=I(()=>(p(),i(()=>p().t("API Key"))));va(he,{get placeholder(){return e(Xt)},get value(){return e(ve)},set value(ya){c(ve,ya)},$$legacy:!0})}t(yt),t(Pt);var X=l(Pt,4),ge=a(X),st=a(ge,!0);t(ge);var it=l(ge,2),Xe=a(it),qe=a(Xe);Q(qe),t(Xe),t(it);var xt=l(it,2),Bt=a(xt),kt=l(Bt),_a=a(kt,!0);t(kt),t(xt),t(X);var ea=l(X,4),ga=a(ea),Ra=a(ga),Je=a(Ra,!0);t(Ra);var dt=l(Ra,2),Ut=a(dt);Q(Ut),Dr(2),t(dt),t(ga);var ot=l(ga,2),$t=a(ot,!0);t(ot),t(ea),u((Xt,ya,Ta,ur,qa,Da)=>{T(ht,"placeholder",Xt),s(st,ya),s(Bt,`${Ta??""} `),s(_a,ur),s(Je,qa),s($t,Da)},[()=>(p(),i(()=>p().t("API Base URL"))),()=>(p(),i(()=>p().t("STT Model"))),()=>(p(),i(()=>p().t("Leave empty to use the default model (voxtral-mini-latest)."))),()=>(p(),i(()=>p().t("Learn more about Voxtral transcription."))),()=>(p(),i(()=>p().t("Use Chat Completions API"))),()=>(p(),i(()=>p().t("Use /v1/chat/completions endpoint instead of /v1/audio/transcriptions for potentially better accuracy.")))]),J(ht,()=>e(N),Xt=>c(N,Xt)),J(qe,()=>e(W),Xt=>c(W,Xt)),Bi(Ut,()=>e(xe),Xt=>c(xe,Xt)),d(De,rt)},ke=De=>{var rt=Qe(),Pt=L(rt);{var yt=ht=>{var he=$d(),X=a(he),ge=a(X,!0);t(X);var st=l(X,2),it=a(st),Xe=a(it);Q(Xe),t(it);var qe=l(it,2),xt=a(qe);{var Bt=Je=>{var dt=wd(),Ut=a(dt);Qr(Ut,{}),t(dt),d(Je,dt)},kt=Je=>{var dt=Id();d(Je,dt)};g(xt,Je=>{e(We)?Je(Bt):Je(kt,!1)})}t(qe),t(st);var _a=l(st,2),ea=a(_a),ga=l(ea),Ra=a(ga,!0);t(ga),t(_a),t(he),u((Je,dt,Ut,ot)=>{s(ge,Je),T(Xe,"placeholder",dt),qe.disabled=e(We),s(ea,`${Ut??""} `),s(Ra,ot)},[()=>(p(),i(()=>p().t("STT Model"))),()=>(p(),i(()=>p().t("Set whisper model"))),()=>(p(),i(()=>p().t("Open WebUI uses faster-whisper internally."))),()=>(p(),i(()=>p().t("Click here to learn more about faster-whisper and see the available models.")))]),J(Xe,()=>e(V),Je=>c(V,Je)),Ve("click",qe,()=>{Ot()}),d(ht,he)};g(Pt,ht=>{e(q)===""&&ht(yt)},!0)}d(De,rt)};g(_t,De=>{e(q)==="mistral"?De(Me):De(ke,!1)},!0)}d(j,me)};g(P,j=>{e(q)==="azure"?j(oe):j(Te,!1)},!0)}d(E,w)};g(O,E=>{e(q)==="deepgram"?E(ce):E(Re,!1)},!0)}d(b,Y)};g(St,b=>{e(q)==="openai"?b(ia):b(At,!1)})}t(ca);var Ce=l(ca,2),Ct=a(Ce),Ht=a(Ct,!0);t(Ct);var da=l(Ct,4),$a=a(da),ha=a($a,!0);t($a);var Ft=l($a,2),jt=a(Ft);u(()=>{e(U),Pa(()=>{p(),e(A),e(y)})});var gt=a(jt),Vt=a(gt,!0);t(gt),gt.value=gt.__value="";var Yt=l(gt),Ze=a(Yt);t(Yt),Yt.value=Yt.__value="transformers";var Z=l(Yt),at=a(Z,!0);t(Z),Z.value=Z.__value="openai";var ft=l(Z),Et=a(ft,!0);t(ft),ft.value=ft.__value="elevenlabs";var re=l(ft),ne=a(re,!0);t(re),re.value=re.__value="azure",t(jt),t(Ft),t(da);var Se=l(da,2);{var Oe=b=>{var Y=Rd(),O=a(Y),ce=a(O);Q(ce);var Re=l(ce,2);{let E=I(()=>(p(),i(()=>p().t("API Key"))));va(Re,{get placeholder(){return e(E)},get value(){return e(S)},set value(w){c(S,w)},$$legacy:!0})}t(O),t(Y),u(E=>T(ce,"placeholder",E),[()=>(p(),i(()=>p().t("API Base URL")))]),J(ce,()=>e(o),E=>c(o,E)),d(b,Y)},Ue=b=>{var Y=Qe(),O=L(Y);{var ce=E=>{var w=Nd(),P=a(w),oe=a(P);{let Te=I(()=>(p(),i(()=>p().t("API Key"))));va(oe,{get placeholder(){return e(Te)},required:!0,get value(){return e($)},set value(j){c($,j)},$$legacy:!0})}t(P),t(w),d(E,w)},Re=E=>{var w=Qe(),P=L(w);{var oe=Te=>{var j=Td(),me=a(j),_t=a(me);{let Xe=I(()=>(p(),i(()=>p().t("API Key"))));va(_t,{get placeholder(){return e(Xe)},required:!0,get value(){return e($)},set value(qe){c($,qe)},$$legacy:!0})}t(me);var Me=l(me,4),ke=a(Me),De=a(ke,!0);t(ke);var rt=l(ke,2),Pt=a(rt),yt=a(Pt);Q(yt),t(Pt),t(rt),t(Me);var ht=l(Me,2),he=a(ht),X=a(he,!0);t(he);var ge=l(he,2),st=a(ge),it=a(st);Q(it),t(st),t(ge),t(ht),t(j),u((Xe,qe,xt,Bt)=>{s(De,Xe),T(yt,"placeholder",qe),s(X,xt),T(it,"placeholder",Bt)},[()=>(p(),i(()=>p().t("Azure Region"))),()=>(p(),i(()=>p().t("e.g., westus (leave blank for eastus)"))),()=>(p(),i(()=>p().t("Endpoint URL"))),()=>(p(),i(()=>p().t("(leave blank for to use commercial endpoint)")))]),J(yt,()=>e(te),Xe=>c(te,Xe)),J(it,()=>e(Ie),Xe=>c(Ie,Xe)),d(Te,j)};g(P,Te=>{e(U)==="azure"&&Te(oe)},!0)}d(E,w)};g(O,E=>{e(U)==="elevenlabs"?E(ce):E(Re,!1)},!0)}d(b,Y)};g(Se,b=>{e(U)==="openai"?b(Oe):b(Ue,!1)})}var Le=l(Se,2),Ae=a(Le);{var Be=b=>{var Y=kd(),O=a(Y),ce=a(O,!0);t(O);var Re=l(O,2),E=a(Re),w=a(E);u(()=>{e(A),Pa(()=>{p(),e(_e)})});var P=a(w),oe=a(P,!0);t(P),P.value=P.__value="";var Te=l(P);Za(Te,1,()=>e(_e),dr,(j,me)=>{var _t=Sd(),Me=a(_t,!0);t(_t);var ke={};u(()=>{li(_t,(e(A),e(me),i(()=>e(A)===e(me).voiceURI))),s(Me,(e(me),i(()=>e(me).name))),ke!==(ke=(e(me),i(()=>e(me).voiceURI)))&&(_t.value=(_t.__value=(e(me),i(()=>e(me).voiceURI)))??"")}),d(j,_t)}),t(w),t(E),t(Re),t(Y),u((j,me)=>{s(ce,j),li(P,e(A)!==""),s(oe,me)},[()=>(p(),i(()=>p().t("TTS Voice"))),()=>(p(),i(()=>p().t("Default")))]),or(w,()=>e(A),j=>c(A,j)),d(b,Y)},C=b=>{var Y=Qe(),O=L(Y);{var ce=E=>{var w=Od(),P=a(w),oe=a(P,!0);t(P);var Te=l(P,2),j=a(Te),me=a(j);Q(me);var _t=l(me,2),Me=a(_t);Me.value=Me.__value="tts-1",t(_t),t(j),t(Te);var ke=l(Te,2),De=a(ke),rt=l(De),Pt=a(rt);t(rt);var yt=l(rt,2),ht=a(yt);t(yt),t(ke),t(w),u((he,X,ge,st,it)=>{s(oe,he),T(me,"placeholder",X),s(De,`${ge??""}

								To learn more about SpeechT5, `),s(Pt,`${st??""}.`),s(ht,`${it??""}.`)},[()=>(p(),i(()=>p().t("TTS Model"))),()=>(p(),i(()=>p().t("CMU ARCTIC speaker embedding name"))),()=>(p(),i(()=>p().t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings."))),()=>(p(),i(()=>p().t("click here",{name:"SpeechT5"}))),()=>(p(),i(()=>p().t("click here")))]),J(me,()=>e(y),he=>c(y,he)),d(E,w)},Re=E=>{var w=Qe(),P=L(w);{var oe=j=>{var me=Md(),_t=L(me),Me=a(_t),ke=a(Me),De=a(ke,!0);t(ke);var rt=l(ke,2),Pt=a(rt),yt=a(Pt);Q(yt);var ht=l(yt,2);Za(ht,5,()=>e(_e),dr,(Je,dt)=>{var Ut=Ld(),ot=a(Ut,!0);t(Ut);var $t={};u(()=>{s(ot,(e(dt),i(()=>e(dt).name))),$t!==($t=(e(dt),i(()=>e(dt).id)))&&(Ut.value=(Ut.__value=(e(dt),i(()=>e(dt).id)))??"")}),d(Je,Ut)}),t(ht),t(Pt),t(rt),t(Me);var he=l(Me,2),X=a(he),ge=a(X,!0);t(X);var st=l(X,2),it=a(st),Xe=a(it);Q(Xe);var qe=l(Xe,2);Za(qe,5,()=>e(R),dr,(Je,dt)=>{var Ut=Pd(),ot={};u(()=>{ot!==(ot=(e(dt),i(()=>e(dt).id)))&&(Ut.value=(Ut.__value=(e(dt),i(()=>e(dt).id)))??"")}),d(Je,Ut)}),t(qe),t(it),t(st),t(he),t(_t);var xt=l(_t,2),Bt=a(xt),kt=a(Bt),_a=a(kt,!0);t(kt);var ea=l(kt,2),ga=a(ea),Ra=a(ga);{let Je=I(()=>(p(),i(()=>p().t("Enter additional parameters in JSON format"))));Zr(Ra,{className:"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden",get placeholder(){return e(Je)},minSize:100,get value(){return e(G)},set value(dt){c(G,dt)},$$legacy:!0})}t(ga),t(ea),t(Bt),t(xt),u((Je,dt,Ut,ot,$t)=>{s(De,Je),T(yt,"placeholder",dt),s(ge,Ut),T(Xe,"placeholder",ot),s(_a,$t)},[()=>(p(),i(()=>p().t("TTS Voice"))),()=>(p(),i(()=>p().t("Select a voice"))),()=>(p(),i(()=>p().t("TTS Model"))),()=>(p(),i(()=>p().t("Select a model"))),()=>(p(),i(()=>p().t("Additional Parameters")))]),J(yt,()=>e(A),Je=>c(A,Je)),J(Xe,()=>e(y),Je=>c(y,Je)),d(j,me)},Te=j=>{var me=Qe(),_t=L(me);{var Me=De=>{var rt=Dd(),Pt=a(rt),yt=a(Pt),ht=a(yt,!0);t(yt);var he=l(yt,2),X=a(he),ge=a(X);Q(ge);var st=l(ge,2);Za(st,5,()=>e(_e),dr,(ea,ga)=>{var Ra=Cd(),Je=a(Ra,!0);t(Ra);var dt={};u(()=>{s(Je,(e(ga),i(()=>e(ga).name))),dt!==(dt=(e(ga),i(()=>e(ga).id)))&&(Ra.value=(Ra.__value=(e(ga),i(()=>e(ga).id)))??"")}),d(ea,Ra)}),t(st),t(X),t(he),t(Pt);var it=l(Pt,2),Xe=a(it),qe=a(Xe,!0);t(Xe);var xt=l(Xe,2),Bt=a(xt),kt=a(Bt);Q(kt);var _a=l(kt,2);Za(_a,5,()=>e(R),dr,(ea,ga)=>{var Ra=Ud(),Je={};u(()=>{Je!==(Je=(e(ga),i(()=>e(ga).id)))&&(Ra.value=(Ra.__value=(e(ga),i(()=>e(ga).id)))??"")}),d(ea,Ra)}),t(_a),t(Bt),t(xt),t(it),t(rt),u((ea,ga,Ra,Je)=>{s(ht,ea),T(ge,"placeholder",ga),s(qe,Ra),T(kt,"placeholder",Je)},[()=>(p(),i(()=>p().t("TTS Voice"))),()=>(p(),i(()=>p().t("Select a voice"))),()=>(p(),i(()=>p().t("TTS Model"))),()=>(p(),i(()=>p().t("Select a model")))]),J(ge,()=>e(A),ea=>c(A,ea)),J(kt,()=>e(y),ea=>c(y,ea)),d(De,rt)},ke=De=>{var rt=Qe(),Pt=L(rt);{var yt=ht=>{var he=Bd(),X=a(he),ge=a(X),st=a(ge,!0);t(ge);var it=l(ge,2),Xe=a(it),qe=a(Xe);Q(qe);var xt=l(qe,2);Za(xt,5,()=>e(_e),dr,(ot,$t)=>{var Xt=Gd(),ya=a(Xt,!0);t(Xt);var Ta={};u(()=>{s(ya,(e($t),i(()=>e($t).name))),Ta!==(Ta=(e($t),i(()=>e($t).id)))&&(Xt.value=(Xt.__value=(e($t),i(()=>e($t).id)))??"")}),d(ot,Xt)}),t(xt),t(Xe),t(it),t(X);var Bt=l(X,2),kt=a(Bt),_a=a(kt),ea=l(_a),ga=a(ea),Ra=a(ga,!0);t(ga),t(ea),t(kt);var Je=l(kt,2),dt=a(Je),Ut=a(dt);Q(Ut),t(dt),t(Je),t(Bt),t(he),u((ot,$t,Xt,ya,Ta)=>{s(st,ot),T(qe,"placeholder",$t),s(_a,`${Xt??""} `),s(Ra,ya),T(Ut,"placeholder",Ta)},[()=>(p(),i(()=>p().t("TTS Voice"))),()=>(p(),i(()=>p().t("Select a voice"))),()=>(p(),i(()=>p().t("Output format"))),()=>(p(),i(()=>p().t("Available list"))),()=>(p(),i(()=>p().t("Select an output format")))]),J(qe,()=>e(A),ot=>c(A,ot)),J(Ut,()=>e(Ee),ot=>c(Ee,ot)),d(ht,he)};g(Pt,ht=>{e(U)==="azure"&&ht(yt)},!0)}d(De,rt)};g(_t,De=>{e(U)==="elevenlabs"?De(Me):De(ke,!1)},!0)}d(j,me)};g(P,j=>{e(U)==="openai"?j(oe):j(Te,!1)},!0)}d(E,w)};g(O,E=>{e(U)==="transformers"?E(ce):E(Re,!1)},!0)}d(b,Y)};g(Ae,b=>{e(U)===""?b(Be):b(C,!1)})}t(Le);var H=l(Le,2),ie=a(H),He=a(ie,!0);t(ie);var Pe=l(ie,2),$e=a(Pe);u(()=>{e(K),Pa(()=>{p()})}),Za($e,5,()=>(fr(Kl),i(()=>Object.values(Kl))),dr,(b,Y)=>{var O=Hd(),ce=a(O,!0);t(O);var Re={};u(E=>{s(ce,E),Re!==(Re=e(Y))&&(O.value=(O.__value=e(Y))??"")},[()=>(p(),e(Y),i(()=>p().t(e(Y).charAt(0).toUpperCase()+e(Y).slice(1))))]),d(b,O)}),t($e),t(Pe),t(H);var B=l(H,2),z=a(B,!0);t(B),t(Ce),t(zt),t(fa);var pe=l(fa,2),de=a(pe),ae=a(de,!0);t(de),t(pe),t(bt),u((b,Y,O,ce,Re,E,w,P,oe,Te,j,me,_t,Me,ke,De,rt,Pt,yt,ht,he,X)=>{s(Jt,b),s(nt,Y),T(ze,"placeholder",O),s(ut,ce),s(Lt,Re),s(qt,E),s(Qt,w),s(Ua,P),s(Wt,oe),s(Ht,Te),s(ha,j),T(jt,"placeholder",me),s(Vt,_t),s(Ze,`${Me??""} (${ke??""})`),s(at,De),s(Et,rt),s(ne,Pt),s(He,yt),T($e,"aria-label",ht),s(z,he),s(ae,X)},[()=>(p(),i(()=>p().t("Speech-to-Text"))),()=>(p(),i(()=>p().t("Speech-to-Text Engine"))),()=>(p(),i(()=>p().t("Select an engine"))),()=>(p(),i(()=>p().t("Whisper (Local)"))),()=>(p(),i(()=>p().t("OpenAI"))),()=>(p(),i(()=>p().t("Web API"))),()=>(p(),i(()=>p().t("Deepgram"))),()=>(p(),i(()=>p().t("Azure AI Speech"))),()=>(p(),i(()=>p().t("MistralAI"))),()=>(p(),i(()=>p().t("Text-to-Speech"))),()=>(p(),i(()=>p().t("Text-to-Speech Engine"))),()=>(p(),i(()=>p().t("Select a mode"))),()=>(p(),i(()=>p().t("Web API"))),()=>(p(),i(()=>p().t("Transformers"))),()=>(p(),i(()=>p().t("Local"))),()=>(p(),i(()=>p().t("OpenAI"))),()=>(p(),i(()=>p().t("ElevenLabs"))),()=>(p(),i(()=>p().t("Azure AI Speech"))),()=>(p(),i(()=>p().t("Response splitting"))),()=>(p(),i(()=>p().t("Select how to split message text for TTS requests"))),()=>(p(),i(()=>p().t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string."))),()=>(p(),i(()=>p().t("Save")))]),or(ze,()=>e(q),b=>c(q,b)),or(jt,()=>e(U),b=>c(U,b)),Ve("change",jt,async b=>{var Y;await mt(),await Fe(),await F(),((Y=b.target)==null?void 0:Y.value)==="openai"?(c(A,"alloy"),c(y,"tts-1")):(c(A,""),c(y,""))}),or($e,()=>e(K),b=>c(K,b)),Ve("submit",bt,il(async()=>{await mt(),h("save")})),d(It,bt),wr(),Ke()}var Yd=_('<div class="flex h-full flex-col"><div class=" sticky top-0 z-30 flex justify-between bg-white px-4.5 pt-3 pb-3 dark:bg-gray-900 dark:text-gray-100"><div class=" font-primary self-center text-lg font-medium"> </div> <button class="self-center" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-5 w-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg></button></div> <div class="flex h-full w-full flex-1 flex-col md:flex-row md:space-x-4 dark:text-gray-200 overflow-y-auto"><div class=" flex h-full w-full flex-col sm:flex-row sm:justify-center sm:space-x-6"><!></div></div></div>');function Ei(It,ee){br(ee,!0);const r=()=>la(Gt,"$i18n",f),[f,p]=Nr(),Gt=Ar("i18n");let Ke=oa(ee,"show",15),h=oa(ee,"value",15),we=oa(ee,"lang",3,"python"),v=oa(ee,"onChange",3,()=>{}),o=oa(ee,"onSave",3,()=>{}),S="",$=Gi(null),U=Ui(h());Di(()=>{U&&h(U)}),Cs(It,{get show(){return Ke()},set show(y){Ke(y)},children:(y,A)=>{var G=Yd(),K=a(G),te=a(K),Ie=a(te,!0);t(te);var Ee=l(te,2);Ee.__click=()=>{Ke(!1)},t(K);var Ne=l(K,2),n=a(Ne),q=a(n);Tl(rs(q,{get value(){return h()},boilerplate:S,get lang(){return we()},get onChange(){return v()},get onSave(){return o()}}),W=>c($,W,!0),()=>e($)),t(n),t(Ne),t(G),u(W=>s(Ie,W),[()=>r().t("Code Editor")]),d(y,G)},$$slots:{default:!0}}),wr(),p()}Ci(["click"]);var Wd=_("<option> </option>"),Fd=_('<input list="model-list" class=" text-right text-sm bg-transparent outline-hidden max-w-full w-52" required/> <datalist id="model-list"></datalist>',1),Vd=_('<input class="  text-right text-sm bg-transparent outline-hidden max-w-full w-52"/>'),Zd=_('<input class=" text-right text-sm bg-transparent outline-hidden" required/>'),zd=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <!></div></div>'),Xd=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div class="shrink-0"> </div></div> <!></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div class="shrink-0"> </div></div> <!></div></div> <!> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <!></div></div>',1),Jd=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div></div> <div class="mt-1.5 flex w-full"><div class="flex-1 mr-2"><!></div></div></div>',1),qd=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div> <button class="  transition" type="button" aria-label="verify connection"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg></button></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" text-gray-300 font-medium" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734" target="_blank"> </a></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" text-gray-300 font-medium" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993" target="_blank"> </a></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div></div> <div class="mt-1.5 flex w-full"><div class="flex-1 mr-2"><!></div></div></div>',1),Qd=_('<button class="text-xs text-gray-700 dark:text-gray-400 underline" type="button"> </button>'),eo=_('<button class="text-xs text-gray-700 dark:text-gray-400 underline" type="button"> </button>'),to=_('<input class="py-1 w-24 text-xs bg-transparent outline-hidden" required/>'),ao=_('<input class="w-full py-1 text-xs bg-transparent outline-hidden"/>'),ro=_('<div class="flex w-full flex-col"><div class="shrink-0"><div class=" capitalize line-clamp-1 w-20 text-gray-400 dark:text-gray-500"> </div></div> <div class="flex mt-0.5 items-center"><div><!></div> <div class="px-2 text-gray-400 dark:text-gray-500">:</div> <div class="w-full"><!></div></div></div>'),lo=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div></div> <div class="mt-1 text-xs flex flex-col gap-1.5"></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> </div></div>'),io=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div> <button class="  rounded-lg transition" type="button" aria-label="verify connection"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg></button></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div> <div class="mb-2.5"><input id="upload-comfyui-workflow-input" hidden="" type="file" accept=".json"/> <div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1 mr-2 justify-end flex gap-1"><!> <!></div></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"><!> </div></div> <!>',1),so=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <select class=" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option>predict</option><option>generateContent</option></select></div></div>',1),vo=_("<option> </option>"),oo=_('<input list="model-list" class="text-right text-sm bg-transparent outline-hidden max-w-full w-52"/> <datalist id="model-list"></datalist>',1),no=_('<input class="text-right text-sm bg-transparent outline-hidden max-w-full w-52"/>'),co=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div class="shrink-0"> </div></div> <!></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div class="shrink-0"> </div></div> <!></div></div>',1),uo=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div>',1),_o=_('<button class="text-xs text-gray-700 dark:text-gray-400 underline" type="button"> </button>'),fo=_('<button class="text-xs text-gray-700 dark:text-gray-400 underline" type="button"> </button>'),po=_('<input class="py-1 w-24 text-xs bg-transparent outline-hidden" required/>'),mo=_('<input class="w-full py-1 text-xs bg-transparent outline-hidden"/>'),go=_('<div class="flex w-full flex-col"><div class="shrink-0"><div class=" capitalize line-clamp-1 w-20 text-gray-400 dark:text-gray-500"> </div></div> <div class="flex mt-0.5 items-center"><div><!></div> <div class="px-2 text-gray-400 dark:text-gray-500">:</div> <div class="w-full"><!></div></div></div>'),xo=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div></div> <div class="mt-1 text-xs flex flex-col gap-1.5"></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> </div></div>'),Eo=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div> <button class="  transition" type="button" aria-label="verify connection"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg></button></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div> <div class="mb-2.5"><input id="upload-comfyui-edit-workflow-input" hidden="" type="file" accept=".json"/> <div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1 mr-2 justify-end flex gap-1"><!> <!></div></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"><!> </div></div> <!>',1),yo=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div>',1),ho=_('<div><div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <!></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <!> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <select class=" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option><option> </option></select></div></div> <!></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <!></div></div> <!> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <select class=" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option></select></div></div> <!></div></div>'),bo=_('<div class="ml-2 self-center"><!></div>'),Ao=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class=" space-y-3 overflow-y-scroll scrollbar-hidden pr-2"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button type="submit"> <!></button></div></form>');function wo(It,ee){br(ee,!1);const r=()=>la(h,"$i18n",p),f=()=>la(Nl,"$user",p),[p,Gt]=Nr(),Ke=cl(),h=Ar("i18n");let we=k(!1),v=k(null),o=k(null),S=k(!1),$=k([{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}]),U=k(!1),y=k([{type:"image",key:"image",node_ids:""},{type:"prompt",key:"prompt",node_ids:""},{type:"model",key:"unet_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""}]);const A=async()=>{c(v,await Ev(localStorage.token).catch(M=>(fe.error(`${M}`),null)))},G=async()=>{if(e(o).IMAGE_GENERATION_ENGINE==="automatic1111"&&e(o).AUTOMATIC1111_BASE_URL==="")return fe.error(r().t("AUTOMATIC1111 Base URL is required.")),m(o,e(o).ENABLE_IMAGE_GENERATION=!1),null;if(e(o).IMAGE_GENERATION_ENGINE==="comfyui"&&e(o).COMFYUI_BASE_URL==="")return fe.error(r().t("ComfyUI Base URL is required.")),m(o,e(o).ENABLE_IMAGE_GENERATION=!1),null;if(e(o).IMAGE_GENERATION_ENGINE==="openai"&&e(o).IMAGES_OPENAI_API_KEY==="")return fe.error(r().t("OpenAI API Key is required.")),m(o,e(o).ENABLE_IMAGE_GENERATION=!1),null;if(e(o).IMAGE_GENERATION_ENGINE==="gemini"&&e(o).IMAGES_GEMINI_API_KEY==="")return fe.error(r().t("Gemini API Key is required.")),m(o,e(o).ENABLE_IMAGE_GENERATION=!1),null;const M=await xv(localStorage.token,{...e(o),AUTOMATIC1111_PARAMS:typeof e(o).AUTOMATIC1111_PARAMS=="string"&&e(o).AUTOMATIC1111_PARAMS.trim()!==""?JSON.parse(e(o).AUTOMATIC1111_PARAMS):{},IMAGES_OPENAI_API_PARAMS:typeof e(o).IMAGES_OPENAI_API_PARAMS=="string"&&e(o).IMAGES_OPENAI_API_PARAMS.trim()!==""?JSON.parse(e(o).IMAGES_OPENAI_API_PARAMS):{}}).catch(x=>(fe.error(`${x}`),null));return M?(M.ENABLE_IMAGE_GENERATION&&(Jr.set(await pl()),A()),M):null},K=M=>{try{const x=JSON.parse(M);if(x&&typeof x=="object")return!0}catch{}return!1},te=async()=>{var x,D,le,se;if(c(we,!0),(x=e(o))!=null&&x.COMFYUI_WORKFLOW){if(!K((D=e(o))==null?void 0:D.COMFYUI_WORKFLOW)){fe.error(r().t("Invalid JSON format for ComfyUI Workflow.")),c(we,!1);return}m(o,e(o).COMFYUI_WORKFLOW_NODES=e($).map(ve=>({type:ve.type,key:ve.key,node_ids:ve.node_ids.trim()===""?[]:ve.node_ids.split(",").map(N=>N.trim())})))}if((le=e(o))!=null&&le.IMAGES_EDIT_COMFYUI_WORKFLOW){if(!K((se=e(o))==null?void 0:se.IMAGES_EDIT_COMFYUI_WORKFLOW)){fe.error(r().t("Invalid JSON format for ComfyUI Edit Workflow.")),c(we,!1);return}m(o,e(o).IMAGES_EDIT_COMFYUI_WORKFLOW_NODES=e(y).map(ve=>({type:ve.type,key:ve.key,node_ids:ve.node_ids.trim()===""?[]:ve.node_ids.split(",").map(N=>N.trim())})))}await G()&&Ke("save"),c(we,!1)};rl(async()=>{var M;if(((M=f())==null?void 0:M.role)==="admin"){const x=await gv(localStorage.token).catch(D=>(fe.error(`${D}`),null));if(x&&c(o,x),e(o).ENABLE_IMAGE_GENERATION&&A(),e(o).COMFYUI_WORKFLOW)try{m(o,e(o).COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(e(o).COMFYUI_WORKFLOW),null,2))}catch(D){}if(c($,e($).map(D=>{const le=e(o).COMFYUI_WORKFLOW_NODES.find(se=>se.type===D.type)??D;return{type:le.type,key:le.key,node_ids:typeof le.node_ids=="string"?le.node_ids:le.node_ids.join(",")}})),e(o).IMAGES_EDIT_COMFYUI_WORKFLOW)try{m(o,e(o).IMAGES_EDIT_COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(e(o).IMAGES_EDIT_COMFYUI_WORKFLOW),null,2))}catch(D){}m(o,e(o).IMAGES_OPENAI_API_PARAMS=typeof e(o).IMAGES_OPENAI_API_PARAMS=="object"?JSON.stringify(e(o).IMAGES_OPENAI_API_PARAMS??{},null,2):e(o).IMAGES_OPENAI_API_PARAMS),m(o,e(o).AUTOMATIC1111_PARAMS=typeof e(o).AUTOMATIC1111_PARAMS=="object"?JSON.stringify(e(o).AUTOMATIC1111_PARAMS??{},null,2):e(o).AUTOMATIC1111_PARAMS),c(y,e(y).map(D=>{const le=e(o).IMAGES_EDIT_COMFYUI_WORKFLOW_NODES.find(se=>se.type===D.type)??D;return{type:le.type,key:le.key,node_ids:typeof le.node_ids=="string"?le.node_ids:le.node_ids.join(",")}}))}}),Rr();var Ie=Ao(),Ee=a(Ie),Ne=a(Ee);{var n=M=>{var x=ho(),D=a(x),le=a(D),se=a(le,!0);t(le);var ve=l(le,4),N=a(ve),xe=a(N),We=a(xe),_e=a(We,!0);t(We),t(xe);var R=l(xe,2);ta(R,{get state(){return e(o).ENABLE_IMAGE_GENERATION},set state(re){m(o,e(o).ENABLE_IMAGE_GENERATION=re)},$$legacy:!0}),t(N),t(ve),t(D);var F=l(D,2),Fe=a(F),mt=a(Fe,!0);t(Fe);var Ot=l(Fe,4);{var bt=re=>{var ne=Xd(),Se=L(ne),Oe=a(Se),Ue=a(Oe),Le=a(Ue),Ae=a(Le,!0);t(Le),t(Ue);var Be=l(Ue,2);{let ce=I(()=>r().t("Enter Model ID"));lt(Be,{get content(){return e(ce)},placement:"top-start",children:(Re,E)=>{var w=Fd(),P=L(w);Q(P);var oe=l(P,2);Za(oe,5,()=>e(v)??[],dr,(Te,j)=>{var me=Wd(),_t=a(me,!0);t(me);var Me={};u(()=>{s(_t,e(j).name),Me!==(Me=e(j).id)&&(me.value=(me.__value=e(j).id)??"")}),d(Te,me)}),t(oe),u(Te=>T(P,"placeholder",Te),[()=>r().t("Select a model")]),J(P,()=>e(o).IMAGE_GENERATION_MODEL,Te=>m(o,e(o).IMAGE_GENERATION_MODEL=Te)),d(Re,w)},$$slots:{default:!0}})}t(Oe),t(Se);var C=l(Se,2),H=a(C),ie=a(H),He=a(ie),Pe=a(He,!0);t(He),t(ie);var $e=l(ie,2);{let ce=I(()=>r().t("Enter Image Size (e.g. 512x512)"));lt($e,{get content(){return e(ce)},placement:"top-start",children:(Re,E)=>{var w=Vd();Q(w),u(P=>T(w,"placeholder",P),[()=>r().t("Enter Image Size (e.g. 512x512)")]),J(w,()=>e(o).IMAGE_SIZE,P=>m(o,e(o).IMAGE_SIZE=P)),d(Re,w)},$$slots:{default:!0}})}t(H),t(C);var B=l(C,2);{var z=ce=>{var Re=zd(),E=a(Re),w=a(E),P=a(w),oe=a(P,!0);t(P),t(w);var Te=l(w,2);{let j=I(()=>r().t("Enter Number of Steps (e.g. 50)"));lt(Te,{get content(){return e(j)},placement:"top-start",children:(me,_t)=>{var Me=Zd();Q(Me),u(ke=>T(Me,"placeholder",ke),[()=>r().t("Enter Number of Steps (e.g. 50)")]),J(Me,()=>e(o).IMAGE_STEPS,ke=>m(o,e(o).IMAGE_STEPS=ke)),d(me,Me)},$$slots:{default:!0}})}t(E),t(Re),u(j=>s(oe,j),[()=>r().t("Steps")]),d(ce,Re)};g(B,ce=>{var Re;["comfyui","automatic1111",""].includes((Re=e(o))==null?void 0:Re.IMAGE_GENERATION_ENGINE)&&ce(z)})}var pe=l(B,2),de=a(pe),ae=a(de),b=a(ae),Y=a(b,!0);t(b),t(ae);var O=l(ae,2);ta(O,{get state(){return e(o).ENABLE_IMAGE_PROMPT_GENERATION},set state(ce){m(o,e(o).ENABLE_IMAGE_PROMPT_GENERATION=ce)},$$legacy:!0}),t(de),t(pe),u((ce,Re,E)=>{s(Ae,ce),s(Pe,Re),s(Y,E)},[()=>r().t("Model"),()=>r().t("Image Size"),()=>r().t("Image Prompt Generation")]),d(re,ne)};g(Ot,re=>{e(o).ENABLE_IMAGE_GENERATION&&re(bt)})}var fa=l(Ot,2),zt=a(fa),ca=a(zt),ua=a(ca),Jt=a(ua,!0);t(ua),t(ca);var aa=l(ca,2);u(()=>{e(o),Pa(()=>{r()})});var be=a(aa),Ye=a(be,!0);t(be),be.value=be.__value="openai";var vt=l(be),nt=a(vt,!0);t(vt),vt.value=vt.__value="comfyui";var Ge=l(vt),ze=a(Ge,!0);t(Ge),Ge.value=Ge.__value="automatic1111";var tt=l(Ge),ut=a(tt,!0);t(tt),tt.value=tt.__value="gemini",t(aa),t(zt),t(fa);var et=l(fa,2);{var Lt=re=>{var ne=Jd(),Se=L(ne),Oe=a(Se),Ue=a(Oe),Le=a(Ue),Ae=a(Le,!0);t(Le),t(Ue);var Be=l(Ue,2),C=a(Be),H=a(C);Q(H),t(C),t(Be),t(Oe),t(Se);var ie=l(Se,2),He=a(ie),Pe=a(He),$e=a(Pe),B=a($e,!0);t($e),t(Pe);var z=l(Pe,2),pe=a(z),de=a(pe);{let De=I(()=>r().t("API Key"));va(de,{inputClassName:"text-right w-full",get placeholder(){return e(De)},required:!1,get value(){return e(o).IMAGES_OPENAI_API_KEY},set value(rt){m(o,e(o).IMAGES_OPENAI_API_KEY=rt)},$$legacy:!0})}t(pe),t(z),t(He),t(ie);var ae=l(ie,2),b=a(ae),Y=a(b),O=a(Y),ce=a(O,!0);t(O),t(Y);var Re=l(Y,2),E=a(Re),w=a(E);Q(w),t(E),t(Re),t(b),t(ae);var P=l(ae,2),oe=a(P),Te=a(oe),j=a(Te),me=a(j,!0);t(j),t(Te),t(oe);var _t=l(oe,2),Me=a(_t),ke=a(Me);{let De=I(()=>r().t("Enter additional parameters in JSON format"));Zr(ke,{className:"rounded-lg w-full py-2 px-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden",get placeholder(){return e(De)},minSize:100,get value(){return e(o).IMAGES_OPENAI_API_PARAMS},set value(rt){m(o,e(o).IMAGES_OPENAI_API_PARAMS=rt)},$$legacy:!0})}t(Me),t(_t),t(P),u((De,rt,Pt,yt,ht,he)=>{s(Ae,De),T(H,"placeholder",rt),s(B,Pt),s(ce,yt),T(w,"placeholder",ht),s(me,he)},[()=>r().t("OpenAI API Base URL"),()=>r().t("API Base URL"),()=>r().t("OpenAI API Key"),()=>r().t("OpenAI API Version"),()=>r().t("API Version"),()=>r().t("Additional Parameters")]),J(H,()=>e(o).IMAGES_OPENAI_API_BASE_URL,De=>m(o,e(o).IMAGES_OPENAI_API_BASE_URL=De)),J(w,()=>e(o).IMAGES_OPENAI_API_VERSION,De=>m(o,e(o).IMAGES_OPENAI_API_VERSION=De)),d(re,ne)},Nt=re=>{var ne=Qe(),Se=L(ne);{var Oe=Le=>{var Ae=qd(),Be=L(Ae),C=a(Be),H=a(C),ie=a(H),He=a(ie,!0);t(ie),t(H);var Pe=l(H,2),$e=a(Pe),B=a($e);Q(B),t($e);var z=l($e,2);t(Pe),t(C);var pe=l(C,2),de=a(pe),ae=l(de),b=a(ae,!0);t(ae),t(pe),t(Be);var Y=l(Be,2),O=a(Y),ce=a(O),Re=a(ce),E=a(Re,!0);t(Re),t(ce);var w=l(ce,2),P=a(w),oe=a(P);{let X=I(()=>r().t("Enter api auth string (e.g. username:password)"));va(oe,{inputClassName:"text-right w-full",get placeholder(){return e(X)},required:!1,get value(){return e(o).AUTOMATIC1111_API_AUTH},set value(ge){m(o,e(o).AUTOMATIC1111_API_AUTH=ge)},$$legacy:!0})}t(P),t(w),t(O);var Te=l(O,2),j=a(Te),me=l(j),_t=a(me,!0);t(me),t(Te),t(Y);var Me=l(Y,2),ke=a(Me),De=a(ke),rt=a(De),Pt=a(rt,!0);t(rt),t(De),t(ke);var yt=l(ke,2),ht=a(yt),he=a(ht);{let X=I(()=>r().t("Enter additional parameters in JSON format"));Zr(he,{className:"rounded-lg w-full py-2 px-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden",get placeholder(){return e(X)},minSize:100,get value(){return e(o).AUTOMATIC1111_PARAMS},set value(ge){m(o,e(o).AUTOMATIC1111_PARAMS=ge)},$$legacy:!0})}t(ht),t(yt),t(Me),u((X,ge,st,it,Xe,qe,xt,Bt)=>{s(He,X),T(B,"placeholder",ge),s(de,`${st??""} `),s(b,it),s(E,Xe),s(j,`${qe??""} `),s(_t,xt),s(Pt,Bt)},[()=>r().t("AUTOMATIC1111 Base URL"),()=>r().t("Enter URL (e.g. http://127.0.0.1:7860/)"),()=>r().t("Include `--api` flag when running stable-diffusion-webui"),()=>r().t("(e.g. `sh webui.sh --api`)"),()=>r().t("AUTOMATIC1111 Api Auth String"),()=>r().t("Include `--api-auth` flag when running stable-diffusion-webui"),()=>r().t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":"),()=>r().t("Additional Parameters")]),J(B,()=>e(o).AUTOMATIC1111_BASE_URL,X=>m(o,e(o).AUTOMATIC1111_BASE_URL=X)),Ve("click",z,async()=>{await G(),await ri(localStorage.token).catch(ge=>(fe.error(`${ge}`),null))&&fe.success(r().t("Server connection verified"))}),d(Le,Ae)},Ue=Le=>{var Ae=Qe(),Be=L(Ae);{var C=ie=>{var He=io(),Pe=L(He),$e=a(Pe),B=a($e),z=a(B),pe=a(z,!0);t(z),t(B);var de=l(B,2),ae=a(de),b=a(ae);Q(b),t(ae);var Y=l(ae,2);t(de),t($e),t(Pe);var O=l(Pe,2),ce=a(O),Re=a(ce),E=a(Re),w=a(E,!0);t(E),t(Re);var P=l(Re,2),oe=a(P),Te=a(oe);{let qe=I(()=>r().t("sk-1234"));va(Te,{inputClassName:"text-right w-full",get placeholder(){return e(qe)},required:!1,get value(){return e(o).COMFYUI_API_KEY},set value(xt){m(o,e(o).COMFYUI_API_KEY=xt)},$$legacy:!0})}t(oe),t(P),t(ce),t(O);var j=l(O,2),me=a(j),_t=l(me,2),Me=a(_t),ke=a(Me),De=a(ke,!0);t(ke),t(Me);var rt=l(Me,2),Pt=a(rt),yt=a(Pt);{var ht=qe=>{var xt=Qd(),Bt=a(xt,!0);t(xt),u((kt,_a)=>{T(xt,"aria-label",kt),s(Bt,_a)},[()=>r().t("Edit workflow.json content"),()=>r().t("Edit")]),Ve("click",xt,()=>{c(S,!0)}),d(qe,xt)};g(yt,qe=>{e(o).COMFYUI_WORKFLOW&&qe(ht)})}var he=l(yt,2);{let qe=I(()=>r().t("Click here to upload a workflow.json file."));lt(he,{get content(){return e(qe)},children:(xt,Bt)=>{var kt=eo(),_a=a(kt,!0);t(kt),u((ea,ga)=>{T(kt,"aria-label",ea),s(_a,ga)},[()=>r().t("Click here to upload a workflow.json file."),()=>r().t("Upload")]),Ve("click",kt,()=>{var ea;(ea=document.getElementById("upload-comfyui-workflow-input"))==null||ea.click()}),d(xt,kt)},$$slots:{default:!0}})}t(Pt),t(rt),t(_t);var X=l(_t,2),ge=a(X);Ei(ge,{get value(){return e(o).COMFYUI_WORKFLOW},lang:"json",onChange:qe=>{m(o,e(o).COMFYUI_WORKFLOW=qe)},onSave:()=>{},get show(){return e(S)},set show(qe){c(S,qe)},$$legacy:!0});var st=l(ge);t(X),t(j);var it=l(j,2);{var Xe=qe=>{var xt=lo(),Bt=a(xt),kt=a(Bt),_a=a(kt),ea=a(_a,!0);t(_a),t(kt),t(Bt);var ga=l(Bt,2);Za(ga,5,()=>e($),dr,(dt,Ut,ot)=>{var $t=ro(),Xt=a($t),ya=a(Xt),Ta=a(ya);t(ya),t(Xt);var ur=l(Xt,2),qa=a(ur),Da=a(qa);{let nr=I(()=>r().t("Input Key (e.g. text, unet_name, steps)"));lt(Da,{get content(){return e(nr)},children:(yr,rr)=>{var Ga=to();Q(Ga),u(Ya=>T(Ga,"placeholder",Ya),[()=>r().t("Key")]),J(Ga,()=>e(Ut).key,Ya=>(e(Ut).key=Ya,Pa(()=>e($)))),d(yr,Ga)},$$slots:{default:!0}})}t(qa);var pa=l(qa,4),za=a(pa);{let nr=I(()=>r().t("Comma separated Node Ids (e.g. 1 or 1,2)"));lt(za,{get content(){return e(nr)},placement:"top-start",children:(yr,rr)=>{var Ga=ao();Q(Ga),u(Ya=>T(Ga,"placeholder",Ya),[()=>r().t("Node Ids")]),J(Ga,()=>e(Ut).node_ids,Ya=>(e(Ut).node_ids=Ya,Pa(()=>e($)))),d(yr,Ga)},$$slots:{default:!0}})}t(pa),t(ur),t($t),u(()=>s(Ta,`${e(Ut).type??""}${e(Ut).type==="prompt"?"*":""}`)),d(dt,$t)}),t(ga);var Ra=l(ga,2),Je=a(Ra,!0);t(Ra),t(xt),u((dt,Ut)=>{s(ea,dt),s(Je,Ut)},[()=>r().t("ComfyUI Workflow Nodes"),()=>r().t("*Prompt node ID(s) are required for image generation")]),d(qe,xt)};g(it,qe=>{e(o).COMFYUI_WORKFLOW&&qe(Xe)})}u((qe,xt,Bt,kt,_a)=>{s(pe,qe),T(b,"placeholder",xt),s(w,Bt),s(De,kt),s(st,` ${_a??""}`)},[()=>r().t("ComfyUI Base URL"),()=>r().t("Enter URL (e.g. http://127.0.0.1:7860/)"),()=>r().t("ComfyUI API Key"),()=>r().t("ComfyUI Workflow"),()=>r().t("Make sure to export a workflow.json file as API format from ComfyUI.")]),J(b,()=>e(o).COMFYUI_BASE_URL,qe=>m(o,e(o).COMFYUI_BASE_URL=qe)),Ve("click",Y,async()=>{await G(),await ri(localStorage.token).catch(xt=>(fe.error(`${xt}`),null))&&fe.success(r().t("Server connection verified"))}),Ve("change",me,qe=>{const xt=qe.target.files[0],Bt=new FileReader;Bt.onload=kt=>{m(o,e(o).COMFYUI_WORKFLOW=kt.target.result),kt.target.value=null},Bt.readAsText(xt)}),d(ie,He)},H=ie=>{var He=Qe(),Pe=L(He);{var $e=B=>{var z=so(),pe=L(z),de=a(pe),ae=a(de),b=a(ae),Y=a(b,!0);t(b),t(ae);var O=l(ae,2),ce=a(O),Re=a(ce);Q(Re),t(ce),t(O),t(de),t(pe);var E=l(pe,2),w=a(E),P=a(w),oe=a(P),Te=a(oe,!0);t(oe),t(P);var j=l(P,2),me=a(j),_t=a(me);{let X=I(()=>r().t("API Key"));va(_t,{inputClassName:"text-right w-full",get placeholder(){return e(X)},required:!0,get value(){return e(o).IMAGES_GEMINI_API_KEY},set value(ge){m(o,e(o).IMAGES_GEMINI_API_KEY=ge)},$$legacy:!0})}t(me),t(j),t(w),t(E);var Me=l(E,2),ke=a(Me),De=a(ke),rt=a(De),Pt=a(rt,!0);t(rt),t(De);var yt=l(De,2);u(()=>{e(o),Pa(()=>{r()})});var ht=a(yt);ht.value=ht.__value="predict";var he=l(ht);he.value=he.__value="generateContent",t(yt),t(ke),t(Me),u((X,ge,st,it,Xe)=>{s(Y,X),T(Re,"placeholder",ge),s(Te,st),s(Pt,it),T(yt,"placeholder",Xe)},[()=>r().t("Gemini Base URL"),()=>r().t("API Base URL"),()=>r().t("Gemini API Key"),()=>r().t("Gemini Endpoint Method"),()=>r().t("Select Method")]),J(Re,()=>e(o).IMAGES_GEMINI_API_BASE_URL,X=>m(o,e(o).IMAGES_GEMINI_API_BASE_URL=X)),or(yt,()=>e(o).IMAGES_GEMINI_ENDPOINT_METHOD,X=>m(o,e(o).IMAGES_GEMINI_ENDPOINT_METHOD=X)),d(B,z)};g(Pe,B=>{var z;((z=e(o))==null?void 0:z.IMAGE_GENERATION_ENGINE)==="gemini"&&B($e)},!0)}d(ie,He)};g(Be,ie=>{var He;((He=e(o))==null?void 0:He.IMAGE_GENERATION_ENGINE)==="comfyui"?ie(C):ie(H,!1)},!0)}d(Le,Ae)};g(Se,Le=>{var Ae;(((Ae=e(o))==null?void 0:Ae.IMAGE_GENERATION_ENGINE)??"automatic1111")==="automatic1111"?Le(Oe):Le(Ue,!1)},!0)}d(re,ne)};g(et,re=>{var ne;((ne=e(o))==null?void 0:ne.IMAGE_GENERATION_ENGINE)==="openai"?re(Lt):re(Nt,!1)})}t(F);var qt=l(F,2),ct=a(qt),Qt=a(ct,!0);t(ct);var wa=l(ct,4),Ua=a(wa),na=a(Ua),Wt=a(na),St=a(Wt,!0);t(Wt),t(na);var ia=l(na,2);ta(ia,{get state(){return e(o).ENABLE_IMAGE_EDIT},set state(re){m(o,e(o).ENABLE_IMAGE_EDIT=re)},$$legacy:!0}),t(Ua),t(wa);var At=l(wa,2);{var Ce=re=>{var ne=co(),Se=L(ne),Oe=a(Se),Ue=a(Oe),Le=a(Ue),Ae=a(Le,!0);t(Le),t(Ue);var Be=l(Ue,2);{let B=I(()=>r().t("Enter Model ID"));lt(Be,{get content(){return e(B)},placement:"top-start",children:(z,pe)=>{var de=oo(),ae=L(de);Q(ae);var b=l(ae,2);Za(b,5,()=>e(v)??[],dr,(Y,O)=>{var ce=vo(),Re=a(ce,!0);t(ce);var E={};u(()=>{s(Re,e(O).name),E!==(E=e(O).id)&&(ce.value=(ce.__value=e(O).id)??"")}),d(Y,ce)}),t(b),u(Y=>T(ae,"placeholder",Y),[()=>r().t("Select a model")]),J(ae,()=>e(o).IMAGE_EDIT_MODEL,Y=>m(o,e(o).IMAGE_EDIT_MODEL=Y)),d(z,de)},$$slots:{default:!0}})}t(Oe),t(Se);var C=l(Se,2),H=a(C),ie=a(H),He=a(ie),Pe=a(He,!0);t(He),t(ie);var $e=l(ie,2);{let B=I(()=>r().t("Enter Image Size (e.g. 512x512)"));lt($e,{get content(){return e(B)},placement:"top-start",children:(z,pe)=>{var de=no();Q(de),u(ae=>T(de,"placeholder",ae),[()=>r().t("Enter Image Size (e.g. 512x512)")]),J(de,()=>e(o).IMAGE_EDIT_SIZE,ae=>m(o,e(o).IMAGE_EDIT_SIZE=ae)),d(z,de)},$$slots:{default:!0}})}t(H),t(C),u((B,z)=>{s(Ae,B),s(Pe,z)},[()=>r().t("Model"),()=>r().t("Image Size")]),d(re,ne)};g(At,re=>{var ne,Se;(ne=e(o))!=null&&ne.ENABLE_IMAGE_GENERATION&&((Se=e(o))!=null&&Se.ENABLE_IMAGE_EDIT)&&re(Ce)})}var Ct=l(At,2),Ht=a(Ct),da=a(Ht),$a=a(da),ha=a($a,!0);t($a),t(da);var Ft=l(da,2);u(()=>{e(o),Pa(()=>{r()})});var jt=a(Ft),gt=a(jt,!0);t(jt),jt.value=jt.__value="openai";var Vt=l(jt),Yt=a(Vt,!0);t(Vt),Vt.value=Vt.__value="comfyui";var Ze=l(Vt),Z=a(Ze,!0);t(Ze),Ze.value=Ze.__value="gemini",t(Ft),t(Ht),t(Ct);var at=l(Ct,2);{var ft=re=>{var ne=uo(),Se=L(ne),Oe=a(Se),Ue=a(Oe),Le=a(Ue),Ae=a(Le,!0);t(Le),t(Ue);var Be=l(Ue,2),C=a(Be),H=a(C);Q(H),t(C),t(Be),t(Oe),t(Se);var ie=l(Se,2),He=a(ie),Pe=a(He),$e=a(Pe),B=a($e,!0);t($e),t(Pe);var z=l(Pe,2),pe=a(z),de=a(pe);{let P=I(()=>r().t("API Key"));va(de,{inputClassName:"text-right w-full",get placeholder(){return e(P)},required:!1,get value(){return e(o).IMAGES_EDIT_OPENAI_API_KEY},set value(oe){m(o,e(o).IMAGES_EDIT_OPENAI_API_KEY=oe)},$$legacy:!0})}t(pe),t(z),t(He),t(ie);var ae=l(ie,2),b=a(ae),Y=a(b),O=a(Y),ce=a(O,!0);t(O),t(Y);var Re=l(Y,2),E=a(Re),w=a(E);Q(w),t(E),t(Re),t(b),t(ae),u((P,oe,Te,j,me)=>{s(Ae,P),T(H,"placeholder",oe),s(B,Te),s(ce,j),T(w,"placeholder",me)},[()=>r().t("OpenAI API Base URL"),()=>r().t("API Base URL"),()=>r().t("OpenAI API Key"),()=>r().t("OpenAI API Version"),()=>r().t("API Version")]),J(H,()=>e(o).IMAGES_EDIT_OPENAI_API_BASE_URL,P=>m(o,e(o).IMAGES_EDIT_OPENAI_API_BASE_URL=P)),J(w,()=>e(o).IMAGES_EDIT_OPENAI_API_VERSION,P=>m(o,e(o).IMAGES_EDIT_OPENAI_API_VERSION=P)),d(re,ne)},Et=re=>{var ne=Qe(),Se=L(ne);{var Oe=Le=>{var Ae=Eo(),Be=L(Ae),C=a(Be),H=a(C),ie=a(H),He=a(ie,!0);t(ie),t(H);var Pe=l(H,2),$e=a(Pe),B=a($e);Q(B),t($e);var z=l($e,2);t(Pe),t(C),t(Be);var pe=l(Be,2),de=a(pe),ae=a(de),b=a(ae),Y=a(b,!0);t(b),t(ae);var O=l(ae,2),ce=a(O),Re=a(ce);{let X=I(()=>r().t("sk-1234"));va(Re,{inputClassName:"text-right w-full",get placeholder(){return e(X)},required:!1,get value(){return e(o).IMAGES_EDIT_COMFYUI_API_KEY},set value(ge){m(o,e(o).IMAGES_EDIT_COMFYUI_API_KEY=ge)},$$legacy:!0})}t(ce),t(O),t(de),t(pe);var E=l(pe,2),w=a(E),P=l(w,2),oe=a(P),Te=a(oe),j=a(Te,!0);t(Te),t(oe);var me=l(oe,2),_t=a(me),Me=a(_t);{var ke=X=>{var ge=_o(),st=a(ge,!0);t(ge),u((it,Xe)=>{T(ge,"aria-label",it),s(st,Xe)},[()=>r().t("Edit workflow.json content"),()=>r().t("Edit")]),Ve("click",ge,()=>{c(U,!0)}),d(X,ge)};g(Me,X=>{e(o).IMAGES_EDIT_COMFYUI_WORKFLOW&&X(ke)})}var De=l(Me,2);{let X=I(()=>r().t("Click here to upload a workflow.json file."));lt(De,{get content(){return e(X)},children:(ge,st)=>{var it=fo(),Xe=a(it,!0);t(it),u((qe,xt)=>{T(it,"aria-label",qe),s(Xe,xt)},[()=>r().t("Click here to upload a workflow.json file."),()=>r().t("Upload")]),Ve("click",it,()=>{var qe;(qe=document.getElementById("upload-comfyui-edit-workflow-input"))==null||qe.click()}),d(ge,it)},$$slots:{default:!0}})}t(_t),t(me),t(P);var rt=l(P,2),Pt=a(rt);Ei(Pt,{get value(){return e(o).IMAGES_EDIT_COMFYUI_WORKFLOW},lang:"json",onChange:X=>{m(o,e(o).IMAGES_EDIT_COMFYUI_WORKFLOW=X)},onSave:()=>{},get show(){return e(U)},set show(X){c(U,X)},$$legacy:!0});var yt=l(Pt);t(rt),t(E);var ht=l(E,2);{var he=X=>{var ge=xo(),st=a(ge),it=a(st),Xe=a(it),qe=a(Xe,!0);t(Xe),t(it),t(st);var xt=l(st,2);Za(xt,5,()=>e(y),dr,(_a,ea,ga)=>{var Ra=go(),Je=a(Ra),dt=a(Je),Ut=a(dt);t(dt),t(Je);var ot=l(Je,2),$t=a(ot),Xt=a($t);{let ur=I(()=>r().t("Input Key (e.g. text, unet_name, steps)"));lt(Xt,{get content(){return e(ur)},children:(qa,Da)=>{var pa=po();Q(pa),u(za=>T(pa,"placeholder",za),[()=>r().t("Key")]),J(pa,()=>e(ea).key,za=>(e(ea).key=za,Pa(()=>e(y)))),d(qa,pa)},$$slots:{default:!0}})}t($t);var ya=l($t,4),Ta=a(ya);{let ur=I(()=>r().t("Comma separated Node Ids (e.g. 1 or 1,2)"));lt(Ta,{get content(){return e(ur)},placement:"top-start",children:(qa,Da)=>{var pa=mo();Q(pa),u(za=>T(pa,"placeholder",za),[()=>r().t("Node Ids")]),J(pa,()=>e(ea).node_ids,za=>(e(ea).node_ids=za,Pa(()=>e(y)))),d(qa,pa)},$$slots:{default:!0}})}t(ya),t(ot),t(Ra),u(ur=>s(Ut,`${e(ea).type??""}${ur??""}`),[()=>["prompt","image"].includes(e(ea).type)?"*":""]),d(_a,Ra)}),t(xt);var Bt=l(xt,2),kt=a(Bt,!0);t(Bt),t(ge),u((_a,ea)=>{s(qe,_a),s(kt,ea)},[()=>r().t("ComfyUI Workflow Nodes"),()=>r().t("*Prompt node ID(s) are required for image generation")]),d(X,ge)};g(ht,X=>{e(o).IMAGES_EDIT_COMFYUI_WORKFLOW&&X(he)})}u((X,ge,st,it,Xe)=>{s(He,X),T(B,"placeholder",ge),s(Y,st),s(j,it),s(yt,` ${Xe??""}`)},[()=>r().t("ComfyUI Base URL"),()=>r().t("Enter URL (e.g. http://127.0.0.1:7860/)"),()=>r().t("ComfyUI API Key"),()=>r().t("ComfyUI Workflow"),()=>r().t("Make sure to export a workflow.json file as API format from ComfyUI.")]),J(B,()=>e(o).IMAGES_EDIT_COMFYUI_BASE_URL,X=>m(o,e(o).IMAGES_EDIT_COMFYUI_BASE_URL=X)),Ve("click",z,async()=>{await G(),await ri(localStorage.token).catch(ge=>(fe.error(`${ge}`),null))&&fe.success(r().t("Server connection verified"))}),Ve("change",w,X=>{const ge=X.target.files[0],st=new FileReader;st.onload=it=>{m(o,e(o).IMAGES_EDIT_COMFYUI_WORKFLOW=it.target.result),it.target.value=null},st.readAsText(ge)}),d(Le,Ae)},Ue=Le=>{var Ae=Qe(),Be=L(Ae);{var C=H=>{var ie=yo(),He=L(ie),Pe=a(He),$e=a(Pe),B=a($e),z=a(B,!0);t(B),t($e);var pe=l($e,2),de=a(pe),ae=a(de);Q(ae),t(de),t(pe),t(Pe),t(He);var b=l(He,2),Y=a(b),O=a(Y),ce=a(O),Re=a(ce,!0);t(ce),t(O);var E=l(O,2),w=a(E),P=a(w);{let oe=I(()=>r().t("API Key"));va(P,{inputClassName:"text-right w-full",get placeholder(){return e(oe)},required:!0,get value(){return e(o).IMAGES_EDIT_GEMINI_API_KEY},set value(Te){m(o,e(o).IMAGES_EDIT_GEMINI_API_KEY=Te)},$$legacy:!0})}t(w),t(E),t(Y),t(b),u((oe,Te,j)=>{s(z,oe),T(ae,"placeholder",Te),s(Re,j)},[()=>r().t("Gemini Base URL"),()=>r().t("API Base URL"),()=>r().t("Gemini API Key")]),J(ae,()=>e(o).IMAGES_EDIT_GEMINI_API_BASE_URL,oe=>m(o,e(o).IMAGES_EDIT_GEMINI_API_BASE_URL=oe)),d(H,ie)};g(Be,H=>{var ie;((ie=e(o))==null?void 0:ie.IMAGE_EDIT_ENGINE)==="gemini"&&H(C)},!0)}d(Le,Ae)};g(Se,Le=>{var Ae;((Ae=e(o))==null?void 0:Ae.IMAGE_EDIT_ENGINE)==="comfyui"?Le(Oe):Le(Ue,!1)},!0)}d(re,ne)};g(at,re=>{var ne;((ne=e(o))==null?void 0:ne.IMAGE_EDIT_ENGINE)==="openai"?re(ft):re(Et,!1)})}t(qt),t(x),u((re,ne,Se,Oe,Ue,Le,Ae,Be,C,H,ie,He,Pe,$e,B,z)=>{s(se,re),s(_e,ne),s(mt,Se),s(Jt,Oe),T(aa,"placeholder",Ue),s(Ye,Le),s(nt,Ae),s(ze,Be),s(ut,C),s(Qt,H),s(St,ie),s(ha,He),T(Ft,"placeholder",Pe),s(gt,$e),s(Yt,B),s(Z,z)},[()=>r().t("General"),()=>r().t("Image Generation"),()=>r().t("Create Image"),()=>r().t("Image Generation Engine"),()=>r().t("Select Engine"),()=>r().t("Default (Open AI)"),()=>r().t("ComfyUI"),()=>r().t("Automatic1111"),()=>r().t("Gemini"),()=>r().t("Edit Image"),()=>r().t("Image Edit"),()=>r().t("Image Edit Engine"),()=>r().t("Select Engine"),()=>r().t("Default (Open AI)"),()=>r().t("ComfyUI"),()=>r().t("Gemini")]),or(aa,()=>e(o).IMAGE_GENERATION_ENGINE,re=>m(o,e(o).IMAGE_GENERATION_ENGINE=re)),or(Ft,()=>e(o).IMAGE_EDIT_ENGINE,re=>m(o,e(o).IMAGE_EDIT_ENGINE=re)),d(M,x)};g(Ne,M=>{e(o)&&M(n)})}t(Ee);var q=l(Ee,2),W=a(q),ye=a(W),V=l(ye);{var ue=M=>{var x=bo(),D=a(x);Qr(D,{}),t(x),d(M,x)};g(V,M=>{e(we)&&M(ue)})}t(W),t(q),t(Ie),u(M=>{qr(W,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${e(we)?" cursor-not-allowed":""}`),W.disabled=e(we),s(ye,`${M??""} `)},[()=>r().t("Save")]),Ve("submit",Ie,il(async()=>{te()})),d(It,Ie),wr(),Gt()}var Io=Lr('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"></path></svg>');function ki(It,ee){let r=oa(ee,"className",8,"w-4 h-4"),f=oa(ee,"strokeWidth",8,"1.5");var p=Io();u(()=>{T(p,"stroke-width",f()),qr(p,0,ii(r()))}),d(It,p)}var $o=_('<option selected disabled class="text-gray-900"> </option>'),Ro=_('<div class=" flex justify-between items-start -ml-1"><!> <div class="flex flex-row flex-1 gap-2 items-start"><select class="w-fit capitalize rounded-xl text-xs bg-transparent outline-hidden pl-1 pr-5" required><!><option class="text-gray-900"> </option><option class="text-gray-900"> </option><option class="text-gray-900"> </option><option class="text-gray-900"> </option></select> <!> <div class="relative -left-2"><!></div></div> <button class="pr-3" type="button"><!></button></div>'),No=_("<div></div>");function To(It,ee){br(ee,!1);const r=()=>la(Gt,"$i18n",f),[f,p]=Nr(),Gt=Ar("i18n");let Ke=oa(ee,"banners",28,()=>[]),h=null,we=k(null);const v=()=>{const $=Array.from(e(we).children).map(U=>U.id.replace("banner-item-",""));Ke($.map(U=>{const y=Ke().findIndex(A=>A.id===U);return Ke()[y]}))},o=()=>{h&&h.destroy(),e(we)&&(h=new Ii(e(we),{animation:150,handle:".item-handle",onUpdate:async $=>{v()}}))};ml(()=>fr(Ke()),()=>{Ke()&&o()}),Al(),Rr();var S=No();Za(S,7,Ke,$=>$.id,($,U,y)=>{var A=Ro(),G=a(A);ki(G,{className:"size-4 cursor-move item-handle"});var K=l(G,2),te=a(K);u(()=>{e(U),Pa(()=>{r()})});var Ie=a(te);{var Ee=N=>{var xe=$o(),We=a(xe,!0);t(xe),xe.value=xe.__value="",u(_e=>s(We,_e),[()=>(r(),i(()=>r().t("Type")))]),d(N,xe)};g(Ie,N=>{e(U),i(()=>e(U).type=="")&&N(Ee)})}var Ne=l(Ie),n=a(Ne,!0);t(Ne),Ne.value=Ne.__value="info";var q=l(Ne),W=a(q,!0);t(q),q.value=q.__value="warning";var ye=l(q),V=a(ye,!0);t(ye),ye.value=ye.__value="error";var ue=l(ye),M=a(ue,!0);t(ue),ue.value=ue.__value="success",t(te);var x=l(te,2);{let N=I(()=>(r(),i(()=>r().t("Content"))));Zr(x,{className:"mr-2 text-xs w-full bg-transparent outline-hidden resize-none",get placeholder(){return e(N)},maxSize:100,get value(){return e(U).content},set value(xe){e(U).content=xe,Pa(()=>Ke())},$$legacy:!0})}var D=l(x,2),le=a(D);{let N=I(()=>(r(),i(()=>r().t("Remember Dismissal"))));lt(le,{get content(){return e(N)},className:"flex h-fit items-center",children:(xe,We)=>{ta(xe,{get state(){return e(U).dismissible},set state(_e){e(U).dismissible=_e,Pa(()=>Ke())},$$legacy:!0})},$$slots:{default:!0}})}t(D),t(K);var se=l(K,2),ve=a(se);Sl(ve,{className:"size-4"}),t(se),t(A),u((N,xe,We,_e)=>{T(A,"id",`banner-item-${e(U),i(()=>e(U).id)??""}`),s(n,N),s(W,xe),s(V,We),s(M,_e)},[()=>(r(),i(()=>r().t("Info"))),()=>(r(),i(()=>r().t("Warning"))),()=>(r(),i(()=>r().t("Error"))),()=>(r(),i(()=>r().t("Success")))]),or(te,()=>e(U).type,N=>(e(U).type=N,Pa(()=>Ke()))),Ve("click",se,()=>{Ke().splice(e(y),1),Ke(Ke())}),d($,A)}),t(S),Tl(S,$=>c(we,$),()=>e(we)),u(()=>qr(S,1,` flex flex-col gap-3 ${fr(Ke()),i(()=>{var $;return(($=Ke())==null?void 0:$.length)>0?"mt-2":""})??""}`)),d(It,S),wr(),p()}var So=Lr('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>'),ko=_('<option class="bg-gray-100 dark:bg-gray-700"> </option>'),Oo=_('<option class="bg-gray-100 dark:bg-gray-700"> </option>'),Lo=_('<div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div>'),Po=_('<div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div>'),Mo=_('<div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div>'),Co=_('<div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div>'),Uo=_('<input class="w-full outline-hidden bg-transparent"/>'),Do=_('<div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div>'),Go=_('<div class="text-xs text-left w-full mt-2"> </div>'),Bo=_("<!> <!>",1),Ho=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class="  overflow-y-scroll scrollbar-hidden h-full pr-1.5"><div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class=" mb-2 font-medium flex items-center"><div class=" text-xs mr-1"> </div> <!></div> <div class=" mb-2.5 flex w-full gap-2"><div class="flex-1"><div class=" text-xs mb-1"> </div> <select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option selected> </option><!></select></div> <div class="flex-1"><div class=" text-xs mb-1"> </div> <select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option selected> </option><!></select></div></div> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div> <div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div></div> <div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class="flex w-full justify-between"><div class=" self-center text-xs"> </div> <button class="p-1 px-3 text-xs flex rounded-sm transition" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg></button></div> <!></div> <!></div></div> <div class="flex justify-end text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>'),jo=_('<div class=" h-full w-full flex justify-center items-center"><!></div>');function Ko(It,ee){br(ee,!1);const r=()=>la(Jr,"$config",Gt),f=()=>la(we,"$i18n",Gt),p=()=>la(Nl,"$user",Gt),[Gt,Ke]=Nr(),h=cl(),we=Ar("i18n");let v=k({TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",ENABLE_TITLE_GENERATION:!0,TITLE_GENERATION_PROMPT_TEMPLATE:"",ENABLE_FOLLOW_UP_GENERATION:!0,FOLLOW_UP_GENERATION_PROMPT_TEMPLATE:"",IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE:"",ENABLE_AUTOCOMPLETE_GENERATION:!0,AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH:-1,TAGS_GENERATION_PROMPT_TEMPLATE:"",ENABLE_TAGS_GENERATION:!0,ENABLE_SEARCH_QUERY_GENERATION:!0,ENABLE_RETRIEVAL_QUERY_GENERATION:!0,QUERY_GENERATION_PROMPT_TEMPLATE:"",TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE:"",VOICE_MODE_PROMPT_TEMPLATE:""}),o=k([]),S=k([]);const $=async()=>{c(v,await ts(localStorage.token,e(v))),c(o,e(o).filter(n=>n.content!=="")),c(o,await ns(localStorage.token,e(o))),await U(),await Jr.set(await pl())},U=async()=>{ji.set(await cs(localStorage.token,e(S)))};let y=null,A=null,G=k(null);const K=async()=>{var n;c(v,await es(localStorage.token)),c(o,((n=r())==null?void 0:n.default_prompt_suggestions)??[]),c(S,await os(localStorage.token)),y=await wi(localStorage.token),A=await al(localStorage.token,null,!1),c(G,A.map(q=>{const W=y.find(ye=>ye.id===q.id);return W?{...q,...W}:{...q,id:q.id,name:q.name,is_active:!0}})),e(G)};rl(async()=>{await K()}),Rr();var te=Qe(),Ie=L(te);{var Ee=n=>{var q=Ho(),W=a(q),ye=a(W),V=a(ye),ue=a(V,!0);t(V);var M=l(V,4),x=a(M),D=a(x,!0);t(x);var le=l(x,2);{let E=I(()=>f().t("A task model is used when performing tasks such as generating titles for chats and web search queries"));lt(le,{get content(){return e(E)},children:(w,P)=>{var oe=So();d(w,oe)},$$slots:{default:!0}})}t(M);var se=l(M,2),ve=a(se),N=a(ve),xe=a(N,!0);t(N);var We=l(N,2);u(()=>{e(v),Pa(()=>{f(),e(G)})});var _e=a(We),R=a(_e,!0);t(_e),_e.value=_e.__value="";var F=l(_e);Za(F,1,()=>e(G),dr,(E,w)=>{var P=ko(),oe=a(P);t(P);var Te={};u(j=>{s(oe,`${e(w).name??""}
									${j??""}`),Te!==(Te=e(w).id)&&(P.value=(P.__value=e(w).id)??"")},[()=>{var j;return((j=e(w))==null?void 0:j.connection_type)==="local"?`(${f().t("Local")})`:""}]),d(E,P)}),t(We),t(ve);var Fe=l(ve,2),mt=a(Fe),Ot=a(mt,!0);t(mt);var bt=l(mt,2);u(()=>{e(v),Pa(()=>{f(),e(G)})});var fa=a(bt),zt=a(fa,!0);t(fa),fa.value=fa.__value="";var ca=l(fa);Za(ca,1,()=>e(G),dr,(E,w)=>{var P=Oo(),oe=a(P);t(P);var Te={};u(j=>{s(oe,`${e(w).name??""}
									${j??""}`),Te!==(Te=e(w).id)&&(P.value=(P.__value=e(w).id)??"")},[()=>{var j;return((j=e(w))==null?void 0:j.connection_type)==="local"?`(${f().t("Local")})`:""}]),d(E,P)}),t(bt),t(Fe),t(se);var ua=l(se,2),Jt=a(ua),aa=a(Jt,!0);t(Jt);var be=l(Jt,2);ta(be,{get state(){return e(v).ENABLE_TITLE_GENERATION},set state(E){m(v,e(v).ENABLE_TITLE_GENERATION=E)},$$legacy:!0}),t(ua);var Ye=l(ua,2);{var vt=E=>{var w=Lo(),P=a(w),oe=a(P,!0);t(P);var Te=l(P,2);{let j=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(Te,{get content(){return e(j)},placement:"top-start",children:(me,_t)=>{{let Me=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(me,{get placeholder(){return e(Me)},get value(){return e(v).TITLE_GENERATION_PROMPT_TEMPLATE},set value(ke){m(v,e(v).TITLE_GENERATION_PROMPT_TEMPLATE=ke)},$$legacy:!0})}},$$slots:{default:!0}})}t(w),u(j=>s(oe,j),[()=>f().t("Title Generation Prompt")]),d(E,w)};g(Ye,E=>{e(v).ENABLE_TITLE_GENERATION&&E(vt)})}var nt=l(Ye,2),Ge=a(nt),ze=a(Ge,!0);t(Ge);var tt=l(Ge,2);{let E=I(()=>e(v).VOICE_MODE_PROMPT_TEMPLATE!=null);ta(tt,{get state(){return e(E)},$$events:{change:w=>{w.detail?m(v,e(v).VOICE_MODE_PROMPT_TEMPLATE=""):m(v,e(v).VOICE_MODE_PROMPT_TEMPLATE=null)}}})}t(nt);var ut=l(nt,2);{var et=E=>{var w=Po(),P=a(w),oe=a(P,!0);t(P);var Te=l(P,2);{let j=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(Te,{get content(){return e(j)},placement:"top-start",children:(me,_t)=>{{let Me=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(me,{get placeholder(){return e(Me)},get value(){return e(v).VOICE_MODE_PROMPT_TEMPLATE},set value(ke){m(v,e(v).VOICE_MODE_PROMPT_TEMPLATE=ke)},$$legacy:!0})}},$$slots:{default:!0}})}t(w),u(j=>s(oe,j),[()=>f().t("Voice Mode Prompt")]),d(E,w)};g(ut,E=>{e(v).VOICE_MODE_PROMPT_TEMPLATE!=null&&E(et)})}var Lt=l(ut,2),Nt=a(Lt),qt=a(Nt,!0);t(Nt);var ct=l(Nt,2);ta(ct,{get state(){return e(v).ENABLE_FOLLOW_UP_GENERATION},set state(E){m(v,e(v).ENABLE_FOLLOW_UP_GENERATION=E)},$$legacy:!0}),t(Lt);var Qt=l(Lt,2);{var wa=E=>{var w=Mo(),P=a(w),oe=a(P,!0);t(P);var Te=l(P,2);{let j=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(Te,{get content(){return e(j)},placement:"top-start",children:(me,_t)=>{{let Me=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(me,{get placeholder(){return e(Me)},get value(){return e(v).FOLLOW_UP_GENERATION_PROMPT_TEMPLATE},set value(ke){m(v,e(v).FOLLOW_UP_GENERATION_PROMPT_TEMPLATE=ke)},$$legacy:!0})}},$$slots:{default:!0}})}t(w),u(j=>s(oe,j),[()=>f().t("Follow Up Generation Prompt")]),d(E,w)};g(Qt,E=>{e(v).ENABLE_FOLLOW_UP_GENERATION&&E(wa)})}var Ua=l(Qt,2),na=a(Ua),Wt=a(na,!0);t(na);var St=l(na,2);ta(St,{get state(){return e(v).ENABLE_TAGS_GENERATION},set state(E){m(v,e(v).ENABLE_TAGS_GENERATION=E)},$$legacy:!0}),t(Ua);var ia=l(Ua,2);{var At=E=>{var w=Co(),P=a(w),oe=a(P,!0);t(P);var Te=l(P,2);{let j=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(Te,{get content(){return e(j)},placement:"top-start",children:(me,_t)=>{{let Me=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(me,{get placeholder(){return e(Me)},get value(){return e(v).TAGS_GENERATION_PROMPT_TEMPLATE},set value(ke){m(v,e(v).TAGS_GENERATION_PROMPT_TEMPLATE=ke)},$$legacy:!0})}},$$slots:{default:!0}})}t(w),u(j=>s(oe,j),[()=>f().t("Tags Generation Prompt")]),d(E,w)};g(ia,E=>{e(v).ENABLE_TAGS_GENERATION&&E(At)})}var Ce=l(ia,2),Ct=a(Ce),Ht=a(Ct,!0);t(Ct);var da=l(Ct,2);ta(da,{get state(){return e(v).ENABLE_RETRIEVAL_QUERY_GENERATION},set state(E){m(v,e(v).ENABLE_RETRIEVAL_QUERY_GENERATION=E)},$$legacy:!0}),t(Ce);var $a=l(Ce,2),ha=a($a),Ft=a(ha,!0);t(ha);var jt=l(ha,2);ta(jt,{get state(){return e(v).ENABLE_SEARCH_QUERY_GENERATION},set state(E){m(v,e(v).ENABLE_SEARCH_QUERY_GENERATION=E)},$$legacy:!0}),t($a);var gt=l($a,2),Vt=a(gt),Yt=a(Vt,!0);t(Vt);var Ze=l(Vt,2);{let E=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(Ze,{get content(){return e(E)},placement:"top-start",children:(w,P)=>{{let oe=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(w,{get placeholder(){return e(oe)},get value(){return e(v).QUERY_GENERATION_PROMPT_TEMPLATE},set value(Te){m(v,e(v).QUERY_GENERATION_PROMPT_TEMPLATE=Te)},$$legacy:!0})}},$$slots:{default:!0}})}t(gt);var Z=l(gt,2),at=a(Z),ft=a(at,!0);t(at);var Et=l(at,2);{let E=I(()=>f().t("Enable autocomplete generation for chat messages"));lt(Et,{get content(){return e(E)},children:(w,P)=>{ta(w,{get state(){return e(v).ENABLE_AUTOCOMPLETE_GENERATION},set state(oe){m(v,e(v).ENABLE_AUTOCOMPLETE_GENERATION=oe)},$$legacy:!0})},$$slots:{default:!0}})}t(Z);var re=l(Z,2);{var ne=E=>{var w=Do(),P=a(w),oe=a(P,!0);t(P);var Te=l(P,2);{let j=I(()=>f().t("Character limit for autocomplete generation input"));lt(Te,{get content(){return e(j)},placement:"top-start",children:(me,_t)=>{var Me=Uo();Q(Me),u(ke=>T(Me,"placeholder",ke),[()=>f().t("-1 for no limit, or a positive integer for a specific limit")]),J(Me,()=>e(v).AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH,ke=>m(v,e(v).AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH=ke)),d(me,Me)},$$slots:{default:!0}})}t(w),u(j=>s(oe,j),[()=>f().t("Autocomplete Generation Input Max Length")]),d(E,w)};g(re,E=>{e(v).ENABLE_AUTOCOMPLETE_GENERATION&&E(ne)})}var Se=l(re,2),Oe=a(Se),Ue=a(Oe,!0);t(Oe);var Le=l(Oe,2);{let E=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(Le,{get content(){return e(E)},placement:"top-start",children:(w,P)=>{{let oe=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(w,{get placeholder(){return e(oe)},get value(){return e(v).IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE},set value(Te){m(v,e(v).IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE=Te)},$$legacy:!0})}},$$slots:{default:!0}})}t(Se);var Ae=l(Se,2),Be=a(Ae),C=a(Be,!0);t(Be);var H=l(Be,2);{let E=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(H,{get content(){return e(E)},placement:"top-start",children:(w,P)=>{{let oe=I(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(w,{get placeholder(){return e(oe)},get value(){return e(v).TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE},set value(Te){m(v,e(v).TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE=Te)},$$legacy:!0})}},$$slots:{default:!0}})}t(Ae),t(ye);var ie=l(ye,2),He=a(ie),Pe=a(He,!0);t(He);var $e=l(He,4),B=a($e),z=a(B),pe=a(z,!0);t(z);var de=l(z,2);t(B);var ae=l(B,2);To(ae,{get banners(){return e(S)},set banners(E){c(S,E)},$$legacy:!0}),t($e);var b=l($e,2);{var Y=E=>{var w=Bo(),P=L(w);Hs(P,{get promptSuggestions(){return e(o)},set promptSuggestions(j){c(o,j)},$$legacy:!0});var oe=l(P,2);{var Te=j=>{var me=Go(),_t=a(me,!0);t(me),u(Me=>s(_t,Me),[()=>f().t("Adjusting these settings will apply changes universally to all users.")]),d(j,me)};g(oe,j=>{e(o).length>0&&j(Te)})}d(E,w)};g(b,E=>{var w;((w=p())==null?void 0:w.role)==="admin"&&E(Y)})}t(ie),t(W);var O=l(W,2),ce=a(O),Re=a(ce,!0);t(ce),t(O),t(q),u((E,w,P,oe,Te,j,me,_t,Me,ke,De,rt,Pt,yt,ht,he,X,ge,st,it,Xe)=>{s(ue,E),s(D,w),s(xe,P),T(We,"placeholder",oe),s(R,Te),s(Ot,j),T(bt,"placeholder",me),s(zt,_t),s(aa,Me),s(ze,ke),s(qt,De),s(Wt,rt),s(Ht,Pt),s(Ft,yt),s(Yt,ht),s(ft,he),s(Ue,X),s(C,ge),s(Pe,st),s(pe,it),s(Re,Xe)},[()=>f().t("Tasks"),()=>f().t("Task Model"),()=>f().t("Local Task Model"),()=>f().t("Select a model"),()=>f().t("Current Model"),()=>f().t("External Task Model"),()=>f().t("Select a model"),()=>f().t("Current Model"),()=>f().t("Title Generation"),()=>f().t("Voice Mode Custom Prompt"),()=>f().t("Follow Up Generation"),()=>f().t("Tags Generation"),()=>f().t("Retrieval Query Generation"),()=>f().t("Web Search Query Generation"),()=>f().t("Query Generation Prompt"),()=>f().t("Autocomplete Generation"),()=>f().t("Image Prompt Generation Prompt"),()=>f().t("Tools Function Calling Prompt"),()=>f().t("UI"),()=>f().t("Banners"),()=>f().t("Save")]),or(We,()=>e(v).TASK_MODEL,E=>m(v,e(v).TASK_MODEL=E)),Ve("change",We,()=>{if(e(v).TASK_MODEL){const E=e(G).find(w=>w.id===e(v).TASK_MODEL);E?((E==null?void 0:E.access_control)!==null&&fe.error(f().t("This model is not publicly available. Please select another model.")),m(v,e(v).TASK_MODEL=E.id)):m(v,e(v).TASK_MODEL="")}}),or(bt,()=>e(v).TASK_MODEL_EXTERNAL,E=>m(v,e(v).TASK_MODEL_EXTERNAL=E)),Ve("change",bt,()=>{if(e(v).TASK_MODEL_EXTERNAL){const E=e(G).find(w=>w.id===e(v).TASK_MODEL_EXTERNAL);E?((E==null?void 0:E.access_control)!==null&&fe.error(f().t("This model is not publicly available. Please select another model.")),m(v,e(v).TASK_MODEL_EXTERNAL=E.id)):m(v,e(v).TASK_MODEL_EXTERNAL="")}}),Ve("click",de,()=>{(e(S).length===0||e(S).at(-1).content!=="")&&c(S,[...e(S),{id:Ss(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])}),Ve("submit",q,il(()=>{$(),h("save")})),d(n,q)},Ne=n=>{var q=jo(),W=a(q);Qr(W,{className:"size-5"}),t(q),d(n,q)};g(Ie,n=>{e(G)!==null&&e(v)?n(Ee):n(Ne,!1)})}d(It,te),wr(),Ke()}var Yo=_('<div class="flex items-center gap-1"><!> <div class=" text-sm flex-1 py-1 rounded-lg"><!></div></div>'),Wo=_('<div class=" flex gap-2 w-full justify-between items-center"><!></div>'),Fo=_('<div class="flex flex-col -translate-x-1"></div>'),Vo=_('<div class="text-gray-500 text-xs text-center py-2"> </div>');function Zo(It,ee){br(ee,!1);const r=()=>la(Wr,"$models",p),f=()=>la(Ke,"$i18n",p),[p,Gt]=Nr(),Ke=Ar("i18n");let h=oa(ee,"modelIds",28,()=>[]),we=null,v=k(null);const o=()=>{const G=Array.from(e(v).children).map(K=>K.id.replace("model-item-",""));h(G)},S=()=>{we&&we.destroy(),e(v)&&(we=new Ii(e(v),{animation:150,handle:".model-item-handle",onUpdate:async G=>{o()}}))};ml(()=>fr(h()),()=>{h()&&S()}),Al(),Rr();var $=Qe(),U=L($);{var y=G=>{var K=Fo();Za(K,7,h,(te,Ie)=>`${te}-${Ie}`,(te,Ie)=>{var Ee=Wo(),Ne=a(Ee);lt(Ne,{get content(){return e(Ie)},placement:"top-start",children:(n,q)=>{var W=Yo(),ye=a(W);ki(ye,{className:"size-4 cursor-move model-item-handle"});var V=l(ye,2),ue=a(V);{var M=D=>{var le=cr();u(se=>s(le,se),[()=>(r(),e(Ie),i(()=>r().find(se=>se.id===e(Ie)).name))]),d(D,le)},x=D=>{var le=cr();u(()=>s(le,e(Ie))),d(D,le)};g(ue,D=>{r(),e(Ie),i(()=>r().find(le=>le.id===e(Ie)))?D(M):D(x,!1)})}t(V),t(W),d(n,W)},$$slots:{default:!0}}),t(Ee),u(()=>T(Ee,"id",`model-item-${e(Ie)??""}`)),d(te,Ee)}),t(K),Tl(K,te=>c(v,te),()=>e(v)),d(G,K)},A=G=>{var K=Vo(),te=a(K,!0);t(K),u(Ie=>s(te,Ie),[()=>(f(),i(()=>f().t("No models found")))]),d(G,K)};g(U,G=>{fr(h()),i(()=>h().length>0)?G(y):G(A,!1)})}d(It,$),wr(),Gt()}var zo=_('<option class="bg-gray-50 dark:bg-gray-700"> </option>'),Xo=_('<div class=" flex gap-2 w-full justify-between items-center"><div class=" text-sm flex-1 py-1 rounded-lg"> </div> <div class="shrink-0"><button type="button"><!></button></div></div>'),Jo=_('<div class="flex flex-col"></div>'),qo=_('<div class="text-gray-500 text-xs text-center py-2"> </div>'),Qo=_('<div><div class="flex flex-col w-full"><div class="mb-1 flex justify-between"><div class="text-xs text-gray-500"> </div></div> <div class="flex items-center -mr-1"><select><option> </option><!></select></div> <!></div></div>');function yi(It,ee){br(ee,!1);const r=()=>la(Gt,"$i18n",f),[f,p]=Nr(),Gt=Ar("i18n");let Ke=oa(ee,"title",8,""),h=oa(ee,"models",24,()=>[]),we=oa(ee,"modelIds",28,()=>[]),v=k("");Rr();var o=Qo(),S=a(o),$=a(S),U=a($),y=a(U,!0);t(U),t($);var A=l($,2),G=a(A);u(()=>{e(v),Pa(()=>{we(),r(),h()})});var K=a(G),te=a(K,!0);t(K),K.value=K.__value="";var Ie=l(K);Za(Ie,1,h,dr,(q,W)=>{var ye=Qe(),V=L(ye);{var ue=M=>{var x=zo(),D=a(x,!0);t(x);var le={};u(()=>{s(D,(e(W),i(()=>e(W).name))),le!==(le=(e(W),i(()=>e(W).id)))&&(x.value=(x.__value=(e(W),i(()=>e(W).id)))??"")}),d(M,x)};g(V,M=>{fr(we()),e(W),i(()=>!we().includes(e(W).id))&&M(ue)})}d(q,ye)}),t(G),t(A);var Ee=l(A,2);{var Ne=q=>{var W=Jo();Za(W,5,we,dr,(ye,V,ue)=>{var M=Xo(),x=a(M),D=a(x,!0);t(x);var le=l(x,2),se=a(le),ve=a(se);Ri(ve,{strokeWidth:"2",className:"size-3.5"}),t(se),t(le),t(M),u(N=>s(D,N),[()=>(fr(h()),e(V),i(()=>{var N;return(N=h().find(xe=>xe.id===e(V)))==null?void 0:N.name}))]),Ve("click",se,()=>{we(we().filter((N,xe)=>xe!==ue))}),d(ye,M)}),t(W),d(q,W)},n=q=>{var W=qo(),ye=a(W,!0);t(W),u(V=>s(ye,V),[()=>(r(),i(()=>r().t("No models selected")))]),d(q,W)};g(Ee,q=>{fr(we()),i(()=>we().length>0)?q(Ne):q(n,!1)})}t(S),t(o),u(q=>{s(y,Ke()),qr(G,1,`dark:bg-gray-900 w-full py-1 text-sm rounded-lg bg-transparent ${e(v)?"":"text-gray-500"} placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden`),s(te,q)},[()=>(r(),i(()=>r().t("Select a model")))]),or(G,()=>e(v),q=>c(v,q)),Ve("change",G,()=>{e(v)&&!we().includes(e(v))&&we([...we(),e(v)]),c(v,"")}),d(It,o),wr(),p()}var en=_('<div class=" flex gap-2 w-full justify-between items-center"><div class=" text-sm flex-1 py-1 rounded-lg"> </div> <div class="shrink-0"><button type="button"><!></button></div></div>'),tn=_('<div class="flex flex-col"></div>'),an=_('<div class="text-gray-500 text-xs text-center py-2"> </div>'),rn=_('<option class="bg-gray-50 dark:bg-gray-700"> </option>'),ln=_('<button class="px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center" type="button"> </button>'),sn=_('<div class="ml-2 self-center"><!></div>'),vn=_('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"><div class=" text-lg font-medium self-center font-primary"><!></div> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><form class="flex flex-col w-full"><div class="px-1"><div class="flex justify-center pb-3"><input type="file" hidden="" accept="image/*"/> <button class="relative rounded-full w-fit h-fit shrink-0" type="button"><img class="size-16 rounded-full object-cover shrink-0" alt="Profile"/> <div class="absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"><div class="my-auto text-white"><!></div></div></button></div> <div class="flex gap-2"><div class="flex flex-col w-full"><div class=" mb-0.5 text-xs text-gray-500"> </div> <div class="flex-1"><input class="w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden" type="text" autocomplete="off" required/></div></div> <div class="flex flex-col w-full"><div class=" mb-0.5 text-xs text-gray-500"> </div> <div class="flex-1"><input class="w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden" type="text" autocomplete="off" required/></div></div></div> <div class="flex flex-col w-full mt-2"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1"><input class="w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden" type="text" autocomplete="off"/></div></div> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <div class="my-2"><!></div> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <div class="flex flex-col w-full"><div class="mb-1 flex justify-between"><div class="text-xs text-gray-500"> </div> <div><button class=" text-xs text-gray-500" type="button"><!></button></div></div> <!></div> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <div class="flex items-center"><select><option> </option><!></select> <div><button type="button"><!></button></div></div></div> <div class="flex justify-end pt-3 text-sm font-medium gap-1.5"><!> <button type="submit"> <!></button></div></form></div></div></div>'),dn=_("<!> <!>",1);function Oi(It,ee){br(ee,!1);const r=()=>la(Ke,"$i18n",p),f=()=>la(Wr,"$models",p),[p,Gt]=Nr(),Ke=Ar("i18n"),h=cl();let we=oa(ee,"show",12,!1),v=oa(ee,"edit",8,!1),o=oa(ee,"model",8,null),S=k(""),$=k("");const U=()=>{v()||c($,e(S).toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};let y=k(`${ci}/favicon.png`),A=k(""),G=k(""),K=k([]),te=k("include"),Ie=k({}),Ee=k(),Ne=k(!1),n=k(!1);const q=()=>{e(G)&&(c(K,[...e(K),e(G)]),c(G,""))},W=()=>{if(c(Ne,!0),!e(S)||!e($)){c(Ne,!1),fe.error(r().t("Name and ID are required, please fill them out"));return}if(!v()&&f().find(D=>D.name===e(S))){c(Ne,!1),c(S,""),fe.error(r().t("Model name already exists, please choose a different one"));return}const x={id:e($),name:e(S),meta:{profile_image_url:e(y),description:e(A)||null,model_ids:e(K).length>0?e(K):null,filter_mode:e(K).length>0&&e(te)?e(te):null,access_control:e(Ie)}};h("submit",x),c(Ne,!1),we(!1),c(S,""),c($,""),c(y,`${ci}/favicon.png`),c(A,""),c(K,[]),c(G,"")},ye=()=>{var x;o()&&(c(S,o().name),c($,o().id),c(y,o().meta.profile_image_url),c(A,o().meta.description),c(K,o().meta.model_ids||[]),c(te,((x=o().meta)==null?void 0:x.filter_mode)??"include"),c(Ie,"access_control"in o().meta?o().meta.access_control:{}))};rl(()=>{ye()}),ml(()=>e(S),()=>{e(S)&&U()}),ml(()=>fr(we()),()=>{we()&&ye()}),Al(),Rr();var V=dn(),ue=L(V);gl(ue,{get show(){return e(n)},set show(x){c(n,x)},$$events:{confirm:()=>{h("delete",o()),we(!1)}},$$legacy:!0});var M=l(ue,2);Zl(M,{size:"sm",get show(){return we()},set show(x){we(x)},children:(x,D)=>{var le=vn(),se=a(le),ve=a(se),N=a(ve);{var xe=C=>{var H=cr();u(ie=>s(H,ie),[()=>(r(),i(()=>r().t("Edit Arena Model")))]),d(C,H)},We=C=>{var H=cr();u(ie=>s(H,ie),[()=>(r(),i(()=>r().t("Add Arena Model")))]),d(C,H)};g(N,C=>{v()?C(xe):C(We,!1)})}t(ve);var _e=l(ve,2),R=a(_e);Sl(R,{className:"size-5"}),t(_e),t(se);var F=l(se,2),Fe=a(F),mt=a(Fe),Ot=a(mt),bt=a(Ot),fa=a(bt);Tl(fa,C=>c(Ee,C),()=>e(Ee));var zt=l(fa,2),ca=a(zt),ua=l(ca,2),Jt=a(ua),aa=a(Jt);hv(aa,{className:"size-4"}),t(Jt),t(ua),t(zt),t(bt);var be=l(bt,2),Ye=a(be),vt=a(Ye),nt=a(vt,!0);t(vt);var Ge=l(vt,2),ze=a(Ge);Q(ze),t(Ge),t(Ye);var tt=l(Ye,2),ut=a(tt),et=a(ut,!0);t(ut);var Lt=l(ut,2),Nt=a(Lt);Q(Nt),t(Lt),t(tt),t(be);var qt=l(be,2),ct=a(qt),Qt=a(ct,!0);t(ct);var wa=l(ct,2),Ua=a(wa);Q(Ua),t(wa),t(qt);var na=l(qt,4),Wt=a(na);mv(Wt,{get accessControl(){return e(Ie)},set accessControl(C){c(Ie,C)},$$legacy:!0}),t(na);var St=l(na,4),ia=a(St),At=a(ia),Ce=a(At,!0);t(At);var Ct=l(At,2),Ht=a(Ct),da=a(Ht);{var $a=C=>{var H=cr();u(ie=>s(H,ie),[()=>(r(),i(()=>r().t("Include")))]),d(C,H)},ha=C=>{var H=cr();u(ie=>s(H,ie),[()=>(r(),i(()=>r().t("Exclude")))]),d(C,H)};g(da,C=>{e(te)==="include"?C($a):C(ha,!1)})}t(Ht),t(Ct),t(ia);var Ft=l(ia,2);{var jt=C=>{var H=tn();Za(H,5,()=>e(K),dr,(ie,He,Pe)=>{var $e=en(),B=a($e),z=a(B,!0);t(B);var pe=l(B,2),de=a(pe),ae=a(de);Ri(ae,{strokeWidth:"2",className:"size-3.5"}),t(de),t(pe),t($e),u(b=>s(z,b),[()=>(f(),e(He),i(()=>{var b;return(b=f().find(Y=>Y.id===e(He)))==null?void 0:b.name}))]),Ve("click",de,()=>{c(K,e(K).filter((b,Y)=>Y!==Pe))}),d(ie,$e)}),t(H),d(C,H)},gt=C=>{var H=an(),ie=a(H,!0);t(H),u(He=>s(ie,He),[()=>(r(),i(()=>r().t("Leave empty to include all models or select specific models")))]),d(C,H)};g(Ft,C=>{e(K),i(()=>e(K).length>0)?C(jt):C(gt,!1)})}t(St);var Vt=l(St,4),Yt=a(Vt);u(()=>{e(G),Pa(()=>{r(),f()})});var Ze=a(Yt),Z=a(Ze,!0);t(Ze),Ze.value=Ze.__value="";var at=l(Ze);Za(at,1,()=>(f(),i(()=>f().filter(C=>(C==null?void 0:C.owned_by)!=="arena"))),dr,(C,H,ie,He)=>{var Pe=rn(),$e=a(Pe,!0);t(Pe);var B={};u(()=>{s($e,(e(H),i(()=>e(H).name))),B!==(B=(e(H),i(()=>e(H).id)))&&(Pe.value=(Pe.__value=(e(H),i(()=>e(H).id)))??"")}),d(C,Pe)}),t(Yt);var ft=l(Yt,2),Et=a(ft),re=a(Et);Ul(re,{className:"size-3.5",strokeWidth:"2"}),t(Et),t(ft),t(Vt),t(Ot);var ne=l(Ot,2),Se=a(ne);{var Oe=C=>{var H=ln(),ie=a(H,!0);t(H),u(He=>s(ie,He),[()=>(r(),i(()=>r().t("Delete")))]),Ve("click",H,()=>{c(n,!0)}),d(C,H)};g(Se,C=>{v()&&C(Oe)})}var Ue=l(Se,2),Le=a(Ue),Ae=l(Le);{var Be=C=>{var H=sn(),ie=a(H);Qr(ie,{}),t(H),d(C,H)};g(Ae,C=>{e(Ne)&&C(Be)})}t(Ue),t(ne),t(mt),t(Fe),t(F),t(le),u((C,H,ie,He,Pe,$e,B,z,pe)=>{T(ca,"src",e(y)),s(nt,C),T(ze,"placeholder",H),s(et,ie),T(Nt,"placeholder",He),Nt.disabled=v(),s(Qt,Pe),T(Ua,"placeholder",$e),s(Ce,B),qr(Yt,1,`dark:bg-gray-900 w-full py-1 text-sm rounded-lg bg-transparent ${e(G)?"":"text-gray-500"} placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden`),s(Z,z),qr(Ue,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${e(Ne)?" cursor-not-allowed":""}`),Ue.disabled=e(Ne),s(Le,`${pe??""} `)},[()=>(r(),i(()=>r().t("Name"))),()=>(r(),i(()=>r().t("Model Name"))),()=>(r(),i(()=>r().t("ID"))),()=>(r(),i(()=>r().t("Model ID"))),()=>(r(),i(()=>r().t("Description"))),()=>(r(),i(()=>r().t("Enter description"))),()=>(r(),i(()=>r().t("Models"))),()=>(r(),i(()=>r().t("Select a model"))),()=>(r(),i(()=>r().t("Save")))]),Ve("click",_e,()=>{we(!1)}),Ve("change",fa,C=>{const H=C.target.files??[];let ie=new FileReader;ie.onload=He=>{let Pe=`${He.target.result}`;const $e=new Image;$e.src=Pe,$e.onload=function(){const B=document.createElement("canvas"),z=B.getContext("2d"),pe=$e.width/$e.height;let de,ae;pe>1?(de=250*pe,ae=250):(de=250,ae=250/pe),B.width=250,B.height=250;const b=(250-de)/2,Y=(250-ae)/2;z.drawImage($e,b,Y,de,ae);const O=B.toDataURL("image/webp",.8);c(y,O),C.target.files=null}},H.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(H[0].type)&&ie.readAsDataURL(H[0])}),Ve("click",zt,()=>{e(Ee).click()}),J(ze,()=>e(S),C=>c(S,C)),J(Nt,()=>e($),C=>c($,C)),J(Ua,()=>e(A),C=>c(A,C)),Ve("click",Ht,()=>{c(te,e(te)==="include"?"exclude":"include")}),or(Yt,()=>e(G),C=>c(G,C)),Ve("click",Et,()=>{q()}),Ve("submit",mt,il(()=>{W()})),d(x,le)},$$slots:{default:!0},$$legacy:!0}),d(It,V),wr(),Gt()}var on=_('<!> <div class="py-0.5"><div class="flex justify-between items-center mb-1"><div class="flex flex-col flex-1"><div class="flex gap-2.5 items-center"><img class="size-8 rounded-full object-cover shrink-0"/> <div class="w-full flex flex-col"><div class="flex items-center gap-1"><div class=" line-clamp-1"> </div></div> <div class="flex items-center gap-1"><div class=" text-xs w-full text-gray-500 bg-transparent line-clamp-1"> </div></div></div></div></div> <div class="flex items-center"><button class="self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button></div></div></div>',1);function nn(It,ee){br(ee,!1);const r=cl();Ar("i18n");let f=oa(ee,"model",8),p=k(!1);Rr();var Gt=on(),Ke=L(Gt);Oi(Ke,{edit:!0,get model(){return f()},get show(){return e(p)},set show(n){c(p,n)},$$events:{submit:async n=>{r("edit",n.detail)},delete:async()=>{r("delete")}},$$legacy:!0});var h=l(Ke,2),we=a(h),v=a(we),o=a(v),S=a(o),$=l(S,2),U=a($),y=a(U),A=a(y,!0);t(y),t(U);var G=l(U,2),K=a(G),te=a(K,!0);t(K),t(G),t($),t(o),t(v);var Ie=l(v,2),Ee=a(Ie),Ne=a(Ee);Vl(Ne,{}),t(Ee),t(Ie),t(we),t(h),u(()=>{T(S,"src",(fr(Yl),fr(f()),i(()=>`${Yl}/models/model/profile/image?id=${f().id}`))),T(S,"alt",(fr(f()),i(()=>f().name))),s(A,(fr(f()),i(()=>f().name))),s(te,(fr(f()),i(()=>{var n,q;return((q=(n=f())==null?void 0:n.meta)==null?void 0:q.description)??f().id})))}),Ve("click",Ee,()=>{c(p,!0)}),d(It,Gt),wr()}var cn=_('<span class="font-normal self-center"><!></span>'),un=_('<span class="invisible"><!></span>'),_n=_('<button class="px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center" type="button"> </button>'),fn=_('<div class="ml-2 self-center"><!></div>'),pn=_('<form class="flex flex-col w-full"><div><div class="flex flex-col w-full"><button class="mb-1 flex gap-2" type="button"><div class="text-xs text-gray-500"> </div> <!></button> <!></div></div> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <!> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <!> <div class="flex justify-between pt-3 text-sm font-medium gap-1.5"><!> <button type="submit"> <!></button></div></form>'),mn=_("<div><!></div>"),gn=_('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"><div class=" text-lg font-medium self-center font-primary"> </div> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><!></div></div></div>'),xn=_("<!> <!>",1);function En(It,ee){br(ee,!1);const r=()=>la(Wr,"$models",p),f=()=>la(Ke,"$i18n",p),[p,Gt]=Nr(),Ke=Ar("i18n");cl();let h=oa(ee,"show",12,!1),we=oa(ee,"initHandler",8,()=>{}),v=k(null),o=k([]),S=k([]),$=k([]),U=k(""),y=k(""),A=k(!1),G=k(!1);const K=async()=>{var ye,V,ue,M;c(v,await us(localStorage.token)),(ye=e(v))!=null&&ye.DEFAULT_MODELS?c(o,(V=e(v))==null?void 0:V.DEFAULT_MODELS.split(",").filter(x=>x)):c(o,[]),(ue=e(v))!=null&&ue.DEFAULT_PINNED_MODELS?c(S,(M=e(v))==null?void 0:M.DEFAULT_PINNED_MODELS.split(",").filter(x=>x)):c(S,[]);const n=e(v).MODEL_ORDER_LIST||[],q=r().map(x=>x.id),W=new Set(n);c($,[...n.filter(x=>W.has(x)&&q.includes(x)),...q.filter(x=>!W.has(x)).sort((x,D)=>x.localeCompare(D))]),c(U,""),c(y,"")},te=async()=>{c(A,!0),await _s(localStorage.token,{DEFAULT_MODELS:e(o).join(","),DEFAULT_PINNED_MODELS:e(S).join(","),MODEL_ORDER_LIST:e($)})?(fe.success(f().t("Models configuration saved successfully")),we()(),h(!1)):fe.error(f().t("Failed to save models configuration")),c(A,!1)};rl(async()=>{K()}),ml(()=>fr(h()),()=>{h()&&K()}),Al(),Rr();var Ie=xn(),Ee=L(Ie);{let n=I(()=>(f(),i(()=>f().t("Reset All Models")))),q=I(()=>(f(),i(()=>f().t("This will delete all models including custom models and cannot be undone."))));gl(Ee,{get title(){return e(n)},get message(){return e(q)},onConfirm:async()=>{Us(localStorage.token)&&(fe.success(f().t("All models deleted successfully")),we()())},get show(){return e(G)},set show(W){c(G,W)},$$legacy:!0})}var Ne=l(Ee,2);Zl(Ne,{size:"sm",get show(){return h()},set show(n){h(n)},children:(n,q)=>{var W=gn(),ye=a(W),V=a(ye),ue=a(V,!0);t(V);var M=l(V,2),x=a(M);Sl(x,{className:"size-5"}),t(M),t(ye);var D=l(ye,2),le=a(D),se=a(le);{var ve=xe=>{var We=pn(),_e=a(We),R=a(_e),F=a(R),Fe=a(F),mt=a(Fe,!0);t(Fe);var Ot=l(Fe,2);{var bt=Ge=>{var ze=cn(),tt=a(ze);{var ut=Lt=>{fi(Lt,{className:"size-3"})},et=Lt=>{Ws(Lt,{className:"size-3"})};g(tt,Lt=>{e(y)==="asc"?Lt(ut):Lt(et,!1)})}t(ze),d(Ge,ze)},fa=Ge=>{var ze=un(),tt=a(ze);fi(tt,{className:"size-3"}),t(ze),d(Ge,ze)};g(Ot,Ge=>{e(U)==="model"?Ge(bt):Ge(fa,!1)})}t(F);var zt=l(F,2);Zo(zt,{get modelIds(){return e($)},set modelIds(Ge){c($,Ge)},$$legacy:!0}),t(R),t(_e);var ca=l(_e,4);{let Ge=I(()=>(f(),i(()=>f().t("Default Models"))));yi(ca,{get title(){return e(Ge)},get models(){return r()},get modelIds(){return e(o)},set modelIds(ze){c(o,ze)},$$legacy:!0})}var ua=l(ca,4);{let Ge=I(()=>(f(),i(()=>f().t("Default Pinned Models"))));yi(ua,{get title(){return e(Ge)},get models(){return r()},get modelIds(){return e(S)},set modelIds(ze){c(S,ze)},$$legacy:!0})}var Jt=l(ua,2),aa=a(Jt);{let Ge=I(()=>(f(),i(()=>f().t("This will delete all models including custom models"))));lt(aa,{get content(){return e(Ge)},children:(ze,tt)=>{var ut=_n(),et=a(ut,!0);t(ut),u(Lt=>s(et,Lt),[()=>(f(),i(()=>f().t("Reset All Models")))]),Ve("click",ut,()=>{c(G,!0)}),d(ze,ut)},$$slots:{default:!0}})}var be=l(aa,2),Ye=a(be),vt=l(Ye);{var nt=Ge=>{var ze=fn(),tt=a(ze);Qr(tt,{}),t(ze),d(Ge,ze)};g(vt,Ge=>{e(A)&&Ge(nt)})}t(be),t(Jt),t(We),u((Ge,ze)=>{s(mt,Ge),qr(be,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${e(A)?" cursor-not-allowed":""}`),be.disabled=e(A),s(Ye,`${ze??""} `)},[()=>(f(),i(()=>f().t("Reorder Models"))),()=>(f(),i(()=>f().t("Save")))]),Ve("click",F,()=>{c(U,"model"),e(y)==="asc"?c(y,"desc"):c(y,"asc"),c($,e($).filter(Ge=>Ge!=="").sort((Ge,ze)=>{var et,Lt;const tt=((et=r().find(Nt=>Nt.id===Ge))==null?void 0:et.name)||Ge,ut=((Lt=r().find(Nt=>Nt.id===ze))==null?void 0:Lt.name)||ze;return e(y)==="desc"?tt.localeCompare(ut):ut.localeCompare(tt)}))}),Ve("submit",We,il(()=>{te()})),d(xe,We)},N=xe=>{var We=mn(),_e=a(We);Qr(_e,{className:"size-5"}),t(We),d(xe,We)};g(se,xe=>{e(v)?xe(ve):xe(N,!1)})}t(le),t(D),t(W),u(xe=>s(ue,xe),[()=>(f(),i(()=>f().t("Settings")))]),Ve("click",M,()=>{h(!1)}),d(n,W)},$$slots:{default:!0},$$legacy:!0}),d(It,Ie),wr(),Gt()}var yn=_('<button class="flex gap-2 items-center bg-transparent rounded-lg transition"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg></button>'),hn=_(`<div class="self-center"><svg class=" w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}

												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg></div>`),bn=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),An=_('<button class="px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"><!></button>'),wn=_('<button class="text-gray-800 dark:text-gray-100"><svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg></button>'),In=_('<div class="text-xs flex justify-between items-center"><div> </div> <!></div>'),$n=_('<button class="text-gray-800 dark:text-gray-100"><svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg></button>'),Rn=_('<div class="mt-1 text-xs dark:text-gray-500" style="font-size: 0.5rem;"> </div>'),Nn=_('<div class="flex flex-col"><div class="font-medium mb-1"> </div> <div><div class="flex flex-row justify-between space-x-4 pr-2"><div class=" flex-1"><div class="dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"> </div></div> <!></div> <!></div></div>'),Tn=_('<option class="bg-gray-50 dark:bg-gray-700"> </option>'),Sn=_('<button class="px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg></button>'),kn=_('<button class="px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg></button>'),On=_('<div class="mt-1 text-xs dark:text-gray-500" style="font-size: 0.5rem;"> </div>'),Ln=_('<div class="flex flex-col mt-1"><div class="font-medium mb-1"></div> <div><div class="flex flex-row justify-between space-x-4 pr-2"><div class=" flex-1"><div class="dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"> </div></div></div> <!></div></div>'),Pn=_('<span class="ml-2 self-center"> </span>'),Mn=_('<span class="ml-2 self-center"> </span>'),Cn=_('<div><input id="model-upload-input" type="file" accept=".gguf,.safetensors" required hidden=""/> <button type="button" class="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"><!></button></div>'),Un=_('<div><input type="url" required/></div>'),Dn=_(`<div class="self-center"><svg class=" w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
															transform-origin: center;
															animation: spinner_AtaB 0.75s infinite linear;
														}

														@keyframes spinner_AtaB {
															100% {
																transform: rotate(360deg);
															}
														}</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg></div>`),Gn=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),Bn=_('<button class="px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition" type="submit"><!></button>'),Hn=_('<div><div><div class=" my-2.5 text-sm font-medium"> </div> <textarea class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none" rows="6"></textarea></div></div>'),jn=_('<div class="mt-2"><div class=" mb-2 text-xs"> </div> <div class="w-full rounded-full dark:bg-gray-800"><div class="dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full" style="width: 100%"> </div></div> <div class="mt-1 text-xs dark:text-gray-500" style="font-size: 0.5rem;"> </div></div>'),Kn=_('<div class="mt-2"><div class=" mb-2 text-xs"> </div> <div class="w-full rounded-full dark:bg-gray-800"><div class="dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"> </div></div> <div class="mt-1 text-xs dark:text-gray-500" style="font-size: 0.5rem;"> </div></div>'),Yn=_('<form><div class=" mb-2 flex w-full justify-between"><div class="  text-sm font-medium"> </div> <button class="p-1 px-3 text-xs flex rounded-sm transition" type="button"><!></button></div> <div class="flex w-full mb-1.5"><div class="flex flex-col w-full"><!></div> <!></div> <!> <div class=" mt-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" text-gray-500 dark:text-gray-300 font-medium underline" href="https://huggingface.co/models?search=gguf" target="_blank"> </a></div> <!></form>'),Wn=_('<div class=" flex flex-col w-full"><div><div class="space-y-2"><div><div class=" mb-2 text-sm font-medium flex items-center gap-1.5"><div> </div> <div><!></div></div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div> <!></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" text-gray-500 dark:text-gray-300 font-medium underline" href="https://ollama.com/library" target="_blank"> </a></div> <!> <!></div> <div><div class=" mb-2 text-sm font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850"><select class="w-full py-2 px-4 text-sm outline-hidden bg-transparent"><option disabled selected> </option><!></select></div> <!></div></div> <div><div class=" mb-2 text-sm font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2 flex flex-col gap-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <textarea class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none scrollbar-hidden" rows="6"></textarea></div> <div class="flex self-start"><!></div></div> <!></div> <div class="pt-1"><div class="flex justify-between items-center text-xs"><div class=" text-sm font-medium"> </div> <button class=" text-xs font-medium text-gray-500" type="button"> </button></div></div> <!></div></div></div>'),Fn=_('<div class="flex justify-center items-center w-full h-full text-xs py-3"> </div>'),Vn=_('<div class="flex justify-center items-center w-full h-full py-3"><!></div>'),Zn=_("<!> <!>",1);function Li(It,ee){br(ee,!1);const r=()=>la($l,"$MODEL_DOWNLOAD_POOL",Ke),f=()=>la(we,"$i18n",Ke),p=()=>la(Jr,"$config",Ke),Gt=()=>la(xl,"$settings",Ke),[Ke,h]=Nr(),we=Ar("i18n");let v=k(),o=k(!1),S=k(!0),$=oa(ee,"urlIdx",8,null),U=k([]),y=k(null),A=k(null),G={},K=!1,te=k(!1);const Ie=3;let Ee=k(!1),Ne=k(""),n=k(!1),q=k(""),W=k(""),ye=k(""),V=k(null),ue="",M=null,x=k("file"),D=k(null),le=k(""),se=k(`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`),ve=k(""),N=k(null),xe=k(""),We=k("");const _e=async()=>{K=!1,fe.info("Checking for model updates...");for(const be of e(U)){if(K)break;c(y,be.id);const[Ye,vt]=await gi(localStorage.token,be.id,$()).catch(nt=>(nt.name!=="AbortError"&&fe.error(`${nt}`),[null,null]));if(G={...G,[be.id]:vt},Ye){const nt=Ye.body.pipeThrough(new TextDecoderStream).pipeThrough(Ml(`
`)).getReader();for(;;)try{const{value:Ge,done:ze}=await nt.read();if(ze)break;let tt=Ge.split(`
`);for(const ut of tt)if(ut!==""){let et=JSON.parse(ut);if(et.error)throw et.error;if(et.detail)throw et.detail;et.status&&et.digest&&(c(A,0),et.completed?c(A,Math.round(et.completed/et.total*1e3)/10):c(A,100))}}catch(Ge){Ge.name;break}}delete G[be.id],G={...G}}K?fe.info("Model update cancelled"):fe.success("All models are up to date"),c(y,null),c(A,null)},R=async()=>{var nt,Ge,ze,tt;const be=e(Ne).trim().replace(/^ollama\s+(run|pull)\s+/,"");if(r(),r()[be]){fe.error(f().t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:be}));return}if(Object.keys(r()).length===Ie){fe.error(f().t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}c(Ee,!0);const[Ye,vt]=await gi(localStorage.token,be,$()).catch(ut=>(ut.name!=="AbortError"&&fe.error(`${ut}`),[null,null]));if(Ye){const ut=Ye.body.pipeThrough(new TextDecoderStream).pipeThrough(Ml(`
`)).getReader();for($l.set({...r(),[be]:{...r()[be],abortController:vt,reader:ut,done:!1}});;)try{const{value:et,done:Lt}=await ut.read();if(Lt)break;let Nt=et.split(`
`);for(const qt of Nt)if(qt!==""){let ct=JSON.parse(qt);if(ct.error)throw ct.error;if(ct.detail)throw ct.detail;if(ct.status)if(ct.digest){let Qt=0;ct.completed?Qt=Math.round(ct.completed/ct.total*1e3)/10:Qt=100,$l.set({...r(),[be]:{...r()[be],pullProgress:Qt,digest:ct.digest}})}else $l.set({...r(),[be]:{...r()[be],done:ct.status==="success"}})}}catch(et){if(et.name!=="AbortError")typeof et!="string"&&(et=et.message),fe.error(`${et}`);else break}r()[be],(nt=r()[be])!=null&&nt.done?(fe.success(f().t("Model '{{modelName}}' has been successfully downloaded.",{modelName:be})),Wr.set(await al(localStorage.token,((ze=(Ge=p())==null?void 0:Ge.features)==null?void 0:ze.enable_direct_connections)&&(((tt=Gt())==null?void 0:tt.directConnections)??null)))):fe.error(f().t("Download canceled")),delete r()[be],$l.set({...r()})}c(Ne,""),c(Ee,!1)},F=async()=>{var nt,Ge,ze;c(Ee,!0);let be=!1,Ye=null,vt="";if(e(x)==="file"){const tt=e(D)?e(D)[0]:null;tt&&(c(xe,"Uploading..."),Ye=await Fs(localStorage.token,tt,$()).catch(ut=>(fe.error(`${ut}`),null)))}else c(N,0),Ye=await Vs(localStorage.token,e(le),$()).catch(tt=>(fe.error(`${tt}`),null));if(Ye&&Ye.ok){const tt=Ye.body.pipeThrough(new TextDecoderStream).pipeThrough(Ml(`
`)).getReader();for(;;){const{value:ut,done:et}=await tt.read();if(et)break;try{let Lt=ut.split(`
`);for(const Nt of Lt)if(Nt!==""){let qt=JSON.parse(Nt.replace(/^data: /,""));if(qt.progress&&(e(xe)&&c(xe,""),c(N,qt.progress)),qt.error)throw qt.error;qt.done&&(c(ve,qt.blob),vt=qt.name,be=!0)}}catch(Lt){}}}else{const tt=await(Ye==null?void 0:Ye.json());fe.error((tt==null?void 0:tt.detail)??tt)}if(be){const tt=await xi(localStorage.token,`${vt}:latest`,`FROM @${e(ve)}
${e(se)}`);if(tt&&tt.ok){const ut=tt.body.pipeThrough(new TextDecoderStream).pipeThrough(Ml(`
`)).getReader();for(;;){const{value:et,done:Lt}=await ut.read();if(Lt)break;try{let Nt=et.split(`
`);for(const qt of Nt)if(qt!==""){let ct=JSON.parse(qt);if(ct.error)throw ct.error;if(ct.detail)throw ct.detail;ct.status&&(!ct.digest&&!ct.status.includes("writing")&&!ct.status.includes("sha256")?fe.success(ct.status):ct.digest&&(ue=ct.digest,ct.completed?M=Math.round(ct.completed/ct.total*1e3)/10:M=100))}}catch(Nt){fe.error(`${Nt}`)}}}}c(le,""),e(v)&&m(v,e(v).value=""),c(D,null),c(Ee,!1),c(N,null),Wr.set(await al(localStorage.token,((Ge=(nt=p())==null?void 0:nt.features)==null?void 0:Ge.enable_direct_connections)&&(((ze=Gt())==null?void 0:ze.directConnections)??null)))},Fe=async()=>{var Ye,vt,nt;await pi(localStorage.token,e(We),$()).catch(Ge=>{fe.error(`${Ge}`)})&&fe.success(f().t("Deleted {{deleteModelTag}}",{deleteModelTag:e(We)})),c(We,""),Wr.set(await al(localStorage.token,((vt=(Ye=p())==null?void 0:Ye.features)==null?void 0:vt.enable_direct_connections)&&(((nt=Gt())==null?void 0:nt.directConnections)??null))),c(U,await mi(localStorage.token,$()).catch(Ge=>(fe.error(`${Ge}`),null)))},mt=async be=>{const Ye=G[be];Ye&&(Ye.abort(),K=!0)},Ot=async be=>{const{reader:Ye,abortController:vt}=r()[be];vt&&vt.abort(),Ye&&(await Ye.cancel(),delete r()[be],$l.set({...r()}),await pi(localStorage.token,be),fe.success(f().t("{{model}} download has been canceled",{model:be})))},bt=async()=>{var vt,nt,Ge;c(n,!0);let be={};try{be=JSON.parse(e(W))}catch(ze){fe.error(`${ze}`),c(n,!1);return}const Ye=await xi(localStorage.token,{model:e(q),...be},$()).catch(ze=>(fe.error(`${ze}`),null));if(Ye&&Ye.ok){const ze=Ye.body.pipeThrough(new TextDecoderStream).pipeThrough(Ml(`
`)).getReader();for(;;){const{value:tt,done:ut}=await ze.read();if(ut)break;try{let et=tt.split(`
`);for(const Lt of et)if(Lt!==""){let Nt=JSON.parse(Lt);if(Nt.error)throw Nt.error;if(Nt.detail)throw Nt.detail;Nt.status&&(!Nt.digest&&!Nt.status.includes("writing")&&!Nt.status.includes("sha256")?fe.success(Nt.status):Nt.digest&&(c(ye,Nt.digest),Nt.completed?c(V,Math.round(Nt.completed/Nt.total*1e3)/10):c(V,100)))}}catch(et){fe.error(`${et}`)}}}Wr.set(await al(localStorage.token,((nt=(vt=p())==null?void 0:vt.features)==null?void 0:nt.enable_direct_connections)&&(((Ge=Gt())==null?void 0:Ge.directConnections)??null))),c(n,!1),c(q,""),c(W,""),c(ye,""),c(V,null)},fa=async()=>{c(S,!0),c(U,await mi(localStorage.token,$()).catch(be=>(fe.error(`${be}`),null))),e(U)&&c(S,!1)};ml(()=>fr($()),()=>{$()!==null&&fa()}),Al(),Rr();var zt=Zn(),ca=L(zt);gl(ca,{get show(){return e(o)},set show(be){c(o,be)},$$events:{confirm:()=>{Fe()}},$$legacy:!0});var ua=l(ca,2);{var Jt=be=>{var Ye=Wn(),vt=a(Ye),nt=a(vt),Ge=a(nt),ze=a(Ge),tt=a(ze),ut=a(tt,!0);t(tt);var et=l(tt,2),Lt=a(et);lt(Lt,{content:"Update All Models",placement:"top",children:(B,z)=>{var pe=yn();Ve("click",pe,()=>{_e()}),d(B,pe)},$$slots:{default:!0}}),t(et),t(ze);var Nt=l(ze,2),qt=a(Nt),ct=a(qt);Q(ct),t(qt);var Qt=l(qt,2);{let B=I(()=>(f(),i(()=>f().t("Pull Model"))));lt(Qt,{get content(){return e(B)},placement:"top",children:(z,pe)=>{var de=An(),ae=a(de);{var b=O=>{var ce=hn();d(O,ce)},Y=O=>{var ce=bn();d(O,ce)};g(ae,O=>{e(Ee)?O(b):O(Y,!1)})}t(de),u(O=>de.disabled=O,[()=>(e(Ee),e(Ne),i(()=>e(Ee)||e(Ne).trim()===""))]),Ve("click",de,()=>{R()}),d(z,de)},$$slots:{default:!0}})}t(Nt);var wa=l(Nt,2),Ua=a(wa),na=l(Ua),Wt=a(na,!0);t(na),t(wa);var St=l(wa,2);{var ia=B=>{var z=In(),pe=a(z),de=a(pe);t(pe);var ae=l(pe,2);{let b=I(()=>(f(),i(()=>f().t("Cancel"))));lt(ae,{get content(){return e(b)},children:(Y,O)=>{var ce=wn();Ve("click",ce,()=>{mt(e(y))}),d(Y,ce)},$$slots:{default:!0}})}t(z),u(()=>s(de,`Updating "${e(y)??""}" ${e(A)?`(${e(A)}%)`:""}`)),d(B,z)};g(St,B=>{e(y)&&B(ia)})}var At=l(St,2);{var Ce=B=>{var z=Qe(),pe=L(z);Za(pe,1,()=>(r(),i(()=>Object.keys(r()))),dr,(de,ae)=>{var b=Qe(),Y=L(b);{var O=ce=>{var Re=Nn(),E=a(Re),w=a(E,!0);t(E);var P=l(E,2),oe=a(P),Te=a(oe),j=a(Te),me=a(j);t(j),t(Te);var _t=l(Te,2);{let De=I(()=>(f(),i(()=>f().t("Cancel"))));lt(_t,{get content(){return e(De)},children:(rt,Pt)=>{var yt=$n();Ve("click",yt,()=>{Ot(e(ae))}),d(rt,yt)},$$slots:{default:!0}})}t(oe);var Me=l(oe,2);{var ke=De=>{var rt=Rn(),Pt=a(rt,!0);t(rt),u(()=>s(Pt,(r(),e(ae),i(()=>r()[e(ae)].digest)))),d(De,rt)};g(Me,De=>{r(),e(ae),i(()=>"digest"in r()[e(ae)])&&De(ke)})}t(P),t(Re),u(De=>{s(w,e(ae)),ti(j,`width: ${De??""}%`),s(me,`${r(),e(ae),i(()=>r()[e(ae)].pullProgress??0)??""}%`)},[()=>(r(),e(ae),i(()=>Math.max(15,r()[e(ae)].pullProgress??0)))]),d(ce,Re)};g(Y,ce=>{r(),e(ae),i(()=>"pullProgress"in r()[e(ae)])&&ce(O)})}d(de,b)}),d(B,z)};g(At,B=>{r(),i(()=>Object.keys(r()).length>0)&&B(Ce)})}t(Ge);var Ct=l(Ge,2),Ht=a(Ct),da=a(Ht,!0);t(Ht);var $a=l(Ht,2),ha=a($a),Ft=a(ha);u(()=>{e(We),Pa(()=>{f(),e(U)})});var jt=a(Ft),gt=a(jt,!0);t(jt),jt.value=jt.__value="";var Vt=l(jt);Za(Vt,1,()=>e(U),dr,(B,z)=>{var pe=Tn(),de=a(pe,!0);t(pe);var ae={};u(b=>{s(de,b),ae!==(ae=(e(z),i(()=>e(z).id)))&&(pe.value=(pe.__value=(e(z),i(()=>e(z).id)))??"")},[()=>(e(z),i(()=>e(z).name+" ("+(e(z).size/1073741824).toFixed(1)+" GB)"))]),d(B,pe)}),t(Ft),t(ha);var Yt=l(ha,2);{let B=I(()=>(f(),i(()=>f().t("Delete Model"))));lt(Yt,{get content(){return e(B)},placement:"top",children:(z,pe)=>{var de=Sn();u(()=>de.disabled=e(We)===""),Ve("click",de,()=>{c(o,!0)}),d(z,de)},$$slots:{default:!0}})}t($a),t(Ct);var Ze=l(Ct,2),Z=a(Ze),at=a(Z,!0);t(Z);var ft=l(Z,2),Et=a(ft),re=a(Et);Q(re);var ne=l(re,2);oi(ne),T(ne,"placeholder",'e.g. {"model": "my-modelfile", "from": "ollama:7b"})'),t(Et);var Se=l(Et,2),Oe=a(Se);{let B=I(()=>(f(),i(()=>f().t("Create Model"))));lt(Oe,{get content(){return e(B)},placement:"top",children:(z,pe)=>{var de=kn();u(ae=>de.disabled=ae,[()=>(e(n),e(q),e(W),i(()=>e(n)||e(q).trim()===""||e(W).trim()===""))]),Ve("click",de,()=>{bt()}),d(z,de)},$$slots:{default:!0}})}t(Se),t(ft);var Ue=l(ft,2);{var Le=B=>{var z=Ln(),pe=a(z);pe.textContent=createModelTag;var de=l(pe,2),ae=a(de),b=a(ae),Y=a(b),O=a(Y);t(Y),t(b),t(ae);var ce=l(ae,2);{var Re=E=>{var w=On(),P=a(w,!0);t(w),u(()=>s(P,e(ye))),d(E,w)};g(ce,E=>{e(ye)&&E(Re)})}t(de),t(z),u(E=>{ti(Y,`width: ${E??""}%`),s(O,`${e(V)??0??""}%`)},[()=>(e(V),i(()=>Math.max(15,e(V)??0)))]),d(B,z)};g(Ue,B=>{e(ye)!==""&&B(Le)})}t(Ze);var Ae=l(Ze,2),Be=a(Ae),C=a(Be),H=a(C,!0);t(C);var ie=l(C,2),He=a(ie,!0);t(ie),t(Be),t(Ae);var Pe=l(Ae,2);{var $e=B=>{var z=Yn(),pe=a(z),de=a(pe),ae=a(de,!0);t(de);var b=l(de,2),Y=a(b);{var O=he=>{var X=Pn(),ge=a(X,!0);t(X),u(st=>s(ge,st),[()=>(f(),i(()=>f().t("File Mode")))]),d(he,X)},ce=he=>{var X=Mn(),ge=a(X,!0);t(X),u(st=>s(ge,st),[()=>(f(),i(()=>f().t("URL Mode")))]),d(he,X)};g(Y,he=>{e(x)==="file"?he(O):he(ce,!1)})}t(b),t(pe);var Re=l(pe,2),E=a(Re),w=a(E);{var P=he=>{var X=Cn(),ge=a(X);Tl(ge,xt=>c(v,xt),()=>e(v));var st=l(ge,2),it=a(st);{var Xe=xt=>{var Bt=cr();u(()=>s(Bt,(e(D),i(()=>e(D)[0].name)))),d(xt,Bt)},qe=xt=>{var Bt=cr();u(kt=>s(Bt,kt),[()=>(f(),i(()=>f().t("Click here to select")))]),d(xt,Bt)};g(it,xt=>{e(D),i(()=>e(D)&&e(D).length>0)?xt(Xe):xt(qe,!1)})}t(st),t(X),u(()=>qr(X,1,`flex-1 ${e(D),i(()=>e(D)&&e(D).length>0?"mr-2":"")??""}`)),si(ge,()=>e(D),xt=>c(D,xt)),Ve("change",ge,()=>{e(D)}),Ve("click",st,()=>{e(v).click()}),d(he,X)},oe=he=>{var X=Un(),ge=a(X);Q(ge),t(X),u(st=>{qr(X,1,`flex-1 ${e(le)!==""?"mr-2":""}`),qr(ge,1,`w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden ${e(le)!==""?"mr-2":""}`),T(ge,"placeholder",st)},[()=>(f(),i(()=>f().t("Type Hugging Face Resolve (Download) URL")))]),J(ge,()=>e(le),st=>c(le,st)),d(he,X)};g(w,he=>{e(x)==="file"?he(P):he(oe,!1)})}t(E);var Te=l(E,2);{var j=he=>{{let X=I(()=>(f(),i(()=>f().t("Upload Model"))));lt(he,{get content(){return e(X)},placement:"top",children:(ge,st)=>{var it=Bn(),Xe=a(it);{var qe=Bt=>{var kt=Dn();d(Bt,kt)},xt=Bt=>{var kt=Gn();d(Bt,kt)};g(Xe,Bt=>{e(Ee)?Bt(qe):Bt(xt,!1)})}t(it),u(()=>it.disabled=e(Ee)),d(ge,it)},$$slots:{default:!0}})}};g(Te,he=>{e(x),e(D),e(le),i(()=>e(x)==="file"&&e(D)&&e(D).length>0||e(x)==="url"&&e(le)!=="")&&he(j)})}t(Re);var me=l(Re,2);{var _t=he=>{var X=Hn(),ge=a(X),st=a(ge),it=a(st,!0);t(st);var Xe=l(st,2);oi(Xe),t(ge),t(X),u(qe=>s(it,qe),[()=>(f(),i(()=>f().t("Modelfile Content")))]),J(Xe,()=>e(se),qe=>c(se,qe)),d(he,X)};g(me,he=>{e(x),e(D),e(le),i(()=>e(x)==="file"&&e(D)&&e(D).length>0||e(x)==="url"&&e(le)!=="")&&he(_t)})}var Me=l(me,2),ke=a(Me),De=l(ke),rt=a(De,!0);t(De),t(Me);var Pt=l(Me,2);{var yt=he=>{var X=jn(),ge=a(X),st=a(ge,!0);t(ge);var it=l(ge,2),Xe=a(it),qe=a(Xe,!0);t(Xe),t(it);var xt=l(it,2),Bt=a(xt,!0);t(xt),t(X),u(kt=>{s(st,kt),s(qe,e(xe)),s(Bt,e(ve))},[()=>(f(),i(()=>f().t("Upload Progress")))]),d(he,X)},ht=he=>{var X=Qe(),ge=L(X);{var st=it=>{var Xe=Kn(),qe=a(Xe),xt=a(qe,!0);t(qe);var Bt=l(qe,2),kt=a(Bt),_a=a(kt);t(kt),t(Bt);var ea=l(Bt,2),ga=a(ea,!0);t(ea),t(Xe),u((Ra,Je)=>{s(xt,Ra),ti(kt,`width: ${Je??""}%`),s(_a,`${e(N)??0??""}%`),s(ga,e(ve))},[()=>(f(),i(()=>f().t("Upload Progress"))),()=>(e(N),i(()=>Math.max(15,e(N)??0)))]),d(it,Xe)};g(ge,it=>{e(N)!==null&&it(st)},!0)}d(he,X)};g(Pt,he=>{e(xe)?he(yt):he(ht,!1)})}t(z),u((he,X,ge)=>{s(ae,he),s(ke,`${X??""} `),s(rt,ge)},[()=>(f(),i(()=>f().t("Upload a GGUF model"))),()=>(f(),i(()=>f().t("To access the GGUF models available for downloading,"))),()=>(f(),i(()=>f().t("click here.")))]),Ve("click",b,()=>{e(x)==="file"?c(x,"url"):c(x,"file")}),Ve("submit",z,il(()=>{F()})),d(B,z)};g(Pe,B=>{e(te)&&B($e)})}t(nt),t(vt),t(Ye),u((B,z,pe,de,ae,b,Y,O,ce,Re,E)=>{s(ut,B),T(ct,"placeholder",z),s(Ua,`${pe??""} `),s(Wt,de),s(da,ae),T(Ft,"placeholder",b),s(gt,Y),s(at,O),T(re,"placeholder",ce),re.disabled=e(n),ne.disabled=e(n),s(H,Re),s(He,E)},[()=>(f(),i(()=>f().t("Pull a model from Ollama.com"))),()=>(f(),i(()=>f().t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"}))),()=>(f(),i(()=>f().t("To access the available model names for downloading,"))),()=>(f(),i(()=>f().t("click here."))),()=>(f(),i(()=>f().t("Delete a model"))),()=>(f(),i(()=>f().t("Select a model"))),()=>(f(),i(()=>f().t("Select a model"))),()=>(f(),i(()=>f().t("Create a model"))),()=>(f(),i(()=>f().t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"}))),()=>(f(),i(()=>f().t("Experimental"))),()=>(e(te),f(),i(()=>e(te)?f().t("Hide"):f().t("Show")))]),J(ct,()=>e(Ne),B=>c(Ne,B)),or(Ft,()=>e(We),B=>c(We,B)),J(re,()=>e(q),B=>c(q,B)),J(ne,()=>e(W),B=>c(W,B)),Ve("click",ie,()=>{c(te,!e(te))}),d(be,Ye)},aa=be=>{var Ye=Qe(),vt=L(Ye);{var nt=ze=>{var tt=Fn(),ut=a(tt,!0);t(tt),u(et=>s(ut,et),[()=>(f(),i(()=>f().t("Failed to fetch models")))]),d(ze,tt)},Ge=ze=>{var tt=Vn(),ut=a(tt);Qr(ut,{className:"size-5"}),t(tt),d(ze,tt)};g(vt,ze=>{e(U)===null?ze(nt):ze(Ge,!1)},!0)}d(be,Ye)};g(ua,be=>{e(S)?be(aa,!1):be(Jt)})}d(It,zt),wr(),h()}var zn=_("<option> </option>"),Xn=_('<div class="flex-1 mb-2.5 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850"><select class="w-full py-2 px-4 text-sm outline-hidden bg-transparent"></select></div> <!>',1);function Jn(It,ee){br(ee,!1);const r=()=>la(Gt,"$i18n",f),[f,p]=Nr(),Gt=Ar("i18n");let Ke=oa(ee,"ollamaConfig",8,null),h=k(0);Rr();var we=Qe(),v=L(we);{var o=S=>{var $=Xn(),U=L($),y=a(U);u(()=>{e(h),Pa(()=>{r(),Ke()})}),Za(y,5,()=>(fr(Ke()),i(()=>Ke().OLLAMA_BASE_URLS)),dr,(G,K,te)=>{var Ie=zn(),Ee=a(Ie,!0);t(Ie),Ie.value=Ie.__value=te,u(()=>s(Ee,e(K))),d(G,Ie)}),t(y),t(U);var A=l(U,2);Li(A,{get urlIdx(){return e(h)}}),u(G=>T(y,"placeholder",G),[()=>(r(),i(()=>r().t("Select an Ollama instance")))]),or(y,()=>e(h),G=>c(h,G)),d(S,$)};g(v,S=>{Ke()&&S(o)})}d(It,we),wr(),p()}var qn=_('<div class=" py-5 text-gray-400 text-xs"><div> </div></div>'),Qn=_('<div class=" flex w-full flex-col"><div class="flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200"><button> </button></div> <div class=" px-1.5 py-1"><!></div></div>'),ec=_('<div class=" py-5"><!></div>'),tc=_('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4"><div class=" text-lg font-medium self-center font-primary"> </div> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-3 pb-4 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><!></div></div></div>');function ac(It,ee){br(ee,!1);const r=()=>la(Nl,"$user",p),f=()=>la(Ke,"$i18n",p),[p,Gt]=Nr(),Ke=Ar("i18n");cl();let h=oa(ee,"show",12,!1),we=k(null),v=k(null);rl(async()=>{var o;if(((o=r())==null?void 0:o.role)==="admin"){if(await Promise.all([(async()=>{c(v,await Ni(localStorage.token))})()]),e(v)){c(we,"ollama");return}c(we,"")}}),Rr(),Zl(It,{size:"sm",get show(){return h()},set show(o){h(o)},children:(o,S)=>{var $=tc(),U=a($),y=a(U),A=a(y,!0);t(y);var G=l(y,2),K=a(G);Sl(K,{className:"size-5"}),t(G),t(U);var te=l(U,2),Ie=a(te),Ee=a(Ie);{var Ne=q=>{var W=qn(),ye=a(W),V=a(ye,!0);t(ye),t(W),u(ue=>s(V,ue),[()=>(f(),i(()=>f().t("No inference engine with management support found")))]),d(q,W)},n=q=>{var W=Qe(),ye=L(W);{var V=M=>{var x=Qn(),D=a(x),le=a(D),se=a(le,!0);t(le),t(D);var ve=l(D,2),N=a(ve);{var xe=We=>{Jn(We,{get ollamaConfig(){return e(v)}})};g(N,We=>{e(we)==="ollama"&&We(xe)})}t(ve),t(x),u(We=>{qr(le,1,`min-w-fit p-1.5 ${e(we)==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"} transition`),s(se,We)},[()=>(f(),i(()=>f().t("Ollama")))]),Ve("click",le,()=>{c(we,"ollama")}),d(M,x)},ue=M=>{var x=ec(),D=a(x);Qr(D,{}),t(x),d(M,x)};g(ye,M=>{e(we)!==null?M(V):M(ue,!1)},!0)}d(q,W)};g(Ee,q=>{e(we)===""?q(Ne):q(n,!1)})}t(Ie),t(te),t($),u(q=>s(A,q),[()=>(f(),i(()=>f().t("Manage Models")))]),Ve("click",G,()=>{h(!1)}),d(o,$)},$$slots:{default:!0},$$legacy:!0}),wr(),Gt()}var rc=Lr('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"></path></svg>'),lc=Lr('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>'),ic=_('<!> <div class="flex items-center"><!></div>',1),sc=_('<!> <div class="flex items-center"><!></div>',1),vc=_('<!> <div class="flex items-center"> </div>',1),dc=_('<!> <div class="flex items-center"> </div>',1),oc=_('<!> <div class="flex items-center"> </div>',1),nc=_("<!> <!> <!> <!> <!>",1),cc=_('<div slot="content"><!></div>');function uc(It,ee){br(ee,!1);const r=()=>la(Ke,"$i18n",p),f=()=>la(xl,"$settings",p),[p,Gt]=Nr(),Ke=Ar("i18n");oa(ee,"user",8);let h=oa(ee,"model",8),we=oa(ee,"exportHandler",8),v=oa(ee,"hideHandler",8),o=oa(ee,"pinModelHandler",8),S=oa(ee,"copyLinkHandler",8),$=oa(ee,"cloneHandler",8),U=oa(ee,"onClose",8),y=k(!1);Rr(),qs(It,{get show(){return e(y)},set show(A){c(y,A)},$$events:{change:A=>{A.detail===!1&&U()()}},children:(A,G)=>{{let K=I(()=>(r(),i(()=>r().t("More"))));lt(A,{get content(){return e(K)},children:(te,Ie)=>{var Ee=Qe(),Ne=L(Ee);zs(Ne,ee,"default",{},null),d(te,Ee)},$$slots:{default:!0}})}},$$slots:{default:!0,content:(A,G)=>{var K=cc(),te=a(K);Xs(te,{class:"w-full max-w-[170px] rounded-xl p-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-sm",sideOffset:-2,side:"bottom",align:"start",get transition(){return Js},children:(Ie,Ee)=>{var Ne=nc(),n=L(Ne);Cl(n,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$events:{click:()=>{v()()}},children:(ue,M)=>{var x=ic(),D=L(x);{var le=_e=>{var R=rc();d(_e,R)},se=_e=>{var R=lc();d(_e,R)};g(D,_e=>{fr(h()),i(()=>{var R,F;return((F=(R=h())==null?void 0:R.meta)==null?void 0:F.hidden)??!1})?_e(le):_e(se,!1)})}var ve=l(D,2),N=a(ve);{var xe=_e=>{var R=cr();u(F=>s(R,F),[()=>(r(),i(()=>r().t("Show Model")))]),d(_e,R)},We=_e=>{var R=cr();u(F=>s(R,F),[()=>(r(),i(()=>r().t("Hide Model")))]),d(_e,R)};g(N,_e=>{fr(h()),i(()=>{var R,F;return((F=(R=h())==null?void 0:R.meta)==null?void 0:F.hidden)??!1})?_e(xe):_e(We,!1)})}t(ve),d(ue,x)},$$slots:{default:!0}});var q=l(n,2);Cl(q,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$events:{click:()=>{var ue;o()((ue=h())==null?void 0:ue.id)}},children:(ue,M)=>{var x=sc(),D=L(x);{var le=_e=>{tv(_e,{})},se=_e=>{ev(_e,{})};g(D,_e=>{f(),fr(h()),i(()=>{var R,F;return(((R=f())==null?void 0:R.pinnedModels)??[]).includes((F=h())==null?void 0:F.id)})?_e(le):_e(se,!1)})}var ve=l(D,2),N=a(ve);{var xe=_e=>{var R=cr();u(F=>s(R,F),[()=>(r(),i(()=>r().t("Hide from Sidebar")))]),d(_e,R)},We=_e=>{var R=cr();u(F=>s(R,F),[()=>(r(),i(()=>r().t("Keep in Sidebar")))]),d(_e,R)};g(N,_e=>{f(),fr(h()),i(()=>{var R,F;return(((R=f())==null?void 0:R.pinnedModels)??[]).includes((F=h())==null?void 0:F.id)})?_e(xe):_e(We,!1)})}t(ve),d(ue,x)},$$slots:{default:!0}});var W=l(q,2);Cl(W,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$events:{click:()=>{S()()}},children:(ue,M)=>{var x=vc(),D=L(x);av(D,{});var le=l(D,2),se=a(le,!0);t(le),u(ve=>s(se,ve),[()=>(r(),i(()=>r().t("Copy Link")))]),d(ue,x)},$$slots:{default:!0}});var ye=l(W,2);Cl(ye,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$events:{click:()=>{$()()}},children:(ue,M)=>{var x=dc(),D=L(x);Qs(D,{});var le=l(D,2),se=a(le,!0);t(le),u(ve=>s(se,ve),[()=>(r(),i(()=>r().t("Clone")))]),d(ue,x)},$$slots:{default:!0}});var V=l(ye,2);Cl(V,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$events:{click:()=>{we()()}},children:(ue,M)=>{var x=oc(),D=L(x);vi(D,{});var le=l(D,2),se=a(le,!0);t(le),u(ve=>s(se,ve),[()=>(r(),i(()=>r().t("Export")))]),d(ue,x)},$$slots:{default:!0}}),d(Ie,Ne)},$$slots:{default:!0}}),t(K),d(A,K)}},$$legacy:!0}),wr(),Gt()}var _c=_('<button class=" p-1 rounded-full flex gap-1 items-center" type="button"><!></button>'),fc=_('<button class=" p-1 rounded-full flex gap-1 items-center" type="button"><!></button>'),pc=_('<div class="self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent"><button class="p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"><!></button></div>'),mc=_('<div class="  font-semibold line-clamp-1"> </div>'),gc=_('<button class="self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),xc=_('<button class="self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),Ec=_('<button class="self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg></button> <!> <div class="ml-1"><!></div>',1),yc=_('<div><button class=" flex flex-1 text-left space-x-3.5 cursor-pointer w-full" type="button"><div class=" self-center w-8"><div><img alt="modelfile profile" class=" rounded-full w-full h-auto object-cover"/></div></div> <div><!> <div class=" text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500"><span class=" line-clamp-1"> </span></div></div></button> <div class="flex flex-row gap-0.5 items-center self-center"><!></div></div>'),hc=_('<div class="flex flex-col items-center justify-center w-full h-20"><div class="text-gray-500 dark:text-gray-400 text-xs"> </div></div>'),bc=_('<div class=" flex justify-end w-full mb-3"><div class="flex space-x-1"><input id="models-import-input" type="file" accept=".json" hidden=""/> <button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"><!> <div class=" self-center mr-2 font-medium line-clamp-1"> </div> <div class=" self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg></div></button> <button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"><div class=" self-center mr-2 font-medium line-clamp-1"> </div> <div class=" self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg></div></button></div></div>'),Ac=_('<div class="flex flex-col gap-1 mt-1.5 mb-2"><div class="flex justify-between items-center"><div class="flex items-center md:self-center text-xl font-medium px-0.5 gap-2"> <span class="text-lg font-medium text-gray-500 dark:text-gray-300"> </span></div> <div class="flex items-center gap-1.5"><!> <!></div></div> <div class=" flex flex-1 items-center w-full space-x-2"><div class="flex flex-1 items-center"><div class=" self-center ml-1 mr-3"><!></div> <input class=" w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent"/> <!></div></div></div> <div class=" my-2 mb-5" id="model-list"><!></div> <!>',1),wc=_('<div class=" h-full w-full flex justify-center items-center"><!></div>'),Ic=_("<!> <!> <!>",1);function $c(It,ee){br(ee,!1);const r=()=>la(o,"$i18n",h),f=()=>la(Jr,"$config",h),p=()=>la(xl,"$settings",h),Gt=()=>la(hi,"$page",h),Ke=()=>la(Nl,"$user",h),[h,we]=Nr(),{saveAs:v}=Ai,o=Ar("i18n");let S=k(!1),$=k(!1),U=k(),y=k(),A=k(null),G=null,K=null,te=k([]),Ie=k(null),Ee=k(!1),Ne=k(!1),n=k("");const q=async R=>{let F=new Blob([JSON.stringify(R)],{type:"application/json"});v(F,`models-export-${Date.now()}.json`)},W=async()=>{c(A,null),G=await wi(localStorage.token),K=await al(localStorage.token,null,!0),c(A,K.map(R=>{const F=G.find(Fe=>Fe.id===R.id);return F?{...R,...F}:{...R,id:R.id,name:R.name,is_active:!0}}))},ye=async R=>{var F,Fe,mt;R.base_model_id=null,G.find(Ot=>Ot.id===R.id)?await Ds(localStorage.token,R.id,R).catch(bt=>null)&&fe.success(r().t("Model updated successfully")):await _i(localStorage.token,{meta:{},id:R.id,name:R.name,base_model_id:null,params:{},access_control:{},...R}).catch(bt=>null)&&fe.success(r().t("Model updated successfully")),await W(),Wr.set(await al(localStorage.token,((Fe=(F=f())==null?void 0:F.features)==null?void 0:Fe.enable_direct_connections)&&(((mt=p())==null?void 0:mt.directConnections)??null)))},V=async R=>{var F,Fe,mt;Object.keys(R).includes("base_model_id")?await Bs(localStorage.token,R.id):await _i(localStorage.token,{id:R.id,name:R.name,base_model_id:null,meta:{},params:{},access_control:{},is_active:R.is_active}).catch(Ot=>null),Wr.set(await al(localStorage.token,((Fe=(F=f())==null?void 0:F.features)==null?void 0:Fe.enable_direct_connections)&&(((mt=p())==null?void 0:mt.directConnections)??null)))},ue=async R=>{var F;R.meta={...R.meta,hidden:!(((F=R==null?void 0:R.meta)==null?void 0:F.hidden)??!1)},fe.success(R.meta.hidden?r().t("Model {{name}} is now hidden",{name:R.id}):r().t("Model {{name}} is now visible",{name:R.id})),ye(R)},M=async R=>{const F=window.location.origin;await ks(`${F}/?model=${encodeURIComponent(R.id)}`)?fe.success(r().t("Copied link to clipboard")):fe.error(r().t("Failed to copy link"))},x=async R=>{sessionStorage.model=JSON.stringify({...R,base_model_id:R.id,id:`${R.id}-clone`,name:`${R.name} (Clone)`}),bi("/workspace/models/create")},D=async R=>{let F=new Blob([JSON.stringify([R])],{type:"application/json"});v(F,`${R.id}-${Date.now()}.json`)},le=async R=>{var Fe;let F=((Fe=p())==null?void 0:Fe.pinnedModels)??[];F.includes(R)?F=F.filter(mt=>mt!==R):F=[...new Set([...F,R])],xl.set({...p(),pinnedModels:F}),await ss(localStorage.token,{ui:p()})};rl(async()=>{await W();const R=Gt().url.searchParams.get("id");R&&c(Ie,R);const F=Ot=>{Ot.key==="Shift"&&c(S,!0)},Fe=Ot=>{Ot.key==="Shift"&&c(S,!1)},mt=()=>{c(S,!1)};return window.addEventListener("keydown",F),window.addEventListener("keyup",Fe),window.addEventListener("blur-sm",mt),()=>{window.removeEventListener("keydown",F),window.removeEventListener("keyup",Fe),window.removeEventListener("blur-sm",mt)}}),ml(()=>(e(A),e(n)),()=>{e(A)&&c(te,e(A).filter(R=>e(n)===""||R.name.toLowerCase().includes(e(n).toLowerCase())).sort((R,F)=>((R==null?void 0:R.name)??(R==null?void 0:R.id)??"").localeCompare((F==null?void 0:F.name)??(F==null?void 0:F.id)??"")))}),Al(),Rr();var se=Ic(),ve=L(se);En(ve,{initHandler:W,get show(){return e(Ee)},set show(R){c(Ee,R)},$$legacy:!0});var N=l(ve,2);ac(N,{get show(){return e(Ne)},set show(R){c(Ne,R)},$$legacy:!0});var xe=l(N,2);{var We=R=>{var F=Qe(),Fe=L(F);{var mt=bt=>{var fa=Ac(),zt=L(fa),ca=a(zt),ua=a(ca),Jt=a(ua),aa=l(Jt),be=a(aa,!0);t(aa),t(ua);var Ye=l(ua,2),vt=a(Ye);{let Wt=I(()=>(r(),i(()=>r().t("Manage Models"))));lt(vt,{get content(){return e(Wt)},children:(St,ia)=>{var At=_c(),Ce=a(At);vi(Ce,{}),t(At),Ve("click",At,()=>{c(Ne,!0)}),d(St,At)},$$slots:{default:!0}})}var nt=l(vt,2);{let Wt=I(()=>(r(),i(()=>r().t("Settings"))));lt(nt,{get content(){return e(Wt)},children:(St,ia)=>{var At=fc(),Ce=a(At);Vl(Ce,{}),t(At),Ve("click",At,()=>{c(Ee,!0)}),d(St,At)},$$slots:{default:!0}})}t(Ye),t(ca);var Ge=l(ca,2),ze=a(Ge),tt=a(ze),ut=a(tt);$i(ut,{className:"size-3.5"}),t(tt);var et=l(tt,2);Q(et);var Lt=l(et,2);{var Nt=Wt=>{var St=pc(),ia=a(St),At=a(ia);Sl(At,{className:"size-3",strokeWidth:"2"}),t(ia),t(St),Ve("click",ia,()=>{c(n,"")}),d(Wt,St)};g(Lt,Wt=>{e(n)&&Wt(Nt)})}t(ze),t(Ge),t(zt);var qt=l(zt,2),ct=a(qt);{var Qt=Wt=>{var St=Qe(),ia=L(St);Za(ia,3,()=>e(te),(At,Ce)=>`${At.id}-${Ce}`,(At,Ce,Ct)=>{var Ht=yc(),da=a(Ht),$a=a(da),ha=a($a),Ft=a(ha);t(ha),t($a);var jt=l($a,2),gt=a(jt);{let re=I(()=>(fr(ui),e(Ce),i(()=>{var ne,Se,Oe,Ue,Le,Ae,Be,C,H,ie;return ui.parse((Se=(ne=e(Ce))==null?void 0:ne.meta)!=null&&Se.description?(Ue=(Oe=e(Ce))==null?void 0:Oe.meta)==null?void 0:Ue.description:(Ae=(Le=e(Ce))==null?void 0:Le.ollama)!=null&&Ae.digest?`${(C=(Be=e(Ce))==null?void 0:Be.ollama)==null?void 0:C.digest} **(${(ie=(H=e(Ce))==null?void 0:H.ollama)==null?void 0:ie.modified_at})**`:e(Ce).id)})));lt(gt,{get content(){return e(re)},className:" w-fit",placement:"top-start",children:(ne,Se)=>{var Oe=mc(),Ue=a(Oe,!0);t(Oe),u(()=>s(Ue,(e(Ce),i(()=>e(Ce).name)))),d(ne,Oe)},$$slots:{default:!0}})}var Vt=l(gt,2),Yt=a(Vt),Ze=a(Yt,!0);t(Yt),t(Vt),t(jt),t(da);var Z=l(da,2),at=a(Z);{var ft=re=>{{let ne=I(()=>(e(Ce),r(),i(()=>{var Se,Oe;return(Oe=(Se=e(Ce))==null?void 0:Se.meta)!=null&&Oe.hidden?r().t("Show"):r().t("Hide")})));lt(re,{get content(){return e(ne)},children:(Se,Oe)=>{var Ue=gc(),Le=a(Ue);{var Ae=C=>{lv(C,{})},Be=C=>{iv(C,{})};g(Le,C=>{e(Ce),i(()=>{var H,ie;return(ie=(H=e(Ce))==null?void 0:H.meta)==null?void 0:ie.hidden})?C(Ae):C(Be,!1)})}t(Ue),Ve("click",Ue,()=>{ue(e(Ce))}),d(Se,Ue)},$$slots:{default:!0}})}},Et=re=>{var ne=Ec(),Se=L(ne),Oe=l(Se,2);uc(Oe,{get user(){return Ke()},get model(){return e(Ce)},exportHandler:()=>{D(e(Ce))},hideHandler:()=>{ue(e(Ce))},pinModelHandler:()=>{le(e(Ce).id)},copyLinkHandler:()=>{M(e(Ce))},cloneHandler:()=>{x(e(Ce))},onClose:()=>{},children:(Ae,Be)=>{var C=xc(),H=a(C);rv(H,{className:"size-5"}),t(C),d(Ae,C)},$$slots:{default:!0}});var Ue=l(Oe,2),Le=a(Ue);{let Ae=I(()=>(e(Ce),r(),i(()=>{var Be;return((Be=e(Ce))==null?void 0:Be.is_active)??!0?r().t("Enabled"):r().t("Disabled")})));lt(Le,{get content(){return e(Ae)},children:(Be,C)=>{ta(Be,{get state(){return e(Ce).is_active},set state(H){e(Ce).is_active=H,Pa(()=>e(te))},$$events:{change:async()=>{V(e(Ce))}},$$legacy:!0})},$$slots:{default:!0}})}t(Ue),Ve("click",Se,()=>{c(Ie,e(Ce).id)}),d(re,ne)};g(at,re=>{e(S)?re(ft):re(Et,!1)})}t(Z),t(Ht),u(()=>{qr(Ht,1,` flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-lg transition ${e(Ce),i(()=>{var re,ne;return(ne=(re=e(Ce))==null?void 0:re.meta)!=null&&ne.hidden?"opacity-50 dark:opacity-50":""})??""}`),T(Ht,"id",`model-item-${e(Ce),i(()=>e(Ce).id)??""}`),qr(ha,1,` rounded-full object-cover ${e(Ce),i(()=>{var re;return((re=e(Ce))==null?void 0:re.is_active)??!0?"":"opacity-50 dark:opacity-50"})??""} `),T(Ft,"src",(fr(Yl),e(Ce),i(()=>`${Yl}/models/model/profile/image?id=${e(Ce).id}`))),qr(jt,1,` flex-1 self-center ${e(Ce),i(()=>{var re;return((re=e(Ce))==null?void 0:re.is_active)??!0?"":"text-gray-500"})??""}`),s(Ze,(e(Ce),i(()=>{var re,ne,Se,Oe,Ue,Le,Ae,Be;return(ne=(re=e(Ce))==null?void 0:re.meta)!=null&&ne.description?(Oe=(Se=e(Ce))==null?void 0:Se.meta)==null?void 0:Oe.description:(Le=(Ue=e(Ce))==null?void 0:Ue.ollama)!=null&&Le.digest?`${e(Ce).id} (${(Be=(Ae=e(Ce))==null?void 0:Ae.ollama)==null?void 0:Be.digest})`:e(Ce).id})))}),Ve("click",da,()=>{c(Ie,e(Ce).id)}),d(At,Ht)}),d(Wt,St)},wa=Wt=>{var St=hc(),ia=a(St),At=a(ia,!0);t(ia),t(St),u(Ce=>s(At,Ce),[()=>(r(),i(()=>r().t("No models found")))]),d(Wt,St)};g(ct,Wt=>{e(A),i(()=>e(A).length>0)?Wt(Qt):Wt(wa,!1)})}t(qt);var Ua=l(qt,2);{var na=Wt=>{var St=bc(),ia=a(St),At=a(ia);Tl(At,gt=>c(y,gt),()=>e(y));var Ce=l(At,2),Ct=a(Ce);{var Ht=gt=>{Qr(gt,{className:"size-3"})};g(Ct,gt=>{e($)&&gt(Ht)})}var da=l(Ct,2),$a=a(da,!0);t(da),Dr(2),t(Ce);var ha=l(Ce,2),Ft=a(ha),jt=a(Ft);t(Ft),Dr(2),t(ha),t(ia),t(St),u((gt,Vt)=>{Ce.disabled=e($),s($a,gt),s(jt,`${Vt??""} (${e(A),i(()=>e(A).length)??""})`)},[()=>(r(),i(()=>r().t("Import Presets"))),()=>(r(),i(()=>r().t("Export Presets")))]),si(At,()=>e(U),gt=>c(U,gt)),Ve("change",At,()=>{if(e(U).length>0){const gt=new FileReader;gt.onload=async Vt=>{c($,!0);try{const Yt=JSON.parse(String(Vt.target.result));await Gs(localStorage.token,Yt)?(fe.success(r().t("Models imported successfully")),await W()):fe.error(r().t("Failed to import models"))}catch(Yt){fe.error((Yt==null?void 0:Yt.detail)??r().t("Invalid JSON file"))}c($,!1)},gt.readAsText(e(U)[0])}}),Ve("click",Ce,()=>{e(y).click()}),Ve("click",ha,async()=>{q(e(A))}),d(Wt,St)};g(Ua,Wt=>{Ke(),i(()=>{var St;return((St=Ke())==null?void 0:St.role)==="admin"})&&Wt(na)})}u((Wt,St)=>{s(Jt,`${Wt??""} `),s(be,(e(te),i(()=>e(te).length))),T(et,"placeholder",St)},[()=>(r(),i(()=>r().t("Models"))),()=>(r(),i(()=>r().t("Search Models")))]),J(et,()=>e(n),Wt=>c(n,Wt)),d(bt,fa)},Ot=bt=>{{let fa=I(()=>(e(A),e(Ie),i(()=>e(A).find(zt=>zt.id===e(Ie)))));js(bt,{edit:!0,get model(){return e(fa)},preset:!1,onSubmit:zt=>{ye(zt),c(Ie,null)},onBack:()=>{c(Ie,null)}})}};g(Fe,bt=>{e(Ie)===null?bt(mt):bt(Ot,!1)})}d(R,F)},_e=R=>{var F=wc(),Fe=a(F);Qr(Fe,{className:"size-5"}),t(F),d(R,F)};g(xe,R=>{e(A)!==null?R(We):R(_e,!1)})}d(It,se),wr(),we()}var Rc=_('<div class="absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10"></div>'),Nc=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>'),Tc=_('<div class=" absolute top-0.5 right-2.5"><!></div>'),Sc=_('<!> <div class="flex w-full gap-2"><div class="flex-1 relative"><input autocomplete="off"/> <!></div></div>',1),kc=_('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><!></button>'),Oc=_('<!> <!> <div class="flex w-full gap-2 items-center"><!> <div class="flex gap-1"><!></div></div>',1);function Lc(It,ee){br(ee,!1);const r=()=>la(Gt,"$i18n",f),[f,p]=Nr(),Gt=Ar("i18n");let Ke=oa(ee,"onDelete",8,()=>{}),h=oa(ee,"onSubmit",8,()=>{}),we=oa(ee,"pipeline",8,!1),v=oa(ee,"url",12,""),o=oa(ee,"key",12,""),S=oa(ee,"config",28,()=>({})),$=k(!1),U=k(!1);Rr();var y=Oc(),A=L(y);gl(A,{get show(){return e(U)},set show(Ne){c(U,Ne)},$$events:{confirm:()=>{Ke()()}},$$legacy:!0});var G=l(A,2);{let Ne=I(()=>({url:v(),key:o(),config:S()}));Wl(G,{edit:!0,get connection(){return e(Ne)},onDelete:()=>{c(U,!0)},onSubmit:n=>{v(n.url),o(n.key),S(n.config),h()(n)},get show(){return e($)},set show(n){c($,n)},$$legacy:!0})}var K=l(G,2),te=a(K);{let Ne=I(()=>(r(),fr(v()),i(()=>r().t('WebUI will make requests to "{{url}}/chat/completions"',{url:v()}))));lt(te,{className:"w-full relative",get content(){return e(Ne)},placement:"top-start",children:(n,q)=>{var W=Sc(),ye=L(W);{var V=se=>{var ve=Rc();d(se,ve)};g(ye,se=>{fr(S()),i(()=>{var ve;return!(((ve=S())==null?void 0:ve.enable)??!0)})&&se(V)})}var ue=l(ye,2),M=a(ue),x=a(M);Q(x),x.readOnly=!0;var D=l(x,2);{var le=se=>{var ve=Tc(),N=a(ve);lt(N,{content:"Pipelines",children:(xe,We)=>{var _e=Nc();d(xe,_e)},$$slots:{default:!0}}),t(ve),d(se,ve)};g(D,se=>{we()&&se(le)})}t(M),t(ue),u(se=>{qr(x,1,` outline-hidden w-full bg-transparent ${we()?"pr-8":""}`),T(x,"placeholder",se)},[()=>(r(),i(()=>r().t("API Base URL")))]),J(x,v),d(n,W)},$$slots:{default:!0}})}var Ie=l(te,2),Ee=a(Ie);{let Ne=I(()=>(r(),i(()=>r().t("Configure"))));lt(Ee,{get content(){return e(Ne)},className:"self-start",children:(n,q)=>{var W=kc(),ye=a(W);Vl(ye,{}),t(W),Ve("click",W,()=>{c($,!0)}),d(n,W)},$$slots:{default:!0}})}t(Ie),t(K),d(It,y),wr(),p()}var Pc=_('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"><div class="flex w-full justify-between items-center text-lg font-medium self-center font-primary"><div class=" shrink-0"> </div></div> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200"><!></div></div>');function Mc(It,ee){br(ee,!1);const r=()=>la(Gt,"$i18n",f),[f,p]=Nr(),Gt=Ar("i18n");let Ke=oa(ee,"show",12,!1),h=oa(ee,"urlIdx",8,null);Rr(),Zl(It,{size:"sm",get show(){return Ke()},set show(we){Ke(we)},children:(we,v)=>{var o=Pc(),S=a(o),$=a(S),U=a($),y=a(U,!0);t(U),t($);var A=l($,2),G=a(A);Sl(G,{className:"size-5"}),t(A),t(S);var K=l(S,2),te=a(K);Li(te,{get urlIdx(){return h()}}),t(K),t(o),u(Ie=>s(y,Ie),[()=>(r(),i(()=>r().t("Manage Ollama")))]),Ve("click",A,()=>{Ke(!1)}),d(we,o)},$$slots:{default:!0},$$legacy:!0}),wr(),p()}var Cc=_('<div class="absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10"></div>'),Uc=_('<!> <input class="w-full text-sm bg-transparent outline-hidden"/>',1),Dc=_('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><!></button>'),Gc=_('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><!></button>'),Bc=_('<!> <!> <!> <div class="flex gap-1.5"><!> <div class="flex gap-1"><!> <!></div></div>',1);function Hc(It,ee){br(ee,!1);const r=()=>la(Gt,"$i18n",f),[f,p]=Nr(),Gt=Ar("i18n");let Ke=oa(ee,"onDelete",8,()=>{}),h=oa(ee,"onSubmit",8,()=>{}),we=oa(ee,"url",12,""),v=oa(ee,"idx",8,0),o=oa(ee,"config",28,()=>({})),S=k(!1),$=k(!1),U=k(!1);Rr();var y=Bc(),A=L(y);{let q=I(()=>(fr(we()),fr(o()),i(()=>{var W;return{url:we(),key:((W=o())==null?void 0:W.key)??"",config:o()}})));Wl(A,{ollama:!0,edit:!0,get connection(){return e(q)},onDelete:()=>{c(U,!0)},onSubmit:W=>{we(W.url),o({...W.config,key:W.key}),h()(W)},get show(){return e($)},set show(W){c($,W)},$$legacy:!0})}var G=l(A,2);gl(G,{get show(){return e(U)},set show(q){c(U,q)},$$events:{confirm:()=>{Ke()(),c($,!1)}},$$legacy:!0});var K=l(G,2);Mc(K,{get urlIdx(){return v()},get show(){return e(S)},set show(q){c(S,q)},$$legacy:!0});var te=l(K,2),Ie=a(te);{let q=I(()=>(r(),fr(we()),i(()=>r().t('WebUI will make requests to "{{url}}/api/chat"',{url:we()}))));lt(Ie,{className:"w-full relative",get content(){return e(q)},placement:"top-start",children:(W,ye)=>{var V=Uc(),ue=L(V);{var M=D=>{var le=Cc();d(D,le)};g(ue,D=>{fr(o()),i(()=>{var le;return!(((le=o())==null?void 0:le.enable)??!0)})&&D(M)})}var x=l(ue,2);Q(x),x.readOnly=!0,u(D=>T(x,"placeholder",D),[()=>(r(),i(()=>r().t("Enter URL (e.g. http://localhost:11434)")))]),J(x,we),d(W,V)},$$slots:{default:!0}})}var Ee=l(Ie,2),Ne=a(Ee);{let q=I(()=>(r(),i(()=>r().t("Manage"))));lt(Ne,{get content(){return e(q)},className:"self-start",children:(W,ye)=>{var V=Dc(),ue=a(V);vi(ue,{}),t(V),Ve("click",V,()=>{c(S,!0)}),d(W,V)},$$slots:{default:!0}})}var n=l(Ne,2);{let q=I(()=>(r(),i(()=>r().t("Configure"))));lt(n,{get content(){return e(q)},className:"self-start",children:(W,ye)=>{var V=Gc(),ue=a(V);Vl(ue,{}),t(V),Ve("click",V,()=>{c($,!0)}),d(W,V)},$$slots:{default:!0}})}t(Ee),t(te),d(It,y),wr(),p()}var jc=_('<button class="px-1" type="button"><!></button>'),Kc=_('<div><div class="flex justify-between items-center"><div class="font-medium text-xs"> </div> <!></div> <div class="flex flex-col gap-1.5 mt-1.5"></div></div>'),Yc=_('<button class="px-1" type="button"><!></button>'),Wc=_('<div><div class="flex justify-between items-center"><div class="font-medium text-xs"> </div> <!></div> <div class="flex w-full gap-1.5"><div class="flex-1 flex flex-col gap-1.5 mt-1.5"></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui#troubleshooting" target="_blank"> </a></div></div>'),Fc=_('<div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="my-2"><div class="mt-2 space-y-2"><div class="flex justify-between items-center text-sm"><div class="  font-medium"> </div> <div class="flex items-center"><div><!></div></div></div> <!></div></div> <div class=" my-2"><div class="flex justify-between items-center text-sm mb-2"><div class="  font-medium"> </div> <div class="mt-1"><!></div></div> <!></div> <div class="my-2"><div class="flex justify-between items-center text-sm"><div class="  font-medium"> </div> <div class="flex items-center"><div><!></div></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> </div></div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="my-2"><div class="flex justify-between items-center text-sm"><div class=" text-xs font-medium"> </div> <div class="flex items-center"><div><!></div></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> </div></div></div>'),Vc=_('<div class="flex h-full justify-center"><div class="my-auto"><!></div></div>'),Zc=_('<!> <!> <form class="flex flex-col h-full justify-between text-sm"><div class=" overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>',1);function zc(It,ee){br(ee,!1);const r=()=>la(Jr,"$config",Ke),f=()=>la(xl,"$settings",Ke),p=()=>la(v,"$i18n",Ke),Gt=()=>la(Nl,"$user",Ke),[Ke,h]=Nr(),we=cl(),v=Ar("i18n"),o=async()=>{var Fe,mt,Ot;return await al(localStorage.token,((mt=(Fe=r())==null?void 0:Fe.features)==null?void 0:mt.enable_direct_connections)&&(((Ot=f())==null?void 0:Ot.directConnections)??null),!1,!0)};let S=k([""]),$=k({}),U=k([""]),y=k([""]),A=k({}),G=k(null),K=k(null),te=k(null),Ie=k({}),Ee=k(!1),Ne=k(!1);const n=async()=>{if(e(G)!==null){if(c(y,e(y).map(Fe=>Fe.replace(/\/$/,""))),e(U).length!==e(y).length&&(e(U).length>e(y).length&&c(U,e(U).slice(0,e(y).length)),e(U).length<e(y).length)){const Fe=e(y).length-e(U).length;for(let mt=0;mt<Fe;mt++)e(U).push("")}await dv(localStorage.token,{ENABLE_OPENAI_API:e(G),OPENAI_API_BASE_URLS:e(y),OPENAI_API_KEYS:e(U),OPENAI_API_CONFIGS:e(A)}).catch(Fe=>{fe.error(`${Fe}`)})&&(fe.success(p().t("OpenAI API settings updated")),await Wr.set(await o()))}},q=async()=>{e(K)!==null&&(c(S,e(S).map(Fe=>Fe.replace(/\/$/,""))),await Zs(localStorage.token,{ENABLE_OLLAMA_API:e(K),OLLAMA_BASE_URLS:e(S),OLLAMA_API_CONFIGS:e($)}).catch(Fe=>{fe.error(`${Fe}`)})&&(fe.success(p().t("Ollama API settings updated")),await Wr.set(await o())))},W=async()=>{await ps(localStorage.token,e(te)).catch(Fe=>{fe.error(`${Fe}`)})&&(fe.success(p().t("Connections settings updated")),await Wr.set(await o()),await Jr.set(await pl()))},ye=async F=>{c(y,[...e(y),F.url]),c(U,[...e(U),F.key]),m(A,e(A)[e(y).length-1]=F.config),await n()},V=async F=>{c(S,[...e(S),F.url]),m($,e($)[e(S).length-1]={...F.config,key:F.key}),await q()};rl(async()=>{var F;if(((F=Gt())==null?void 0:F.role)==="admin"){let Fe={},mt={};if(await Promise.all([(async()=>{Fe=await Ni(localStorage.token)})(),(async()=>{mt=await sv(localStorage.token)})(),(async()=>{c(te,await fs(localStorage.token))})()]),c(G,mt.ENABLE_OPENAI_API),c(K,Fe.ENABLE_OLLAMA_API),c(y,mt.OPENAI_API_BASE_URLS),c(U,mt.OPENAI_API_KEYS),c(A,mt.OPENAI_API_CONFIGS),c(S,Fe.OLLAMA_BASE_URLS),c($,Fe.OLLAMA_API_CONFIGS),e(G)){for(const[Ot,bt]of e(y).entries())e(A)[Ot]||m(A,e(A)[Ot]=e(A)[bt]||{});e(y).forEach(async(Ot,bt)=>{var zt;if(m(A,e(A)[bt]=e(A)[bt]||{}),!(((zt=e(A)[bt])==null?void 0:zt.enable)??!0))return;(await vv(localStorage.token,bt)).pipelines&&m(Ie,e(Ie)[Ot]=!0)})}if(e(K))for(const[Ot,bt]of e(S).entries())e($)[Ot]||m($,e($)[Ot]=e($)[bt]||{})}});const ue=async()=>{n(),q(),we("save"),await Jr.set(await pl())};Rr();var M=Zc(),x=L(M);Wl(x,{onSubmit:ye,get show(){return e(Ee)},set show(F){c(Ee,F)},$$legacy:!0});var D=l(x,2);Wl(D,{ollama:!0,onSubmit:V,get show(){return e(Ne)},set show(F){c(Ne,F)},$$legacy:!0});var le=l(D,2),se=a(le),ve=a(se);{var N=F=>{var Fe=Fc(),mt=a(Fe),Ot=a(mt,!0);t(mt);var bt=l(mt,4),fa=a(bt),zt=a(fa),ca=a(zt),ua=a(ca,!0);t(ca);var Jt=l(ca,2),aa=a(Jt),be=a(aa);ta(be,{get state(){return e(G)},set state(gt){c(G,gt)},$$events:{change:async()=>{n()}},$$legacy:!0}),t(aa),t(Jt),t(zt);var Ye=l(zt,2);{var vt=gt=>{var Vt=Kc(),Yt=a(Vt),Ze=a(Yt),Z=a(Ze,!0);t(Ze);var at=l(Ze,2);{let Et=I(()=>p().t("Add Connection"));lt(at,{get content(){return e(Et)},children:(re,ne)=>{var Se=jc(),Oe=a(Se);Ul(Oe,{}),t(Se),Ve("click",Se,()=>{c(Ee,!0)}),d(re,Se)},$$slots:{default:!0}})}t(Yt);var ft=l(Yt,2);Za(ft,5,()=>e(y),dr,(Et,re,ne)=>{{let Se=I(()=>!!e(Ie)[e(re)]);Lc(Et,{get pipeline(){return e(Se)},onSubmit:()=>{n()},onDelete:()=>{c(y,e(y).filter((Ue,Le)=>ne!==Le)),c(U,e(U).filter((Ue,Le)=>ne!==Le));let Oe={};e(y).forEach((Ue,Le)=>{Oe[Le]=e(A)[Le<ne?Le:Le+1]}),c(A,Oe),n()},get url(){return e(y)[ne]},set url(Oe){m(y,e(y)[ne]=Oe)},get key(){return e(U)[ne]},set key(Oe){m(U,e(U)[ne]=Oe)},get config(){return e(A)[ne]},set config(Oe){m(A,e(A)[ne]=Oe)},$$legacy:!0})}}),t(ft),t(Vt),u(Et=>s(Z,Et),[()=>p().t("Manage OpenAI API Connections")]),d(gt,Vt)};g(Ye,gt=>{e(G)&&gt(vt)})}t(fa),t(bt);var nt=l(bt,2),Ge=a(nt),ze=a(Ge),tt=a(ze,!0);t(ze);var ut=l(ze,2),et=a(ut);ta(et,{get state(){return e(K)},set state(gt){c(K,gt)},$$events:{change:async()=>{q()}},$$legacy:!0}),t(ut),t(Ge);var Lt=l(Ge,2);{var Nt=gt=>{var Vt=Wc(),Yt=a(Vt),Ze=a(Yt),Z=a(Ze,!0);t(Ze);var at=l(Ze,2);{let Ue=I(()=>p().t("Add Connection"));lt(at,{get content(){return e(Ue)},children:(Le,Ae)=>{var Be=Yc(),C=a(Be);Ul(C,{}),t(Be),Ve("click",Be,()=>{c(Ne,!0)}),d(Le,Be)},$$slots:{default:!0}})}t(Yt);var ft=l(Yt,2),Et=a(ft);Za(Et,5,()=>e(S),dr,(Ue,Le,Ae)=>{Hc(Ue,{idx:Ae,onSubmit:()=>{q()},onDelete:()=>{c(S,e(S).filter((C,H)=>Ae!==H));let Be={};e(S).forEach((C,H)=>{Be[H]=e($)[H<Ae?H:H+1]}),c($,Be)},get url(){return e(S)[Ae]},set url(Be){m(S,e(S)[Ae]=Be)},get config(){return e($)[Ae]},set config(Be){m($,e($)[Ae]=Be)},$$legacy:!0})}),t(Et),t(ft);var re=l(ft,2),ne=a(re),Se=l(ne),Oe=a(Se,!0);t(Se),t(re),t(Vt),u((Ue,Le,Ae)=>{s(Z,Ue),s(ne,`${Le??""} `),s(Oe,Ae)},[()=>p().t("Manage Ollama API Connections"),()=>p().t("Trouble accessing Ollama?"),()=>p().t("Click here for help.")]),d(gt,Vt)};g(Lt,gt=>{e(K)&&gt(Nt)})}t(nt);var qt=l(nt,2),ct=a(qt),Qt=a(ct),wa=a(Qt,!0);t(Qt);var Ua=l(Qt,2),na=a(Ua),Wt=a(na);ta(Wt,{get state(){return e(te).ENABLE_DIRECT_CONNECTIONS},set state(gt){m(te,e(te).ENABLE_DIRECT_CONNECTIONS=gt)},$$events:{change:async()=>{W()}},$$legacy:!0}),t(na),t(Ua),t(ct);var St=l(ct,2),ia=a(St,!0);t(St),t(qt);var At=l(qt,4),Ce=a(At),Ct=a(Ce),Ht=a(Ct,!0);t(Ct);var da=l(Ct,2),$a=a(da),ha=a($a);ta(ha,{get state(){return e(te).ENABLE_BASE_MODELS_CACHE},set state(gt){m(te,e(te).ENABLE_BASE_MODELS_CACHE=gt)},$$events:{change:async()=>{W()}},$$legacy:!0}),t($a),t(da),t(Ce);var Ft=l(Ce,2),jt=a(Ft,!0);t(Ft),t(At),t(Fe),u((gt,Vt,Yt,Ze,Z,at,ft)=>{s(Ot,gt),s(ua,Vt),s(tt,Yt),s(wa,Ze),s(ia,Z),s(Ht,at),s(jt,ft)},[()=>p().t("General"),()=>p().t("OpenAI API"),()=>p().t("Ollama API"),()=>p().t("Direct Connections"),()=>p().t("Direct Connections allow users to connect to their own OpenAI compatible API endpoints."),()=>p().t("Cache Base Model List"),()=>p().t("Base Model List Cache speeds up access by fetching base models only at startup or on settings savefaster, but may not show recent base model changes.")]),d(F,Fe)},xe=F=>{var Fe=Vc(),mt=a(Fe),Ot=a(mt);Qr(Ot,{className:"size-6"}),t(mt),t(Fe),d(F,Fe)};g(ve,F=>{e(G)!==null&&e(K)!==null&&e(te)!==null?F(N):F(xe,!1)})}t(se);var We=l(se,2),_e=a(We),R=a(_e,!0);t(_e),t(We),t(le),u(F=>s(R,F),[()=>p().t("Save")]),Ve("submit",le,il(ue)),d(It,M),wr(),h()}var Xc=_('<div class="flex w-full mt-1"><div class="flex-1 flex justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div></div>'),Jc=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden"/>'),qc=_('<div class="my-0.5 flex gap-2 pr-2"><!></div> <div class="my-0.5 flex gap-2 pr-2"><!></div> <div class="flex flex-col gap-2 mt-2"><div class=" flex flex-col w-full justify-between"><div class=" mb-1 text-xs font-medium"> </div> <div class="flex w-full items-center relative"><!></div></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option></select></div></div>',1),Qc=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/> <!></div>'),eu=_('<div class="flex w-full mt-1"><div class="flex-1 mr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div></div>'),tu=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/> <!></div> <div class="flex flex-col gap-2 mt-2"><div class=" flex flex-col w-full justify-between"><div class=" mb-1 text-xs font-medium"> </div> <div class="flex w-full items-center relative"><!></div></div></div>',1),au=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/> <!></div> <div class="my-0.5 flex flex-col w-full"><div class=" mb-1 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div></div></div>',1),ru=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/> <!></div>'),lu=_('<div class="flex w-full mt-2"><div class="flex-1 flex justify-between"><div class="self-center text-xs font-medium"> </div> <select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden"><option> </option><option> </option></select></div></div> <div class="flex w-full mt-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div> <div class="flex w-full mt-2"><!></div> <div class="flex w-full mt-2"><div class="flex-1 flex justify-between"><div class="self-center text-xs font-medium"> </div> <input class="w-16 text-sm bg-transparent outline-hidden text-right" type="number" min="1" placeholder="60"/></div></div> <div class="flex flex-col justify-between w-full mt-2"><div class="text-xs font-medium"><!></div> <div class="mt-1.5"><!></div></div>',1),iu=_('<div class="  mb-2.5 flex w-full justify-between"><div class=" flex gap-1.5 w-full"><div class="w-full"><div class="self-center text-xs font-medium min-w-fit mb-1"><!></div> <div class="self-center"><input class="w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" autocomplete="off" min="0"/></div></div></div></div>'),su=_('<div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option></select></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"><!></div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" flex gap-1.5 w-full"><div class="  w-full justify-between"><div class="self-center text-xs font-medium min-w-fit mb-1"> </div> <div class="self-center"><input class=" w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" autocomplete="off" min="0"/></div></div> <div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <div class="self-center"><input class="w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" autocomplete="off" min="0"/></div></div></div></div> <!>',1),vu=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/> <!></div>'),du=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/> <!></div>'),ou=_('<div class="my-0.5 flex flex-col gap-2 pr-2 w-full"><div class="flex gap-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/> <!></div> <div class="flex gap-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/></div></div>'),nu=_('<div class="flex w-full"><div class="flex-1 mr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/></div></div>'),cu=_('<div class="self-center"><!></div>'),uu=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),_u=_('<button class="px-2.5 bg-transparent text-gray-800 dark:bg-transparent dark:text-gray-100 rounded-lg transition"><!></button>'),fu=_('<div class="flex w-full"><div class="flex-1 mr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div> <!></div>'),pu=_('<div class="  mb-2.5 flex w-full justify-between"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center relative"><!></div></div>'),mu=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/> <!></div>'),gu=_('<div class="mb-2.5 flex w-full justify-between"><div class="self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex flex-col w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option></select></div></div> <!></div> <div class="  mb-2.5 flex flex-col w-full"><div class=" mb-1 text-xs font-medium"> </div> <div><div class="flex w-full"><div class="flex-1 mr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div></div></div></div>',1),xu=_('<div class="mb-2.5 flex w-full justify-between"><div class="self-center text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/></div></div>'),Eu=_('<div class="  mb-2.5 flex flex-col w-full justify-between"><div class=" flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" step="0.01" autocomplete="off" min="0.0"/></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> </div></div>'),yu=_('<span class="ml-2 self-center"> </span>'),hu=_('<span class="ml-2 self-center"> </span>'),bu=_('<div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <button class="p-1 px-3 text-xs flex rounded-sm transition shrink-0 outline-hidden" type="button"><!></button></div>'),Au=_('<div class="flex mt-0.5 space-x-2"><div class=" flex-1"><input id="steps-range" type="range" min="0" max="1" step="0.05" class="w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"/> <div class="py-0.5"><div class="flex w-full justify-between"><div class=" text-left text-xs font-small"> </div> <div class=" text-right text-xs font-small"> </div></div></div></div> <div><input type="number" class=" bg-transparent text-center w-14" min="0" max="1" step="any"/></div></div>'),wu=_('<div class=" mb-2.5 py-0.5 w-full justify-between"><!> <!></div>'),Iu=_('<div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <!> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/></div></div> <!> <!> <!>',1),$u=_('<div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex flex-col w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option><option> </option></select></div></div> <!></div> <div class="  mb-2.5 flex flex-col w-full"><div class=" mb-1 text-xs font-medium"> </div> <div><!></div> <div class="mt-1 mb-1 text-xs text-gray-400 dark:text-gray-500"> </div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div><input type="number" class=" bg-transparent text-center w-14 outline-none" min="-2" max="16000" step="1"/></div></div> <!></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <!> <div class="  mb-2.5 flex flex-col w-full justify-between"><div class=" mb-1 text-xs font-medium"> </div> <div class="flex w-full items-center relative"><!></div></div></div>',1),Ru=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="text" autocomplete="off"/>'),Nu=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/>'),Tu=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/>'),Su=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/>'),ku=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/>'),Ou=_('<div class=" space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"><div><div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5 flex flex-col w-full justify-between"><div class="flex w-full justify-between mb-1"><div class="self-center text-xs font-medium"> </div> <div><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option></select></div></div> <!></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"><!></div> <div class="flex items-center relative"><!></div></div> <!></div> <!> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><button class="text-xs" type="button"> </button></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><button class="text-xs" type="button"> </button></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><button class="text-xs" type="button"> </button></div></div></div></div></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div>',1),Lu=_('<div class="flex items-center justify-center h-full"><!></div>'),Pu=_('<!> <!> <!> <form class="flex flex-col h-full justify-between space-y-3 text-sm"><!></form>',1);function Mu(It,ee){br(ee,!1);const r=()=>la(Ke,"$i18n",f),[f,p]=Nr(),Gt=cl(),Ke=Ar("i18n");let h=k(!1),we=k(!1),v=k(!1),o=k(!1),S=k(""),$=k(""),U=k(1),y=k(!0),A=k(""),G=k(""),K=k(""),te=k(""),Ie=k(""),Ee=k(""),Ne=k(""),n=k(null);const q=async()=>{if(e(S)===""&&e($).split("/").length-1>1){fe.error(r().t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(e(S)==="ollama"&&e($)===""){fe.error(r().t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(e(S)==="openai"&&e($)===""){fe.error(r().t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(e(S)==="azure_openai"&&(e(te)===""||e(K)===""||e(Ie)==="")){fe.error(r().t("OpenAI URL/Key required."));return}e(S),e($),e(U),e(y),c(h,!0);const N=await cv(localStorage.token,{RAG_EMBEDDING_ENGINE:e(S),RAG_EMBEDDING_MODEL:e($),RAG_EMBEDDING_BATCH_SIZE:e(U),ENABLE_ASYNC_EMBEDDING:e(y),ollama_config:{key:e(Ne),url:e(Ee)},openai_config:{key:e(G),url:e(A)},azure_openai_config:{key:e(te),url:e(K),version:e(Ie)}}).catch(async xe=>(fe.error(`${xe}`),await ye(),null));c(h,!1)},W=async()=>{if(e(n).CONTENT_EXTRACTION_ENGINE==="external"&&e(n).EXTERNAL_DOCUMENT_LOADER_URL===""){fe.error(r().t("External Document Loader URL required."));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="tika"&&e(n).TIKA_SERVER_URL===""){fe.error(r().t("Tika Server URL required."));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="docling"&&e(n).DOCLING_SERVER_URL===""){fe.error(r().t("Docling Server URL required."));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="datalab_marker"&&e(n).DATALAB_MARKER_ADDITIONAL_CONFIG&&e(n).DATALAB_MARKER_ADDITIONAL_CONFIG.trim()!=="")try{JSON.parse(e(n).DATALAB_MARKER_ADDITIONAL_CONFIG)}catch{fe.error(r().t("Invalid JSON format in Additional Config"));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="document_intelligence"&&e(n).DOCUMENT_INTELLIGENCE_ENDPOINT===""){fe.error(r().t("Document Intelligence endpoint required."));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="mistral_ocr"&&e(n).MISTRAL_OCR_API_KEY===""){fe.error(r().t("Mistral OCR API Key required."));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="mineru"&&e(n).MINERU_API_MODE==="cloud"&&e(n).MINERU_API_KEY===""){fe.error(r().t("MinerU API Key required for Cloud API mode."));return}if(e(n).BYPASS_EMBEDDING_AND_RETRIEVAL||await q(),e(n).DOCLING_PARAMS)try{JSON.parse(e(n).DOCLING_PARAMS)}catch{fe.error(r().t("Invalid JSON format in {{NAME}}",{NAME:r().t("Docling Parameters")}));return}if(e(n).MINERU_PARAMS)try{JSON.parse(e(n).MINERU_PARAMS)}catch{fe.error(r().t("Invalid JSON format in MinerU Parameters"));return}await Si(localStorage.token,{...e(n),ALLOWED_FILE_EXTENSIONS:e(n).ALLOWED_FILE_EXTENSIONS.split(",").map(N=>N.trim()).filter(N=>N!==""),DOCLING_PARAMS:typeof e(n).DOCLING_PARAMS=="string"&&e(n).DOCLING_PARAMS.trim()!==""?JSON.parse(e(n).DOCLING_PARAMS):{},MINERU_PARAMS:typeof e(n).MINERU_PARAMS=="string"&&e(n).MINERU_PARAMS.trim()!==""?JSON.parse(e(n).MINERU_PARAMS):{}}),Gt("save")},ye=async()=>{const N=await nv(localStorage.token);N&&(c(S,N.RAG_EMBEDDING_ENGINE),c($,N.RAG_EMBEDDING_MODEL),c(U,N.RAG_EMBEDDING_BATCH_SIZE??1),c(y,N.ENABLE_ASYNC_EMBEDDING??!0),c(G,N.openai_config.key),c(A,N.openai_config.url),c(Ne,N.ollama_config.key),c(Ee,N.ollama_config.url),c(te,N.azure_openai_config.key),c(K,N.azure_openai_config.url),c(Ie,N.azure_openai_config.version))};rl(async()=>{await ye();const N=await Ti(localStorage.token);N.ALLOWED_FILE_EXTENSIONS=((N==null?void 0:N.ALLOWED_FILE_EXTENSIONS)??[]).join(", "),N.DOCLING_PARAMS=typeof N.DOCLING_PARAMS=="object"?JSON.stringify(N.DOCLING_PARAMS??{},null,2):N.DOCLING_PARAMS,N.MINERU_PARAMS=typeof N.MINERU_PARAMS=="object"?JSON.stringify(N.MINERU_PARAMS??{},null,2):N.MINERU_PARAMS,c(n,N)}),Rr();var V=Pu(),ue=L(V);gl(ue,{get show(){return e(v)},set show(N){c(v,N)},$$events:{confirm:async()=>{await _v(localStorage.token).catch(xe=>(fe.error(`${xe}`),null))&&fe.success(r().t("Success"))}},$$legacy:!0});var M=l(ue,2);gl(M,{get show(){return e(we)},set show(N){c(we,N)},$$events:{confirm:()=>{ov(localStorage.token).catch(xe=>(fe.error(`${xe}`),null))&&fe.success(r().t("Success"))}},$$legacy:!0});var x=l(M,2);gl(x,{get show(){return e(o)},set show(N){c(o,N)},$$events:{confirm:async()=>{await uv(localStorage.token).catch(xe=>(fe.error(`${xe}`),null))&&fe.success(r().t("Success"))}},$$legacy:!0});var D=l(x,2),le=a(D);{var se=N=>{var xe=Ou(),We=L(xe),_e=a(We),R=a(_e),F=a(R),Fe=a(F,!0);t(F);var mt=l(F,4),Ot=a(mt),bt=a(Ot),fa=a(bt,!0);t(bt);var zt=l(bt,2),ca=a(zt);u(()=>{e(n),Pa(()=>{r()})});var ua=a(ca),Jt=a(ua,!0);t(ua),ua.value=ua.__value="";var aa=l(ua),be=a(aa,!0);t(aa),aa.value=aa.__value="external";var Ye=l(aa),vt=a(Ye,!0);t(Ye),Ye.value=Ye.__value="tika";var nt=l(Ye),Ge=a(nt,!0);t(nt),nt.value=nt.__value="docling";var ze=l(nt),tt=a(ze,!0);t(ze),ze.value=ze.__value="datalab_marker";var ut=l(ze),et=a(ut,!0);t(ut),ut.value=ut.__value="document_intelligence";var Lt=l(ut),Nt=a(Lt,!0);t(Lt),Lt.value=Lt.__value="mistral_ocr";var qt=l(Lt),ct=a(qt,!0);t(qt),qt.value=qt.__value="mineru",t(ca),t(zt),t(Ot);var Qt=l(Ot,2);{var wa=Je=>{var dt=Xc(),Ut=a(dt),ot=a(Ut),$t=a(ot,!0);t(ot);var Xt=l(ot,2),ya=a(Xt);ta(ya,{get state(){return e(n).PDF_EXTRACT_IMAGES},set state(Ta){m(n,e(n).PDF_EXTRACT_IMAGES=Ta)},$$legacy:!0}),t(Xt),t(Ut),t(dt),u(Ta=>s($t,Ta),[()=>r().t("PDF Extract Images (OCR)")]),d(Je,dt)},Ua=Je=>{var dt=Qe(),Ut=L(dt);{var ot=Xt=>{var ya=qc(),Ta=L(ya),ur=a(Ta);{let wt=I(()=>r().t("API Base URL for Datalab Marker service. Defaults to: https://www.datalab.to/api/v1/marker"));lt(ur,{get content(){return e(wt)},placement:"top-start",className:"w-full",children:(ma,La)=>{var ra=Jc();Q(ra),u(ka=>T(ra,"placeholder",ka),[()=>r().t("Enter Datalab Marker API Base URL")]),J(ra,()=>e(n).DATALAB_MARKER_API_BASE_URL,ka=>m(n,e(n).DATALAB_MARKER_API_BASE_URL=ka)),d(ma,ra)},$$slots:{default:!0}})}t(Ta);var qa=l(Ta,2),Da=a(qa);{let wt=I(()=>r().t("Enter Datalab Marker API Key"));va(Da,{get placeholder(){return e(wt)},required:!1,get value(){return e(n).DATALAB_MARKER_API_KEY},set value(ma){m(n,e(n).DATALAB_MARKER_API_KEY=ma)},$$legacy:!0})}t(qa);var pa=l(qa,2),za=a(pa),nr=a(za),yr=a(nr,!0);t(nr);var rr=l(nr,2),Ga=a(rr);{let wt=I(()=>r().t(`Additional configuration options for marker. This should be a JSON string with key-value pairs. For example, '{"key": "value"}'. Supported keys include: disable_links, keep_pageheader_in_output, keep_pagefooter_in_output, filter_blank_pages, drop_repeated_text, layout_coverage_threshold, merge_threshold, height_tolerance, gap_threshold, image_threshold, min_line_length, level_count, default_level`));lt(Ga,{get content(){return e(wt)},placement:"top-start",className:"w-full",children:(ma,La)=>{{let ra=I(()=>r().t('Enter JSON config (e.g., {"disable_links": true})'));Zr(ma,{get placeholder(){return e(ra)},get value(){return e(n).DATALAB_MARKER_ADDITIONAL_CONFIG},set value(ka){m(n,e(n).DATALAB_MARKER_ADDITIONAL_CONFIG=ka)},$$legacy:!0})}},$$slots:{default:!0}})}t(rr),t(za),t(pa);var Ya=l(pa,2),Ir=a(Ya),Hr=a(Ir);{let wt=I(()=>r().t("Significantly improves accuracy by using an LLM to enhance tables, forms, inline math, and layout detection. Will increase latency. Defaults to False."));lt(Hr,{get content(){return e(wt)},placement:"top-start",children:(ma,La)=>{Dr();var ra=cr();u(ka=>s(ra,ka),[()=>r().t("Use LLM")]),d(ma,ra)},$$slots:{default:!0}})}t(Ir);var Tr=l(Ir,2),hr=a(Tr);ta(hr,{get state(){return e(n).DATALAB_MARKER_USE_LLM},set state(wt){m(n,e(n).DATALAB_MARKER_USE_LLM=wt)},$$legacy:!0}),t(Tr),t(Ya);var ir=l(Ya,2),pr=a(ir),Gr=a(pr);{let wt=I(()=>r().t("Skip the cache and re-run the inference. Defaults to False."));lt(Gr,{get content(){return e(wt)},placement:"top-start",children:(ma,La)=>{Dr();var ra=cr();u(ka=>s(ra,ka),[()=>r().t("Skip Cache")]),d(ma,ra)},$$slots:{default:!0}})}t(pr);var Xa=l(pr,2),Qa=a(Xa);ta(Qa,{get state(){return e(n).DATALAB_MARKER_SKIP_CACHE},set state(wt){m(n,e(n).DATALAB_MARKER_SKIP_CACHE=wt)},$$legacy:!0}),t(Xa),t(ir);var Wa=l(ir,2),_r=a(Wa),Sr=a(_r);{let wt=I(()=>r().t("Force OCR on all pages of the PDF. This can lead to worse results if you have good text in your PDFs. Defaults to False."));lt(Sr,{get content(){return e(wt)},placement:"top-start",children:(ma,La)=>{Dr();var ra=cr();u(ka=>s(ra,ka),[()=>r().t("Force OCR")]),d(ma,ra)},$$slots:{default:!0}})}t(_r);var xa=l(_r,2),Ea=a(xa);ta(Ea,{get state(){return e(n).DATALAB_MARKER_FORCE_OCR},set state(wt){m(n,e(n).DATALAB_MARKER_FORCE_OCR=wt)},$$legacy:!0}),t(xa),t(Wa);var ba=l(Wa,2),Fa=a(ba),Ba=a(Fa);{let wt=I(()=>r().t("Whether to paginate the output. Each page will be separated by a horizontal rule and page number. Defaults to False."));lt(Ba,{get content(){return e(wt)},placement:"top-start",children:(ma,La)=>{Dr();var ra=cr();u(ka=>s(ra,ka),[()=>r().t("Paginate")]),d(ma,ra)},$$slots:{default:!0}})}t(Fa);var sr=l(Fa,2),lr=a(sr);ta(lr,{get state(){return e(n).DATALAB_MARKER_PAGINATE},set state(wt){m(n,e(n).DATALAB_MARKER_PAGINATE=wt)},$$legacy:!0}),t(sr),t(ba);var Ja=l(ba,2),Va=a(Ja),Br=a(Va);{let wt=I(()=>r().t("Strip existing OCR text from the PDF and re-run OCR. Ignored if Force OCR is enabled. Defaults to False."));lt(Br,{get content(){return e(wt)},placement:"top-start",children:(ma,La)=>{Dr();var ra=cr();u(ka=>s(ra,ka),[()=>r().t("Strip Existing OCR")]),d(ma,ra)},$$slots:{default:!0}})}t(Va);var Mr=l(Va,2),mr=a(Mr);ta(mr,{get state(){return e(n).DATALAB_MARKER_STRIP_EXISTING_OCR},set state(wt){m(n,e(n).DATALAB_MARKER_STRIP_EXISTING_OCR=wt)},$$legacy:!0}),t(Mr),t(Ja);var gr=l(Ja,2),je=a(gr),pt=a(je);{let wt=I(()=>r().t("Disable image extraction from the PDF. If Use LLM is enabled, images will be automatically captioned. Defaults to False."));lt(pt,{get content(){return e(wt)},placement:"top-start",children:(ma,La)=>{Dr();var ra=cr();u(ka=>s(ra,ka),[()=>r().t("Disable Image Extraction")]),d(ma,ra)},$$slots:{default:!0}})}t(je);var Kt=l(je,2),Aa=a(Kt);ta(Aa,{get state(){return e(n).DATALAB_MARKER_DISABLE_IMAGE_EXTRACTION},set state(wt){m(n,e(n).DATALAB_MARKER_DISABLE_IMAGE_EXTRACTION=wt)},$$legacy:!0}),t(Kt),t(gr);var Oa=l(gr,2),er=a(Oa),Ma=a(er);{let wt=I(()=>r().t("Format the lines in the output. Defaults to False. If set to True, the lines will be formatted to detect inline math and styles."));lt(Ma,{get content(){return e(wt)},placement:"top-start",children:(ma,La)=>{Dr();var ra=cr();u(ka=>s(ra,ka),[()=>r().t("Format Lines")]),d(ma,ra)},$$slots:{default:!0}})}t(er);var Ha=l(er,2),Sa=a(Ha);ta(Sa,{get state(){return e(n).DATALAB_MARKER_FORMAT_LINES},set state(wt){m(n,e(n).DATALAB_MARKER_FORMAT_LINES=wt)},$$legacy:!0}),t(Ha),t(Oa);var ja=l(Oa,2),Tt=a(ja),Dt=a(Tt);{let wt=I(()=>r().t("The output format for the text. Can be 'json', 'markdown', or 'html'. Defaults to 'markdown'."));lt(Dt,{get content(){return e(wt)},placement:"top-start",children:(ma,La)=>{Dr();var ra=cr();u(ka=>s(ra,ka),[()=>r().t("Output Format")]),d(ma,ra)},$$slots:{default:!0}})}t(Tt);var Rt=l(Tt,2),sa=a(Rt);u(()=>{e(n),Pa(()=>{r()})});var Zt=a(sa),Na=a(Zt,!0);t(Zt),Zt.value=Zt.__value="markdown";var Mt=l(Zt),Ia=a(Mt,!0);t(Mt),Mt.value=Mt.__value="json";var tr=l(Mt),Ka=a(tr,!0);t(tr),tr.value=tr.__value="html",t(sa),t(Rt),t(ja),u((wt,ma,La,ra)=>{s(yr,wt),s(Na,ma),s(Ia,La),s(Ka,ra)},[()=>r().t("Additional Config"),()=>r().t("Markdown"),()=>r().t("JSON"),()=>r().t("HTML")]),or(sa,()=>e(n).DATALAB_MARKER_OUTPUT_FORMAT,wt=>m(n,e(n).DATALAB_MARKER_OUTPUT_FORMAT=wt)),d(Xt,ya)},$t=Xt=>{var ya=Qe(),Ta=L(ya);{var ur=Da=>{var pa=Qc(),za=a(pa);Q(za);var nr=l(za,2);{let yr=I(()=>r().t("Enter External Document Loader API Key"));va(nr,{get placeholder(){return e(yr)},required:!1,get value(){return e(n).EXTERNAL_DOCUMENT_LOADER_API_KEY},set value(rr){m(n,e(n).EXTERNAL_DOCUMENT_LOADER_API_KEY=rr)},$$legacy:!0})}t(pa),u(yr=>T(za,"placeholder",yr),[()=>r().t("Enter External Document Loader URL")]),J(za,()=>e(n).EXTERNAL_DOCUMENT_LOADER_URL,yr=>m(n,e(n).EXTERNAL_DOCUMENT_LOADER_URL=yr)),d(Da,pa)},qa=Da=>{var pa=Qe(),za=L(pa);{var nr=rr=>{var Ga=eu(),Ya=a(Ga),Ir=a(Ya);Q(Ir),t(Ya),t(Ga),u(Hr=>T(Ir,"placeholder",Hr),[()=>r().t("Enter Tika Server URL")]),J(Ir,()=>e(n).TIKA_SERVER_URL,Hr=>m(n,e(n).TIKA_SERVER_URL=Hr)),d(rr,Ga)},yr=rr=>{var Ga=Qe(),Ya=L(Ga);{var Ir=Tr=>{var hr=tu(),ir=L(hr),pr=a(ir);Q(pr);var Gr=l(pr,2);{let Ea=I(()=>r().t("Enter Docling API Key"));va(Gr,{get placeholder(){return e(Ea)},required:!1,get value(){return e(n).DOCLING_API_KEY},set value(ba){m(n,e(n).DOCLING_API_KEY=ba)},$$legacy:!0})}t(ir);var Xa=l(ir,2),Qa=a(Xa),Wa=a(Qa),_r=a(Wa,!0);t(Wa);var Sr=l(Wa,2),xa=a(Sr);{let Ea=I(()=>r().t("Enter additional parameters in JSON format"));Zr(xa,{get placeholder(){return e(Ea)},minSize:100,get value(){return e(n).DOCLING_PARAMS},set value(ba){m(n,e(n).DOCLING_PARAMS=ba)},$$legacy:!0})}t(Sr),t(Qa),t(Xa),u((Ea,ba)=>{T(pr,"placeholder",Ea),s(_r,ba)},[()=>r().t("Enter Docling Server URL"),()=>r().t("Parameters")]),J(pr,()=>e(n).DOCLING_SERVER_URL,Ea=>m(n,e(n).DOCLING_SERVER_URL=Ea)),d(Tr,hr)},Hr=Tr=>{var hr=Qe(),ir=L(hr);{var pr=Xa=>{var Qa=au(),Wa=L(Qa),_r=a(Wa);Q(_r);var Sr=l(_r,2);{let lr=I(()=>r().t("Enter Document Intelligence Key"));va(Sr,{get placeholder(){return e(lr)},required:!1,get value(){return e(n).DOCUMENT_INTELLIGENCE_KEY},set value(Ja){m(n,e(n).DOCUMENT_INTELLIGENCE_KEY=Ja)},$$legacy:!0})}t(Wa);var xa=l(Wa,2),Ea=a(xa),ba=a(Ea,!0);t(Ea);var Fa=l(Ea,2),Ba=a(Fa),sr=a(Ba);Q(sr),t(Ba),t(Fa),t(xa),u((lr,Ja,Va)=>{T(_r,"placeholder",lr),s(ba,Ja),T(sr,"placeholder",Va)},[()=>r().t("Enter Document Intelligence Endpoint"),()=>r().t("Document Intelligence Model"),()=>r().t("Enter Document Intelligence Model")]),J(_r,()=>e(n).DOCUMENT_INTELLIGENCE_ENDPOINT,lr=>m(n,e(n).DOCUMENT_INTELLIGENCE_ENDPOINT=lr)),J(sr,()=>e(n).DOCUMENT_INTELLIGENCE_MODEL,lr=>m(n,e(n).DOCUMENT_INTELLIGENCE_MODEL=lr)),d(Xa,Qa)},Gr=Xa=>{var Qa=Qe(),Wa=L(Qa);{var _r=xa=>{var Ea=ru(),ba=a(Ea);Q(ba);var Fa=l(ba,2);{let Ba=I(()=>r().t("Enter Mistral API Key"));va(Fa,{get placeholder(){return e(Ba)},get value(){return e(n).MISTRAL_OCR_API_KEY},set value(sr){m(n,e(n).MISTRAL_OCR_API_KEY=sr)},$$legacy:!0})}t(Ea),u(Ba=>T(ba,"placeholder",Ba),[()=>r().t("Enter Mistral API Base URL")]),J(ba,()=>e(n).MISTRAL_OCR_API_BASE_URL,Ba=>m(n,e(n).MISTRAL_OCR_API_BASE_URL=Ba)),d(xa,Ea)},Sr=xa=>{var Ea=Qe(),ba=L(Ea);{var Fa=Ba=>{var sr=lu(),lr=L(sr),Ja=a(lr),Va=a(Ja),Br=a(Va,!0);t(Va);var Mr=l(Va,2);u(()=>{e(n),Pa(()=>{r()})});var mr=a(Mr),gr=a(mr,!0);t(mr),mr.value=mr.__value="local";var je=l(mr),pt=a(je,!0);t(je),je.value=je.__value="cloud",t(Mr),t(Ja),t(lr);var Kt=l(lr,2),Aa=a(Kt);Q(Aa),t(Kt);var Oa=l(Kt,2),er=a(Oa);{let Mt=I(()=>r().t("Enter MinerU API Key"));va(er,{get placeholder(){return e(Mt)},get value(){return e(n).MINERU_API_KEY},set value(Ia){m(n,e(n).MINERU_API_KEY=Ia)},$$legacy:!0})}t(Oa);var Ma=l(Oa,2),Ha=a(Ma),Sa=a(Ha),ja=a(Sa,!0);t(Sa);var Tt=l(Sa,2);Q(Tt),t(Ha),t(Ma);var Dt=l(Ma,2),Rt=a(Dt),sa=a(Rt);{let Mt=I(()=>r().t("Advanced parameters for MinerU parsing (enable_ocr, enable_formula, enable_table, language, model_version, page_ranges)"));lt(sa,{get content(){return e(Mt)},placement:"top-start",children:(Ia,tr)=>{Dr();var Ka=cr();u(wt=>s(Ka,wt),[()=>r().t("Parameters")]),d(Ia,Ka)},$$slots:{default:!0}})}t(Rt);var Zt=l(Rt,2),Na=a(Zt);Zr(Na,{placeholder:`{
  "enable_ocr": false,
  "enable_formula": true,
  "enable_table": true,
  "language": "en",
  "model_version": "pipeline",
  "page_ranges": ""
}`,minSize:100,get value(){return e(n).MINERU_PARAMS},set value(Mt){m(n,e(n).MINERU_PARAMS=Mt)},$$legacy:!0}),t(Zt),t(Dt),u((Mt,Ia,tr,Ka,wt)=>{s(Br,Mt),s(gr,Ia),s(pt,tr),T(Aa,"placeholder",Ka),s(ja,wt)},[()=>r().t("API Mode"),()=>r().t("local"),()=>r().t("cloud"),()=>e(n).MINERU_API_MODE==="cloud"?r().t("https://mineru.net/api/v4"):r().t("http://localhost:8000"),()=>r().t("API Timeout")]),or(Mr,()=>e(n).MINERU_API_MODE,Mt=>m(n,e(n).MINERU_API_MODE=Mt)),Ve("change",Mr,()=>{const Mt="https://mineru.net/api/v4",Ia="http://localhost:8000";e(n).MINERU_API_MODE==="cloud"?(!e(n).MINERU_API_URL||e(n).MINERU_API_URL===Ia)&&m(n,e(n).MINERU_API_URL=Mt):(!e(n).MINERU_API_URL||e(n).MINERU_API_URL===Mt)&&m(n,e(n).MINERU_API_URL=Ia)}),J(Aa,()=>e(n).MINERU_API_URL,Mt=>m(n,e(n).MINERU_API_URL=Mt)),J(Tt,()=>e(n).MINERU_API_TIMEOUT,Mt=>m(n,e(n).MINERU_API_TIMEOUT=Mt)),d(Ba,sr)};g(ba,Ba=>{e(n).CONTENT_EXTRACTION_ENGINE==="mineru"&&Ba(Fa)},!0)}d(xa,Ea)};g(Wa,xa=>{e(n).CONTENT_EXTRACTION_ENGINE==="mistral_ocr"?xa(_r):xa(Sr,!1)},!0)}d(Xa,Qa)};g(ir,Xa=>{e(n).CONTENT_EXTRACTION_ENGINE==="document_intelligence"?Xa(pr):Xa(Gr,!1)},!0)}d(Tr,hr)};g(Ya,Tr=>{e(n).CONTENT_EXTRACTION_ENGINE==="docling"?Tr(Ir):Tr(Hr,!1)},!0)}d(rr,Ga)};g(za,rr=>{e(n).CONTENT_EXTRACTION_ENGINE==="tika"?rr(nr):rr(yr,!1)},!0)}d(Da,pa)};g(Ta,Da=>{e(n).CONTENT_EXTRACTION_ENGINE==="external"?Da(ur):Da(qa,!1)},!0)}d(Xt,ya)};g(Ut,Xt=>{e(n).CONTENT_EXTRACTION_ENGINE==="datalab_marker"?Xt(ot):Xt($t,!1)},!0)}d(Je,dt)};g(Qt,Je=>{e(n).CONTENT_EXTRACTION_ENGINE===""?Je(wa):Je(Ua,!1)})}t(mt);var na=l(mt,2),Wt=a(na),St=a(Wt);{let Je=I(()=>r().t("Full Context Mode"));lt(St,{get content(){return e(Je)},placement:"top-start",children:(dt,Ut)=>{Dr();var ot=cr();u($t=>s(ot,$t),[()=>r().t("Bypass Embedding and Retrieval")]),d(dt,ot)},$$slots:{default:!0}})}t(Wt);var ia=l(Wt,2),At=a(ia);{let Je=I(()=>e(n).BYPASS_EMBEDDING_AND_RETRIEVAL?r().t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):r().t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."));lt(At,{get content(){return e(Je)},children:(dt,Ut)=>{ta(dt,{get state(){return e(n).BYPASS_EMBEDDING_AND_RETRIEVAL},set state(ot){m(n,e(n).BYPASS_EMBEDDING_AND_RETRIEVAL=ot)},$$legacy:!0})},$$slots:{default:!0}})}t(ia),t(na);var Ce=l(na,2);{var Ct=Je=>{var dt=su(),Ut=L(dt),ot=a(Ut),$t=a(ot,!0);t(ot);var Xt=l(ot,2),ya=a(Xt);u(()=>{e(n),Pa(()=>{r()})});var Ta=a(ya),ur=a(Ta);t(Ta),Ta.value=Ta.__value="";var qa=l(Ta),Da=a(qa);t(qa),qa.value=qa.__value="token",t(ya),t(Xt),t(Ut);var pa=l(Ut,2),za=a(pa),nr=a(za);{let xa=I(()=>r().t("Split documents by markdown headers before applying character/token splitting."));lt(nr,{placement:"top-start",get content(){return e(xa)},children:(Ea,ba)=>{Dr();var Fa=cr();u(Ba=>s(Fa,Ba),[()=>r().t("Markdown Header Text Splitter")]),d(Ea,Fa)},$$slots:{default:!0}})}t(za);var yr=l(za,2),rr=a(yr);ta(rr,{get state(){return e(n).ENABLE_MARKDOWN_HEADER_TEXT_SPLITTER},set state(xa){m(n,e(n).ENABLE_MARKDOWN_HEADER_TEXT_SPLITTER=xa)},$$legacy:!0}),t(yr),t(pa);var Ga=l(pa,2),Ya=a(Ga),Ir=a(Ya),Hr=a(Ir),Tr=a(Hr,!0);t(Hr);var hr=l(Hr,2),ir=a(hr);Q(ir),t(hr),t(Ir);var pr=l(Ir,2),Gr=a(pr),Xa=a(Gr,!0);t(Gr);var Qa=l(Gr,2),Wa=a(Qa);Q(Wa),t(Qa),t(pr),t(Ya),t(Ga);var _r=l(Ga,2);{var Sr=xa=>{var Ea=iu(),ba=a(Ea),Fa=a(ba),Ba=a(Fa),sr=a(Ba);{let Va=I(()=>r().t("Chunks smaller than this threshold will be merged with neighboring chunks when possible. Set to 0 to disable merging."));lt(sr,{placement:"top-start",get content(){return e(Va)},children:(Br,Mr)=>{Dr();var mr=cr();u(gr=>s(mr,gr),[()=>r().t("Chunk Min Size Target")]),d(Br,mr)},$$slots:{default:!0}})}t(Ba);var lr=l(Ba,2),Ja=a(lr);Q(Ja),t(lr),t(Fa),t(ba),t(Ea),u(Va=>T(Ja,"placeholder",Va),[()=>r().t("Enter Chunk Min Size Target")]),J(Ja,()=>e(n).CHUNK_MIN_SIZE_TARGET,Va=>m(n,e(n).CHUNK_MIN_SIZE_TARGET=Va)),d(xa,Ea)};g(_r,xa=>{e(n).ENABLE_MARKDOWN_HEADER_TEXT_SPLITTER&&xa(Sr)})}u((xa,Ea,ba,Fa,Ba,sr,lr,Ja,Va)=>{s($t,xa),s(ur,`${Ea??""} (${ba??""})`),s(Da,`${Fa??""} (${Ba??""})`),s(Tr,sr),T(ir,"placeholder",lr),s(Xa,Ja),T(Wa,"placeholder",Va)},[()=>r().t("Text Splitter"),()=>r().t("Default"),()=>r().t("Character"),()=>r().t("Token"),()=>r().t("Tiktoken"),()=>r().t("Chunk Size"),()=>r().t("Enter Chunk Size"),()=>r().t("Chunk Overlap"),()=>r().t("Enter Chunk Overlap")]),or(ya,()=>e(n).TEXT_SPLITTER,xa=>m(n,e(n).TEXT_SPLITTER=xa)),J(ir,()=>e(n).CHUNK_SIZE,xa=>m(n,e(n).CHUNK_SIZE=xa)),J(Wa,()=>e(n).CHUNK_OVERLAP,xa=>m(n,e(n).CHUNK_OVERLAP=xa)),d(Je,dt)};g(Ce,Je=>{e(n).BYPASS_EMBEDDING_AND_RETRIEVAL||Je(Ct)})}t(R);var Ht=l(R,2);{var da=Je=>{var dt=$u(),Ut=L(dt),ot=a(Ut),$t=a(ot,!0);t(ot);var Xt=l(ot,4),ya=a(Xt),Ta=a(ya),ur=a(Ta,!0);t(Ta);var qa=l(Ta,2),Da=a(qa);u(()=>{e(S),Pa(()=>{r(),e($)})});var pa=a(Da),za=a(pa,!0);t(pa),pa.value=pa.__value="";var nr=l(pa),yr=a(nr,!0);t(nr),nr.value=nr.__value="ollama";var rr=l(nr),Ga=a(rr,!0);t(rr),rr.value=rr.__value="openai";var Ya=l(rr),Ir=a(Ya,!0);t(Ya),Ya.value=Ya.__value="azure_openai",t(Da),t(qa),t(ya);var Hr=l(ya,2);{var Tr=Tt=>{var Dt=vu(),Rt=a(Dt);Q(Rt);var sa=l(Rt,2);{let Zt=I(()=>r().t("API Key"));va(sa,{get placeholder(){return e(Zt)},required:!1,get value(){return e(G)},set value(Na){c(G,Na)},$$legacy:!0})}t(Dt),u(Zt=>T(Rt,"placeholder",Zt),[()=>r().t("API Base URL")]),J(Rt,()=>e(A),Zt=>c(A,Zt)),d(Tt,Dt)},hr=Tt=>{var Dt=Qe(),Rt=L(Dt);{var sa=Na=>{var Mt=du(),Ia=a(Mt);Q(Ia);var tr=l(Ia,2);{let Ka=I(()=>r().t("API Key"));va(tr,{get placeholder(){return e(Ka)},required:!1,get value(){return e(Ne)},set value(wt){c(Ne,wt)},$$legacy:!0})}t(Mt),u(Ka=>T(Ia,"placeholder",Ka),[()=>r().t("API Base URL")]),J(Ia,()=>e(Ee),Ka=>c(Ee,Ka)),d(Na,Mt)},Zt=Na=>{var Mt=Qe(),Ia=L(Mt);{var tr=Ka=>{var wt=ou(),ma=a(wt),La=a(ma);Q(La);var ra=l(La,2);{let jr=I(()=>r().t("API Key"));va(ra,{get placeholder(){return e(jr)},get value(){return e(te)},set value(Fr){c(te,Fr)},$$legacy:!0})}t(ma);var ka=l(ma,2),$r=a(ka);Q($r),t(ka),t(wt),u((jr,Fr)=>{T(La,"placeholder",jr),T($r,"placeholder",Fr)},[()=>r().t("API Base URL"),()=>r().t("Version")]),J(La,()=>e(K),jr=>c(K,jr)),J($r,()=>e(Ie),jr=>c(Ie,jr)),d(Ka,wt)};g(Ia,Ka=>{e(S)==="azure_openai"&&Ka(tr)},!0)}d(Na,Mt)};g(Rt,Na=>{e(S)==="ollama"?Na(sa):Na(Zt,!1)},!0)}d(Tt,Dt)};g(Hr,Tt=>{e(S)==="openai"?Tt(Tr):Tt(hr,!1)})}t(Xt);var ir=l(Xt,2),pr=a(ir),Gr=a(pr,!0);t(pr);var Xa=l(pr,2),Qa=a(Xa);{var Wa=Tt=>{var Dt=nu(),Rt=a(Dt),sa=a(Rt);Q(sa),t(Rt),t(Dt),u(Zt=>T(sa,"placeholder",Zt),[()=>r().t("Set embedding model")]),J(sa,()=>e($),Zt=>c($,Zt)),d(Tt,Dt)},_r=Tt=>{var Dt=fu(),Rt=a(Dt),sa=a(Rt);Q(sa),t(Rt);var Zt=l(Rt,2);{var Na=Mt=>{var Ia=_u(),tr=a(Ia);{var Ka=ma=>{var La=cu(),ra=a(La);Qr(ra,{}),t(La),d(ma,La)},wt=ma=>{var La=uu();d(ma,La)};g(tr,ma=>{e(h)?ma(Ka):ma(wt,!1)})}t(Ia),u(()=>Ia.disabled=e(h)),Ve("click",Ia,()=>{q()}),d(Mt,Ia)};g(Zt,Mt=>{e(S)===""&&Mt(Na)})}t(Dt),u(Mt=>T(sa,"placeholder",Mt),[()=>r().t("Set embedding model (e.g. {{model}})",{model:e($).slice(-40)})]),J(sa,()=>e($),Mt=>c($,Mt)),d(Tt,Dt)};g(Qa,Tt=>{e(S)==="ollama"?Tt(Wa):Tt(_r,!1)})}t(Xa);var Sr=l(Xa,2),xa=a(Sr,!0);t(Sr),t(ir);var Ea=l(ir,2),ba=a(Ea),Fa=a(ba,!0);t(ba);var Ba=l(ba,2),sr=a(Ba);Q(sr),t(Ba),t(Ea);var lr=l(Ea,2);{var Ja=Tt=>{var Dt=pu(),Rt=a(Dt),sa=a(Rt);{let Mt=I(()=>r().t("Runs embedding tasks concurrently to speed up processing. Turn off if rate limits become an issue."));lt(sa,{get content(){return e(Mt)},placement:"top-start",children:(Ia,tr)=>{Dr();var Ka=cr();u(wt=>s(Ka,wt),[()=>r().t("Async Embedding Processing")]),d(Ia,Ka)},$$slots:{default:!0}})}t(Rt);var Zt=l(Rt,2),Na=a(Zt);ta(Na,{get state(){return e(y)},set state(Mt){c(y,Mt)},$$legacy:!0}),t(Zt),t(Dt),d(Tt,Dt)};g(lr,Tt=>{(e(S)==="ollama"||e(S)==="openai"||e(S)==="azure_openai")&&Tt(Ja)})}t(Ut);var Va=l(Ut,2),Br=a(Va),Mr=a(Br,!0);t(Br);var mr=l(Br,4),gr=a(mr),je=a(gr,!0);t(gr);var pt=l(gr,2),Kt=a(pt);{let Tt=I(()=>e(n).RAG_FULL_CONTEXT?r().t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):r().t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."));lt(Kt,{get content(){return e(Tt)},children:(Dt,Rt)=>{ta(Dt,{get state(){return e(n).RAG_FULL_CONTEXT},set state(sa){m(n,e(n).RAG_FULL_CONTEXT=sa)},$$legacy:!0})},$$slots:{default:!0}})}t(pt),t(mr);var Aa=l(mr,2);{var Oa=Tt=>{var Dt=Iu(),Rt=L(Dt),sa=a(Rt),Zt=a(sa,!0);t(sa);var Na=l(sa,2),Mt=a(Na);ta(Mt,{get state(){return e(n).ENABLE_RAG_HYBRID_SEARCH},set state(xr){m(n,e(n).ENABLE_RAG_HYBRID_SEARCH=xr)},$$legacy:!0}),t(Na),t(Rt);var Ia=l(Rt,2);{var tr=xr=>{var Er=gu(),kr=L(Er),el=a(kr),sl=a(el,!0);t(el);var Cr=l(el,2),Or=a(Cr);{let Ca=I(()=>r().t("Adds filenames, titles, sections, and snippets into the BM25 text to improve lexical recall."));lt(Or,{get content(){return e(Ca)},children:(Pr,Xr)=>{ta(Pr,{get state(){return e(n).ENABLE_RAG_HYBRID_SEARCH_ENRICHED_TEXTS},set state(ar){m(n,e(n).ENABLE_RAG_HYBRID_SEARCH_ENRICHED_TEXTS=ar)},$$legacy:!0})},$$slots:{default:!0}})}t(Cr),t(kr);var Kr=l(kr,2),Vr=a(Kr),Yr=a(Vr),vl=a(Yr,!0);t(Yr);var tl=l(Yr,2),ll=a(tl);u(()=>{e(n),Pa(()=>{r()})});var nl=a(ll),fl=a(nl,!0);t(nl),nl.value=nl.__value="";var Ur=l(nl),zr=a(Ur,!0);t(Ur),Ur.value=Ur.__value="external",t(ll),t(tl),t(Vr);var dl=l(Vr,2);{var ul=Ca=>{var Pr=mu(),Xr=a(Pr);Q(Xr);var ar=l(Xr,2);{let vr=I(()=>r().t("API Key"));va(ar,{get placeholder(){return e(vr)},required:!1,get value(){return e(n).RAG_EXTERNAL_RERANKER_API_KEY},set value(yl){m(n,e(n).RAG_EXTERNAL_RERANKER_API_KEY=yl)},$$legacy:!0})}t(Pr),u(vr=>T(Xr,"placeholder",vr),[()=>r().t("API Base URL")]),J(Xr,()=>e(n).RAG_EXTERNAL_RERANKER_URL,vr=>m(n,e(n).RAG_EXTERNAL_RERANKER_URL=vr)),d(Ca,Pr)};g(dl,Ca=>{e(n).RAG_RERANKING_ENGINE==="external"&&Ca(ul)})}t(Kr);var wl=l(Kr,2),El=a(wl),zl=a(El,!0);t(El);var kl=l(El,2),Dl=a(kl),Gl=a(Dl),Ol=a(Gl);Q(Ol),t(Gl),t(Dl),t(kl),t(wl),u((Ca,Pr,Xr,ar,vr,yl,hl)=>{s(sl,Ca),s(vl,Pr),T(ll,"placeholder",Xr),s(fl,ar),s(zr,vr),s(zl,yl),T(Ol,"placeholder",hl)},[()=>r().t("Enrich Hybrid Search Text"),()=>r().t("Reranking Engine"),()=>r().t("Select a reranking model engine"),()=>r().t("Default (SentenceTransformers)"),()=>r().t("External"),()=>r().t("Reranking Model"),()=>r().t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})]),or(ll,()=>e(n).RAG_RERANKING_ENGINE,Ca=>m(n,e(n).RAG_RERANKING_ENGINE=Ca)),Ve("change",ll,Ca=>{Ca.target.value==="external"?m(n,e(n).RAG_RERANKING_MODEL=""):Ca.target.value===""&&m(n,e(n).RAG_RERANKING_MODEL="BAAI/bge-reranker-v2-m3")}),J(Ol,()=>e(n).RAG_RERANKING_MODEL,Ca=>m(n,e(n).RAG_RERANKING_MODEL=Ca)),d(xr,Er)};g(Ia,xr=>{e(n).ENABLE_RAG_HYBRID_SEARCH===!0&&xr(tr)})}var Ka=l(Ia,2),wt=a(Ka),ma=a(wt,!0);t(wt);var La=l(wt,2),ra=a(La);Q(ra),t(La),t(Ka);var ka=l(Ka,2);{var $r=xr=>{var Er=xu(),kr=a(Er),el=a(kr,!0);t(kr);var sl=l(kr,2),Cr=a(sl);Q(Cr),t(sl),t(Er),u((Or,Kr)=>{s(el,Or),T(Cr,"placeholder",Kr)},[()=>r().t("Top K Reranker"),()=>r().t("Enter Top K Reranker")]),J(Cr,()=>e(n).TOP_K_RERANKER,Or=>m(n,e(n).TOP_K_RERANKER=Or)),d(xr,Er)};g(ka,xr=>{e(n).ENABLE_RAG_HYBRID_SEARCH===!0&&xr($r)})}var jr=l(ka,2);{var Fr=xr=>{var Er=Eu(),kr=a(Er),el=a(kr),sl=a(el,!0);t(el);var Cr=l(el,2),Or=a(Cr);Q(Or),t(Cr),t(kr);var Kr=l(kr,2),Vr=a(Kr,!0);t(Kr),t(Er),u((Yr,vl,tl,ll)=>{s(sl,Yr),T(Or,"placeholder",vl),T(Or,"title",tl),s(Vr,ll)},[()=>r().t("Relevance Threshold"),()=>r().t("Enter Score"),()=>r().t("The score should be a value between 0.0 (0%) and 1.0 (100%)."),()=>r().t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")]),J(Or,()=>e(n).RELEVANCE_THRESHOLD,Yr=>m(n,e(n).RELEVANCE_THRESHOLD=Yr)),d(xr,Er)};g(jr,xr=>{e(n).ENABLE_RAG_HYBRID_SEARCH===!0&&xr(Fr)})}var _l=l(jr,2);{var ol=xr=>{var Er=wu(),kr=a(Er);{let Cr=I(()=>r().t("The Weight of BM25 Hybrid Search. 0 more semantic, 1 more lexical. Default 0.5"));lt(kr,{get content(){return e(Cr)},placement:"top-start",className:"inline-tooltip",children:(Or,Kr)=>{var Vr=bu(),Yr=a(Vr),vl=a(Yr,!0);t(Yr);var tl=l(Yr,2),ll=a(tl);{var nl=Ur=>{var zr=yu(),dl=a(zr,!0);t(zr),u(ul=>s(dl,ul),[()=>r().t("Default")]),d(Ur,zr)},fl=Ur=>{var zr=hu(),dl=a(zr,!0);t(zr),u(ul=>s(dl,ul),[()=>r().t("Custom")]),d(Ur,zr)};g(ll,Ur=>{var zr;(((zr=e(n))==null?void 0:zr.HYBRID_BM25_WEIGHT)??null)===null?Ur(nl):Ur(fl,!1)})}t(tl),t(Vr),u(Ur=>s(vl,Ur),[()=>r().t("BM25 Weight")]),Ve("click",tl,()=>{var Ur;m(n,e(n).HYBRID_BM25_WEIGHT=(((Ur=e(n))==null?void 0:Ur.HYBRID_BM25_WEIGHT)??null)===null?.5:null)}),d(Or,Vr)},$$slots:{default:!0}})}var el=l(kr,2);{var sl=Cr=>{var Or=Au(),Kr=a(Or),Vr=a(Kr);Q(Vr);var Yr=l(Vr,2),vl=a(Yr),tl=a(vl),ll=a(tl,!0);t(tl);var nl=l(tl,2),fl=a(nl,!0);t(nl),t(vl),t(Yr),t(Kr);var Ur=l(Kr,2),zr=a(Ur);Q(zr),t(Ur),t(Or),u((dl,ul)=>{s(ll,dl),s(fl,ul)},[()=>r().t("semantic"),()=>r().t("lexical")]),J(Vr,()=>e(n).HYBRID_BM25_WEIGHT,dl=>m(n,e(n).HYBRID_BM25_WEIGHT=dl)),J(zr,()=>e(n).HYBRID_BM25_WEIGHT,dl=>m(n,e(n).HYBRID_BM25_WEIGHT=dl)),d(Cr,Or)};g(el,Cr=>{var Or;(((Or=e(n))==null?void 0:Or.HYBRID_BM25_WEIGHT)??null)!==null&&Cr(sl)})}t(Er),d(xr,Er)};g(_l,xr=>{e(n).ENABLE_RAG_HYBRID_SEARCH===!0&&xr(ol)})}u((xr,Er,kr)=>{s(Zt,xr),s(ma,Er),T(ra,"placeholder",kr)},[()=>r().t("Hybrid Search"),()=>r().t("Top K"),()=>r().t("Enter Top K")]),J(ra,()=>e(n).TOP_K,xr=>m(n,e(n).TOP_K=xr)),d(Tt,Dt)};g(Aa,Tt=>{e(n).RAG_FULL_CONTEXT||Tt(Oa)})}var er=l(Aa,2),Ma=a(er),Ha=a(Ma,!0);t(Ma);var Sa=l(Ma,2),ja=a(Sa);{let Tt=I(()=>r().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(ja,{get content(){return e(Tt)},placement:"top-start",className:"w-full",children:(Dt,Rt)=>{{let sa=I(()=>r().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(Dt,{get placeholder(){return e(sa)},get value(){return e(n).RAG_TEMPLATE},set value(Zt){m(n,e(n).RAG_TEMPLATE=Zt)},$$legacy:!0})}},$$slots:{default:!0}})}t(Sa),t(er),t(Va),u((Tt,Dt,Rt,sa,Zt,Na,Mt,Ia,tr,Ka,wt,ma,La)=>{s($t,Tt),s(ur,Dt),T(Da,"placeholder",Rt),s(za,sa),s(yr,Zt),s(Ga,Na),s(Ir,Mt),s(Gr,Ia),s(xa,tr),s(Fa,Ka),s(Mr,wt),s(je,ma),s(Ha,La)},[()=>r().t("Embedding"),()=>r().t("Embedding Model Engine"),()=>r().t("Select an embedding model engine"),()=>r().t("Default (SentenceTransformers)"),()=>r().t("Ollama"),()=>r().t("OpenAI"),()=>r().t("Azure OpenAI"),()=>r().t("Embedding Model"),()=>r().t('After updating or changing the embedding model, you must reindex the knowledge base for the changes to take effect. You can do this using the "Reindex" button below.'),()=>r().t("Embedding Batch Size"),()=>r().t("Retrieval"),()=>r().t("Full Context Mode"),()=>r().t("RAG Template")]),or(Da,()=>e(S),Tt=>c(S,Tt)),Ve("change",Da,Tt=>{Tt.target.value==="ollama"?c($,""):Tt.target.value==="openai"?c($,"text-embedding-3-small"):Tt.target.value==="azure_openai"?c($,"text-embedding-3-small"):Tt.target.value===""&&c($,"sentence-transformers/all-MiniLM-L6-v2")}),J(sr,()=>e(U),Tt=>c(U,Tt)),d(Je,dt)};g(Ht,Je=>{e(n).BYPASS_EMBEDDING_AND_RETRIEVAL||Je(da)})}var $a=l(Ht,2),ha=a($a),Ft=a(ha,!0);t(ha);var jt=l(ha,4),gt=a(jt),Vt=a(gt,!0);t(gt);var Yt=l(gt,2),Ze=a(Yt);{let Je=I(()=>r().t("Allowed file extensions for upload. Separate multiple extensions with commas. Leave empty for all file types."));lt(Ze,{get content(){return e(Je)},placement:"top-start",children:(dt,Ut)=>{var ot=Ru();Q(ot),u($t=>T(ot,"placeholder",$t),[()=>r().t("e.g. pdf, docx, txt")]),J(ot,()=>e(n).ALLOWED_FILE_EXTENSIONS,$t=>m(n,e(n).ALLOWED_FILE_EXTENSIONS=$t)),d(dt,ot)},$$slots:{default:!0}})}t(Yt),t(jt);var Z=l(jt,2),at=a(Z),ft=a(at,!0);t(at);var Et=l(at,2),re=a(Et);{let Je=I(()=>r().t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."));lt(re,{get content(){return e(Je)},placement:"top-start",children:(dt,Ut)=>{var ot=Nu();Q(ot),u($t=>T(ot,"placeholder",$t),[()=>r().t("Leave empty for unlimited")]),J(ot,()=>e(n).FILE_MAX_SIZE,$t=>m(n,e(n).FILE_MAX_SIZE=$t)),d(dt,ot)},$$slots:{default:!0}})}t(Et),t(Z);var ne=l(Z,2),Se=a(ne),Oe=a(Se,!0);t(Se);var Ue=l(Se,2),Le=a(Ue);{let Je=I(()=>r().t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."));lt(Le,{get content(){return e(Je)},placement:"top-start",children:(dt,Ut)=>{var ot=Tu();Q(ot),u($t=>T(ot,"placeholder",$t),[()=>r().t("Leave empty for unlimited")]),J(ot,()=>e(n).FILE_MAX_COUNT,$t=>m(n,e(n).FILE_MAX_COUNT=$t)),d(dt,ot)},$$slots:{default:!0}})}t(Ue),t(ne);var Ae=l(ne,2),Be=a(Ae),C=a(Be,!0);t(Be);var H=l(Be,2),ie=a(H);{let Je=I(()=>r().t("The width in pixels to compress images to. Leave empty for no compression."));lt(ie,{get content(){return e(Je)},placement:"top-start",children:(dt,Ut)=>{var ot=Su();Q(ot),u($t=>T(ot,"placeholder",$t),[()=>r().t("Leave empty for no compression")]),J(ot,()=>e(n).FILE_IMAGE_COMPRESSION_WIDTH,$t=>m(n,e(n).FILE_IMAGE_COMPRESSION_WIDTH=$t)),d(dt,ot)},$$slots:{default:!0}})}t(H),t(Ae);var He=l(Ae,2),Pe=a(He),$e=a(Pe,!0);t(Pe);var B=l(Pe,2),z=a(B);{let Je=I(()=>r().t("The height in pixels to compress images to. Leave empty for no compression."));lt(z,{get content(){return e(Je)},placement:"top-start",children:(dt,Ut)=>{var ot=ku();Q(ot),u($t=>T(ot,"placeholder",$t),[()=>r().t("Leave empty for no compression")]),J(ot,()=>e(n).FILE_IMAGE_COMPRESSION_HEIGHT,$t=>m(n,e(n).FILE_IMAGE_COMPRESSION_HEIGHT=$t)),d(dt,ot)},$$slots:{default:!0}})}t(B),t(He),t($a);var pe=l($a,2),de=a(pe),ae=a(de,!0);t(de);var b=l(de,4),Y=a(b),O=a(Y,!0);t(Y);var ce=l(Y,2),Re=a(ce);ta(Re,{get state(){return e(n).ENABLE_GOOGLE_DRIVE_INTEGRATION},set state(Je){m(n,e(n).ENABLE_GOOGLE_DRIVE_INTEGRATION=Je)},$$legacy:!0}),t(ce),t(b);var E=l(b,2),w=a(E),P=a(w,!0);t(w);var oe=l(w,2),Te=a(oe);ta(Te,{get state(){return e(n).ENABLE_ONEDRIVE_INTEGRATION},set state(Je){m(n,e(n).ENABLE_ONEDRIVE_INTEGRATION=Je)},$$legacy:!0}),t(oe),t(E),t(pe);var j=l(pe,2),me=a(j),_t=a(me,!0);t(me);var Me=l(me,4),ke=a(Me),De=a(ke,!0);t(ke);var rt=l(ke,2),Pt=a(rt),yt=a(Pt,!0);t(Pt),t(rt),t(Me);var ht=l(Me,2),he=a(ht),X=a(he,!0);t(he);var ge=l(he,2),st=a(ge),it=a(st,!0);t(st),t(ge),t(ht);var Xe=l(ht,2),qe=a(Xe),xt=a(qe,!0);t(qe);var Bt=l(qe,2),kt=a(Bt),_a=a(kt,!0);t(kt),t(Bt),t(Xe),t(j),t(_e),t(We);var ea=l(We,2),ga=a(ea),Ra=a(ga,!0);t(ga),t(ea),u((Je,dt,Ut,ot,$t,Xt,ya,Ta,ur,qa,Da,pa,za,nr,yr,rr,Ga,Ya,Ir,Hr,Tr,hr,ir,pr,Gr,Xa,Qa)=>{s(Fe,Je),s(fa,dt),s(Jt,Ut),s(be,ot),s(vt,$t),s(Ge,Xt),s(tt,ya),s(et,Ta),s(Nt,ur),s(ct,qa),s(Ft,Da),s(Vt,pa),s(ft,za),s(Oe,nr),s(C,yr),s($e,rr),s(ae,Ga),s(O,Ya),s(P,Ir),s(_t,Hr),s(De,Tr),s(yt,hr),s(X,ir),s(it,pr),s(xt,Gr),s(_a,Xa),s(Ra,Qa)},[()=>r().t("General"),()=>r().t("Content Extraction Engine"),()=>r().t("Default"),()=>r().t("External"),()=>r().t("Tika"),()=>r().t("Docling"),()=>r().t("Datalab Marker API"),()=>r().t("Document Intelligence"),()=>r().t("Mistral OCR"),()=>r().t("MinerU"),()=>r().t("Files"),()=>r().t("Allowed File Extensions"),()=>r().t("Max Upload Size"),()=>r().t("Max Upload Count"),()=>r().t("Image Compression Width"),()=>r().t("Image Compression Height"),()=>r().t("Integration"),()=>r().t("Google Drive"),()=>r().t("OneDrive"),()=>r().t("Danger Zone"),()=>r().t("Reset Upload Directory"),()=>r().t("Reset"),()=>r().t("Reset Vector Storage/Knowledge"),()=>r().t("Reset"),()=>r().t("Reindex Knowledge Base Vectors"),()=>r().t("Reindex"),()=>r().t("Save")]),or(ca,()=>e(n).CONTENT_EXTRACTION_ENGINE,Je=>m(n,e(n).CONTENT_EXTRACTION_ENGINE=Je)),Ve("click",Pt,()=>{c(v,!0)}),Ve("click",st,()=>{c(we,!0)}),Ve("click",kt,()=>{c(o,!0)}),d(N,xe)},ve=N=>{var xe=Lu(),We=a(xe);Qr(We,{className:"size-5"}),t(xe),d(N,xe)};g(le,N=>{e(n)?N(se):N(ve,!1)})}t(D),Ve("submit",D,il(()=>{W()})),d(It,V),wr(),p()}var Cu=_("<option>DDGS</option>"),Uu=_("<option> </option>"),Du=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div>'),Gu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div></div> <div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div>',1),Bu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-left text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off" required/></div></div></div> <div class="mb-2.5 flex w-full flex-col"><div class=" self-left text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off" required/></div></div></div></div>'),Hu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div></div> <div class="mb-2.5 flex w-full flex-col"><div class="flex gap-2"><div class="w-full"><div class=" self-center text-xs font-medium mb-1"> </div> <input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" required/></div> <div class="w-full"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div></div>',1),ju=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div> <div class="mt-1.5"><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div></div>'),Ku=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Yu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Wu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Fu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Vu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Zu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),zu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Xu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Ju=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div> <div class="mt-1.5"><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div></div>'),qu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div> <div class="mt-1.5"><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div></div>'),Qu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),e_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),t_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),a_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div> <div class="mb-2.5 flex w-full flex-col"><div><div class="self-center text-xs font-medium mb-1"> </div> <input list="perplexity-model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="perplexity-model-list"><option> </option><option> </option><option> </option><option> </option><option> </option></datalist></div></div> <div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option> </option><option> </option><option> </option></select></div></div>',1),r_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div> <div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>',1),l_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" autocomplete="off"/></div></div></div></div>'),i_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),s_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option></select></div></div></div></div>'),v_=_("<!> <!>",1),d_=_('<div class="mb-2.5 flex w-full flex-col"><div class="flex gap-2"><div class="w-full"><div class=" self-center text-xs font-medium mb-1"> </div> <input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" required/></div> <div class="w-full"><div class=" self-center text-xs font-medium mb-1"><!></div> <input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" min="0"/></div></div></div> <div class="mb-2.5 flex w-full flex-col"><div class="  text-xs font-medium mb-1"> </div> <input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div>',1),o_=_("<option> </option>"),n_=_('<div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div>',1),c_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" autocomplete="off"/></div></div></div></div>'),u_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),__=_('<div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div>'),f_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <!></div>'),p_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),m_=_('<div><div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right" required><option disabled selected> </option><!></select></div></div> <!> <!> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"><!></div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"><!></div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"><option> </option><!></select></div></div> <!> <div class="mb-2.5 w-full"><div class=" self-center text-xs font-medium mb-1"> </div> <input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" required/></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden" type="text" autocomplete="off"/></div></div> <div class="  mb-2.5 flex flex-col w-full justify-between"><div class=" mb-1 text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden" type="text" autocomplete="off"/></div></div></div></div>'),g_=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class=" space-y-3 overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>');function x_(It,ee){br(ee,!1);const r=()=>la(Gt,"$i18n",f),[f,p]=Nr(),Gt=Ar("i18n");let Ke=oa(ee,"saveHandler",8),h=["ollama_cloud","perplexity_search","searxng","yacy","google_pse","brave","kagi","mojeek","bocha","serpstack","serper","serply","searchapi","serpapi","duckduckgo","tavily","jina","bing","exa","perplexity","sougou","firecrawl","external"],we=["playwright","firecrawl","tavily","external"],v=k(null);const o=async()=>{typeof e(v).WEB_SEARCH_DOMAIN_FILTER_LIST=="string"&&e(v).WEB_SEARCH_DOMAIN_FILTER_LIST?m(v,e(v).WEB_SEARCH_DOMAIN_FILTER_LIST=e(v).WEB_SEARCH_DOMAIN_FILTER_LIST.split(",").map(te=>te.trim()).filter(te=>te.length>0)):Array.isArray(e(v).WEB_SEARCH_DOMAIN_FILTER_LIST)||m(v,e(v).WEB_SEARCH_DOMAIN_FILTER_LIST=[]),typeof e(v).YOUTUBE_LOADER_LANGUAGE=="string"&&e(v).YOUTUBE_LOADER_LANGUAGE?m(v,e(v).YOUTUBE_LOADER_LANGUAGE=e(v).YOUTUBE_LOADER_LANGUAGE.split(",").map(te=>te.trim()).filter(te=>te.length>0)):Array.isArray(e(v).YOUTUBE_LOADER_LANGUAGE)||m(v,e(v).YOUTUBE_LOADER_LANGUAGE=[]),typeof e(v).FIRECRAWL_TIMEOUT=="number"&&m(v,e(v).FIRECRAWL_TIMEOUT=e(v).FIRECRAWL_TIMEOUT.toString()),typeof e(v).PLAYWRIGHT_TIMEOUT=="number"&&m(v,e(v).PLAYWRIGHT_TIMEOUT=e(v).PLAYWRIGHT_TIMEOUT.toString()),await Si(localStorage.token,{web:e(v)}),Array.isArray(e(v).WEB_SEARCH_DOMAIN_FILTER_LIST)&&m(v,e(v).WEB_SEARCH_DOMAIN_FILTER_LIST=e(v).WEB_SEARCH_DOMAIN_FILTER_LIST.join(",")),Array.isArray(e(v).YOUTUBE_LOADER_LANGUAGE)&&m(v,e(v).YOUTUBE_LOADER_LANGUAGE=e(v).YOUTUBE_LOADER_LANGUAGE.join(","))};rl(async()=>{var Ie,Ee;const te=await Ti(localStorage.token);if(te){if(c(v,te.web),Array.isArray((Ie=e(v))==null?void 0:Ie.WEB_SEARCH_DOMAIN_FILTER_LIST)?m(v,e(v).WEB_SEARCH_DOMAIN_FILTER_LIST=e(v).WEB_SEARCH_DOMAIN_FILTER_LIST.join(",")):e(v).WEB_SEARCH_DOMAIN_FILTER_LIST||m(v,e(v).WEB_SEARCH_DOMAIN_FILTER_LIST=""),Array.isArray((Ee=e(v))==null?void 0:Ee.YOUTUBE_LOADER_LANGUAGE)?m(v,e(v).YOUTUBE_LOADER_LANGUAGE=e(v).YOUTUBE_LOADER_LANGUAGE.join(",")):e(v).YOUTUBE_LOADER_LANGUAGE||m(v,e(v).YOUTUBE_LOADER_LANGUAGE=""),e(v).FIRECRAWL_TIMEOUT&&typeof e(v).FIRECRAWL_TIMEOUT=="string"){const Ne=parseInt(e(v).FIRECRAWL_TIMEOUT);isNaN(Ne)||m(v,e(v).FIRECRAWL_TIMEOUT=Ne)}if(e(v).PLAYWRIGHT_TIMEOUT&&typeof e(v).PLAYWRIGHT_TIMEOUT=="string"){const Ne=parseInt(e(v).PLAYWRIGHT_TIMEOUT);isNaN(Ne)||m(v,e(v).PLAYWRIGHT_TIMEOUT=Ne)}}}),Rr();var S=g_(),$=a(S),U=a($);{var y=te=>{var Ie=m_(),Ee=a(Ie),Ne=a(Ee),n=a(Ne,!0);t(Ne);var q=l(Ne,4),W=a(q),ye=a(W,!0);t(W);var V=l(W,2),ue=a(V);ta(ue,{get state(){return e(v).ENABLE_WEB_SEARCH},set state(Z){m(v,e(v).ENABLE_WEB_SEARCH=Z)},$$legacy:!0}),t(V),t(q);var M=l(q,2),x=a(M),D=a(x,!0);t(x);var le=l(x,2),se=a(le);u(()=>{e(v),Pa(()=>{r()})});var ve=a(se),N=a(ve,!0);t(ve),ve.value=ve.__value="";var xe=l(ve);Za(xe,1,()=>h,dr,(Z,at)=>{var ft=Qe(),Et=L(ft);{var re=Se=>{var Oe=Cu(),Ue={};u(()=>{Ue!==(Ue=e(at))&&(Oe.value=(Oe.__value=e(at))??"")}),d(Se,Oe)},ne=Se=>{var Oe=Uu(),Ue=a(Oe,!0);t(Oe);var Le={};u(()=>{s(Ue,e(at)),Le!==(Le=e(at))&&(Oe.value=(Oe.__value=e(at))??"")}),d(Se,Oe)};g(Et,Se=>{e(at)==="duckduckgo"||e(at)==="ddgs"?Se(re):Se(ne,!1)})}d(Z,ft)}),t(se),t(le),t(M);var We=l(M,2);{var _e=Z=>{var at=v_(),ft=L(at);{var Et=Oe=>{var Ue=Du(),Le=a(Ue),Ae=a(Le),Be=a(Ae,!0);t(Ae);var C=l(Ae,2),H=a(C),ie=a(H);{let He=I(()=>(r(),i(()=>r().t("Enter Ollama Cloud API Key"))));va(ie,{get placeholder(){return e(He)},get value(){return e(v).OLLAMA_CLOUD_WEB_SEARCH_API_KEY},set value(Pe){m(v,e(v).OLLAMA_CLOUD_WEB_SEARCH_API_KEY=Pe)},$$legacy:!0})}t(H),t(C),t(Le),t(Ue),u(He=>s(Be,He),[()=>(r(),i(()=>r().t("Ollama Cloud API Key")))]),d(Oe,Ue)},re=Oe=>{var Ue=Qe(),Le=L(Ue);{var Ae=C=>{var H=Gu(),ie=L(H),He=a(ie),Pe=a(He),$e=a(Pe,!0);t(Pe);var B=l(Pe,2),z=a(B),pe=a(z);Q(pe),t(z),t(B),t(He),t(ie);var de=l(ie,2),ae=a(de),b=a(ae),Y=a(b,!0);t(b);var O=l(b,2),ce=a(O),Re=a(ce);{let E=I(()=>(r(),i(()=>r().t("Enter Perplexity API Key"))));va(Re,{get placeholder(){return e(E)},get value(){return e(v).PERPLEXITY_API_KEY},set value(w){m(v,e(v).PERPLEXITY_API_KEY=w)},$$legacy:!0})}t(ce),t(O),t(ae),t(de),u((E,w,P)=>{s($e,E),T(pe,"placeholder",w),s(Y,P)},[()=>(r(),i(()=>r().t("Perplexity Search API URL"))),()=>(r(),i(()=>r().t("Enter Perplexity Search API URL"))),()=>(r(),i(()=>r().t("Perplexity API Key")))]),J(pe,()=>e(v).PERPLEXITY_SEARCH_API_URL,E=>m(v,e(v).PERPLEXITY_SEARCH_API_URL=E)),d(C,H)},Be=C=>{var H=Qe(),ie=L(H);{var He=$e=>{var B=Bu(),z=a(B),pe=a(z),de=a(pe,!0);t(pe);var ae=l(pe,2),b=a(ae),Y=a(b);Q(Y),t(b),t(ae),t(z);var O=l(z,2),ce=a(O),Re=a(ce,!0);t(ce);var E=l(ce,2),w=a(E),P=a(w);Q(P),t(w),t(E),t(O),t(B),u((oe,Te,j,me)=>{s(de,oe),T(Y,"placeholder",Te),s(Re,j),T(P,"placeholder",me)},[()=>(r(),i(()=>r().t("Searxng Query URL"))),()=>(r(),i(()=>r().t("Enter Searxng Query URL"))),()=>(r(),i(()=>r().t("Searxng search language (all, en, es, de, fr, etc.)"))),()=>(r(),i(()=>r().t("Enter Searxng search language")))]),J(Y,()=>e(v).SEARXNG_QUERY_URL,oe=>m(v,e(v).SEARXNG_QUERY_URL=oe)),J(P,()=>e(v).SEARXNG_LANGUAGE,oe=>m(v,e(v).SEARXNG_LANGUAGE=oe)),d($e,B)},Pe=$e=>{var B=Qe(),z=L(B);{var pe=ae=>{var b=Hu(),Y=L(b),O=a(Y),ce=a(O),Re=a(ce,!0);t(ce);var E=l(ce,2),w=a(E),P=a(w);Q(P),t(w),t(E),t(O),t(Y);var oe=l(Y,2),Te=a(oe),j=a(Te),me=a(j),_t=a(me,!0);t(me);var Me=l(me,2);Q(Me),t(j);var ke=l(j,2),De=a(ke),rt=a(De,!0);t(De);var Pt=l(De,2);{let yt=I(()=>(r(),i(()=>r().t("Enter Yacy Password"))));va(Pt,{get placeholder(){return e(yt)},get value(){return e(v).YACY_PASSWORD},set value(ht){m(v,e(v).YACY_PASSWORD=ht)},$$legacy:!0})}t(ke),t(Te),t(oe),u((yt,ht,he,X,ge)=>{s(Re,yt),T(P,"placeholder",ht),s(_t,he),T(Me,"placeholder",X),s(rt,ge)},[()=>(r(),i(()=>r().t("Yacy Instance URL"))),()=>(r(),i(()=>r().t("Enter Yacy URL (e.g. http://yacy.example.com:8090)"))),()=>(r(),i(()=>r().t("Yacy Username"))),()=>(r(),i(()=>r().t("Enter Yacy Username"))),()=>(r(),i(()=>r().t("Yacy Password")))]),J(P,()=>e(v).YACY_QUERY_URL,yt=>m(v,e(v).YACY_QUERY_URL=yt)),J(Me,()=>e(v).YACY_USERNAME,yt=>m(v,e(v).YACY_USERNAME=yt)),d(ae,b)},de=ae=>{var b=Qe(),Y=L(b);{var O=Re=>{var E=ju(),w=a(E),P=a(w),oe=a(P,!0);t(P);var Te=l(P,2);{let rt=I(()=>(r(),i(()=>r().t("Enter Google PSE API Key"))));va(Te,{get placeholder(){return e(rt)},get value(){return e(v).GOOGLE_PSE_API_KEY},set value(Pt){m(v,e(v).GOOGLE_PSE_API_KEY=Pt)},$$legacy:!0})}t(w);var j=l(w,2),me=a(j),_t=a(me,!0);t(me);var Me=l(me,2),ke=a(Me),De=a(ke);Q(De),t(ke),t(Me),t(j),t(E),u((rt,Pt,yt)=>{s(oe,rt),s(_t,Pt),T(De,"placeholder",yt)},[()=>(r(),i(()=>r().t("Google PSE API Key"))),()=>(r(),i(()=>r().t("Google PSE Engine Id"))),()=>(r(),i(()=>r().t("Enter Google PSE Engine Id")))]),J(De,()=>e(v).GOOGLE_PSE_ENGINE_ID,rt=>m(v,e(v).GOOGLE_PSE_ENGINE_ID=rt)),d(Re,E)},ce=Re=>{var E=Qe(),w=L(E);{var P=Te=>{var j=Ku(),me=a(j),_t=a(me),Me=a(_t,!0);t(_t);var ke=l(_t,2);{let De=I(()=>(r(),i(()=>r().t("Enter Brave Search API Key"))));va(ke,{get placeholder(){return e(De)},get value(){return e(v).BRAVE_SEARCH_API_KEY},set value(rt){m(v,e(v).BRAVE_SEARCH_API_KEY=rt)},$$legacy:!0})}t(me),t(j),u(De=>s(Me,De),[()=>(r(),i(()=>r().t("Brave Search API Key")))]),d(Te,j)},oe=Te=>{var j=Qe(),me=L(j);{var _t=ke=>{var De=Yu(),rt=a(De),Pt=a(rt),yt=a(Pt,!0);t(Pt);var ht=l(Pt,2);{let he=I(()=>(r(),i(()=>r().t("Enter Kagi Search API Key"))));va(ht,{get placeholder(){return e(he)},get value(){return e(v).KAGI_SEARCH_API_KEY},set value(X){m(v,e(v).KAGI_SEARCH_API_KEY=X)},$$legacy:!0})}t(rt),t(De),u(he=>s(yt,he),[()=>(r(),i(()=>r().t("Kagi Search API Key")))]),d(ke,De)},Me=ke=>{var De=Qe(),rt=L(De);{var Pt=ht=>{var he=Wu(),X=a(he),ge=a(X),st=a(ge,!0);t(ge);var it=l(ge,2);{let Xe=I(()=>(r(),i(()=>r().t("Enter Mojeek Search API Key"))));va(it,{get placeholder(){return e(Xe)},get value(){return e(v).MOJEEK_SEARCH_API_KEY},set value(qe){m(v,e(v).MOJEEK_SEARCH_API_KEY=qe)},$$legacy:!0})}t(X),t(he),u(Xe=>s(st,Xe),[()=>(r(),i(()=>r().t("Mojeek Search API Key")))]),d(ht,he)},yt=ht=>{var he=Qe(),X=L(he);{var ge=it=>{var Xe=Fu(),qe=a(Xe),xt=a(qe),Bt=a(xt,!0);t(xt);var kt=l(xt,2);{let _a=I(()=>(r(),i(()=>r().t("Enter Bocha Search API Key"))));va(kt,{get placeholder(){return e(_a)},get value(){return e(v).BOCHA_SEARCH_API_KEY},set value(ea){m(v,e(v).BOCHA_SEARCH_API_KEY=ea)},$$legacy:!0})}t(qe),t(Xe),u(_a=>s(Bt,_a),[()=>(r(),i(()=>r().t("Bocha Search API Key")))]),d(it,Xe)},st=it=>{var Xe=Qe(),qe=L(Xe);{var xt=kt=>{var _a=Vu(),ea=a(_a),ga=a(ea),Ra=a(ga,!0);t(ga);var Je=l(ga,2);{let dt=I(()=>(r(),i(()=>r().t("Enter Serpstack API Key"))));va(Je,{get placeholder(){return e(dt)},get value(){return e(v).SERPSTACK_API_KEY},set value(Ut){m(v,e(v).SERPSTACK_API_KEY=Ut)},$$legacy:!0})}t(ea),t(_a),u(dt=>s(Ra,dt),[()=>(r(),i(()=>r().t("Serpstack API Key")))]),d(kt,_a)},Bt=kt=>{var _a=Qe(),ea=L(_a);{var ga=Je=>{var dt=Zu(),Ut=a(dt),ot=a(Ut),$t=a(ot,!0);t(ot);var Xt=l(ot,2);{let ya=I(()=>(r(),i(()=>r().t("Enter Serper API Key"))));va(Xt,{get placeholder(){return e(ya)},get value(){return e(v).SERPER_API_KEY},set value(Ta){m(v,e(v).SERPER_API_KEY=Ta)},$$legacy:!0})}t(Ut),t(dt),u(ya=>s($t,ya),[()=>(r(),i(()=>r().t("Serper API Key")))]),d(Je,dt)},Ra=Je=>{var dt=Qe(),Ut=L(dt);{var ot=Xt=>{var ya=zu(),Ta=a(ya),ur=a(Ta),qa=a(ur,!0);t(ur);var Da=l(ur,2);{let pa=I(()=>(r(),i(()=>r().t("Enter Serply API Key"))));va(Da,{get placeholder(){return e(pa)},get value(){return e(v).SERPLY_API_KEY},set value(za){m(v,e(v).SERPLY_API_KEY=za)},$$legacy:!0})}t(Ta),t(ya),u(pa=>s(qa,pa),[()=>(r(),i(()=>r().t("Serply API Key")))]),d(Xt,ya)},$t=Xt=>{var ya=Qe(),Ta=L(ya);{var ur=Da=>{var pa=Xu(),za=a(pa),nr=a(za),yr=a(nr,!0);t(nr);var rr=l(nr,2);{let Ga=I(()=>(r(),i(()=>r().t("Enter Tavily API Key"))));va(rr,{get placeholder(){return e(Ga)},get value(){return e(v).TAVILY_API_KEY},set value(Ya){m(v,e(v).TAVILY_API_KEY=Ya)},$$legacy:!0})}t(za),t(pa),u(Ga=>s(yr,Ga),[()=>(r(),i(()=>r().t("Tavily API Key")))]),d(Da,pa)},qa=Da=>{var pa=Qe(),za=L(pa);{var nr=rr=>{var Ga=Ju(),Ya=a(Ga),Ir=a(Ya),Hr=a(Ir,!0);t(Ir);var Tr=l(Ir,2);{let Wa=I(()=>(r(),i(()=>r().t("Enter SearchApi API Key"))));va(Tr,{get placeholder(){return e(Wa)},get value(){return e(v).SEARCHAPI_API_KEY},set value(_r){m(v,e(v).SEARCHAPI_API_KEY=_r)},$$legacy:!0})}t(Ya);var hr=l(Ya,2),ir=a(hr),pr=a(ir,!0);t(ir);var Gr=l(ir,2),Xa=a(Gr),Qa=a(Xa);Q(Qa),t(Xa),t(Gr),t(hr),t(Ga),u((Wa,_r,Sr)=>{s(Hr,Wa),s(pr,_r),T(Qa,"placeholder",Sr)},[()=>(r(),i(()=>r().t("SearchApi API Key"))),()=>(r(),i(()=>r().t("SearchApi Engine"))),()=>(r(),i(()=>r().t("Enter SearchApi Engine")))]),J(Qa,()=>e(v).SEARCHAPI_ENGINE,Wa=>m(v,e(v).SEARCHAPI_ENGINE=Wa)),d(rr,Ga)},yr=rr=>{var Ga=Qe(),Ya=L(Ga);{var Ir=Tr=>{var hr=qu(),ir=a(hr),pr=a(ir),Gr=a(pr,!0);t(pr);var Xa=l(pr,2);{let ba=I(()=>(r(),i(()=>r().t("Enter SerpApi API Key"))));va(Xa,{get placeholder(){return e(ba)},get value(){return e(v).SERPAPI_API_KEY},set value(Fa){m(v,e(v).SERPAPI_API_KEY=Fa)},$$legacy:!0})}t(ir);var Qa=l(ir,2),Wa=a(Qa),_r=a(Wa,!0);t(Wa);var Sr=l(Wa,2),xa=a(Sr),Ea=a(xa);Q(Ea),t(xa),t(Sr),t(Qa),t(hr),u((ba,Fa,Ba)=>{s(Gr,ba),s(_r,Fa),T(Ea,"placeholder",Ba)},[()=>(r(),i(()=>r().t("SerpApi API Key"))),()=>(r(),i(()=>r().t("SerpApi Engine"))),()=>(r(),i(()=>r().t("Enter SerpApi Engine")))]),J(Ea,()=>e(v).SERPAPI_ENGINE,ba=>m(v,e(v).SERPAPI_ENGINE=ba)),d(Tr,hr)},Hr=Tr=>{var hr=Qe(),ir=L(hr);{var pr=Xa=>{var Qa=Qu(),Wa=a(Qa),_r=a(Wa),Sr=a(_r,!0);t(_r);var xa=l(_r,2),Ea=a(xa),ba=a(Ea);Q(ba),t(Ea),t(xa),t(Wa);var Fa=l(Wa,2),Ba=a(Fa),sr=a(Ba,!0);t(Ba);var lr=l(Ba,2);{let Ja=I(()=>(r(),i(()=>r().t("Enter Jina API Key"))));va(lr,{get placeholder(){return e(Ja)},get value(){return e(v).JINA_API_KEY},set value(Va){m(v,e(v).JINA_API_KEY=Va)},$$legacy:!0})}t(Fa),t(Qa),u((Ja,Va,Br)=>{s(Sr,Ja),T(ba,"placeholder",Va),s(sr,Br)},[()=>(r(),i(()=>r().t("Jina API Base URL"))),()=>(r(),i(()=>r().t("Enter Jina API Base URL"))),()=>(r(),i(()=>r().t("Jina API Key")))]),J(ba,()=>e(v).JINA_API_BASE_URL,Ja=>m(v,e(v).JINA_API_BASE_URL=Ja)),d(Xa,Qa)},Gr=Xa=>{var Qa=Qe(),Wa=L(Qa);{var _r=xa=>{var Ea=e_(),ba=a(Ea),Fa=a(ba),Ba=a(Fa,!0);t(Fa);var sr=l(Fa,2),lr=a(sr),Ja=a(lr);Q(Ja),t(lr),t(sr),t(ba);var Va=l(ba,2),Br=a(Va),Mr=a(Br,!0);t(Br);var mr=l(Br,2);{let gr=I(()=>(r(),i(()=>r().t("Enter Bing Search V7 Subscription Key"))));va(mr,{get placeholder(){return e(gr)},get value(){return e(v).BING_SEARCH_V7_SUBSCRIPTION_KEY},set value(je){m(v,e(v).BING_SEARCH_V7_SUBSCRIPTION_KEY=je)},$$legacy:!0})}t(Va),t(Ea),u((gr,je,pt)=>{s(Ba,gr),T(Ja,"placeholder",je),s(Mr,pt)},[()=>(r(),i(()=>r().t("Bing Search V7 Endpoint"))),()=>(r(),i(()=>r().t("Enter Bing Search V7 Endpoint"))),()=>(r(),i(()=>r().t("Bing Search V7 Subscription Key")))]),J(Ja,()=>e(v).BING_SEARCH_V7_ENDPOINT,gr=>m(v,e(v).BING_SEARCH_V7_ENDPOINT=gr)),d(xa,Ea)},Sr=xa=>{var Ea=Qe(),ba=L(Ea);{var Fa=sr=>{var lr=t_(),Ja=a(lr),Va=a(Ja),Br=a(Va,!0);t(Va);var Mr=l(Va,2);{let mr=I(()=>(r(),i(()=>r().t("Enter Exa API Key"))));va(Mr,{get placeholder(){return e(mr)},get value(){return e(v).EXA_API_KEY},set value(gr){m(v,e(v).EXA_API_KEY=gr)},$$legacy:!0})}t(Ja),t(lr),u(mr=>s(Br,mr),[()=>(r(),i(()=>r().t("Exa API Key")))]),d(sr,lr)},Ba=sr=>{var lr=Qe(),Ja=L(lr);{var Va=Mr=>{var mr=a_(),gr=L(mr),je=a(gr),pt=a(je),Kt=a(pt,!0);t(pt);var Aa=l(pt,2);{let Er=I(()=>(r(),i(()=>r().t("Enter Perplexity API Key"))));va(Aa,{get placeholder(){return e(Er)},get value(){return e(v).PERPLEXITY_API_KEY},set value(kr){m(v,e(v).PERPLEXITY_API_KEY=kr)},$$legacy:!0})}t(je),t(gr);var Oa=l(gr,2),er=a(Oa),Ma=a(er),Ha=a(Ma,!0);t(Ma);var Sa=l(Ma,2);Q(Sa);var ja=l(Sa,2),Tt=a(ja),Dt=a(Tt,!0);t(Tt),Tt.value=Tt.__value="sonar";var Rt=l(Tt),sa=a(Rt,!0);t(Rt),Rt.value=Rt.__value="sonar-pro";var Zt=l(Rt),Na=a(Zt,!0);t(Zt),Zt.value=Zt.__value="sonar-reasoning";var Mt=l(Zt),Ia=a(Mt,!0);t(Mt),Mt.value=Mt.__value="sonar-reasoning-pro";var tr=l(Mt),Ka=a(tr,!0);t(tr),tr.value=tr.__value="sonar-deep-research",t(ja),t(er),t(Oa);var wt=l(Oa,2),ma=a(wt),La=a(ma),ra=a(La,!0);t(La);var ka=l(La,2);u(()=>{e(v),Pa(()=>{r()})});var $r=a(ka),jr=a($r,!0);t($r),$r.value=$r.__value="low";var Fr=l($r),_l=a(Fr,!0);t(Fr),Fr.value=Fr.__value="medium";var ol=l(Fr),xr=a(ol,!0);t(ol),ol.value=ol.__value="high",t(ka),t(ma),t(wt),u((Er,kr,el,sl,Cr,Or,Kr,Vr,Yr,vl,tl)=>{s(Kt,Er),s(Ha,kr),s(Dt,el),s(sa,sl),s(Na,Cr),s(Ia,Or),s(Ka,Kr),s(ra,Vr),s(jr,Yr),s(_l,vl),s(xr,tl)},[()=>(r(),i(()=>r().t("Perplexity API Key"))),()=>(r(),i(()=>r().t("Perplexity Model"))),()=>(r(),i(()=>r().t("Sonar"))),()=>(r(),i(()=>r().t("Sonar Pro"))),()=>(r(),i(()=>r().t("Sonar Reasoning"))),()=>(r(),i(()=>r().t("Sonar Reasoning Pro"))),()=>(r(),i(()=>r().t("Sonar Deep Research"))),()=>(r(),i(()=>r().t("Perplexity Search Context Usage"))),()=>(r(),i(()=>r().t("Low"))),()=>(r(),i(()=>r().t("Medium"))),()=>(r(),i(()=>r().t("High")))]),J(Sa,()=>e(v).PERPLEXITY_MODEL,Er=>m(v,e(v).PERPLEXITY_MODEL=Er)),or(ka,()=>e(v).PERPLEXITY_SEARCH_CONTEXT_USAGE,Er=>m(v,e(v).PERPLEXITY_SEARCH_CONTEXT_USAGE=Er)),d(Mr,mr)},Br=Mr=>{var mr=Qe(),gr=L(mr);{var je=Kt=>{var Aa=r_(),Oa=L(Aa),er=a(Oa),Ma=a(er),Ha=a(Ma,!0);t(Ma);var Sa=l(Ma,2);{let Zt=I(()=>(r(),i(()=>r().t("Enter Sougou Search API sID"))));va(Sa,{get placeholder(){return e(Zt)},get value(){return e(v).SOUGOU_API_SID},set value(Na){m(v,e(v).SOUGOU_API_SID=Na)},$$legacy:!0})}t(er),t(Oa);var ja=l(Oa,2),Tt=a(ja),Dt=a(Tt),Rt=a(Dt,!0);t(Dt);var sa=l(Dt,2);{let Zt=I(()=>(r(),i(()=>r().t("Enter Sougou Search API SK"))));va(sa,{get placeholder(){return e(Zt)},get value(){return e(v).SOUGOU_API_SK},set value(Na){m(v,e(v).SOUGOU_API_SK=Na)},$$legacy:!0})}t(Tt),t(ja),u((Zt,Na)=>{s(Ha,Zt),s(Rt,Na)},[()=>(r(),i(()=>r().t("Sougou Search API sID"))),()=>(r(),i(()=>r().t("Sougou Search API SK")))]),d(Kt,Aa)},pt=Kt=>{var Aa=Qe(),Oa=L(Aa);{var er=Ha=>{var Sa=l_(),ja=a(Sa),Tt=a(ja),Dt=a(Tt,!0);t(Tt);var Rt=l(Tt,2),sa=a(Rt),Zt=a(sa);Q(Zt),t(sa),t(Rt),t(ja);var Na=l(ja,2),Mt=a(Na),Ia=a(Mt,!0);t(Mt);var tr=l(Mt,2);{let $r=I(()=>(r(),i(()=>r().t("Enter Firecrawl API Key"))));va(tr,{get placeholder(){return e($r)},get value(){return e(v).FIRECRAWL_API_KEY},set value(jr){m(v,e(v).FIRECRAWL_API_KEY=jr)},$$legacy:!0})}t(Na);var Ka=l(Na,2),wt=a(Ka),ma=a(wt,!0);t(wt);var La=l(wt,2),ra=a(La),ka=a(ra);Q(ka),t(ra),t(La),t(Ka),t(Sa),u(($r,jr,Fr,_l,ol)=>{s(Dt,$r),T(Zt,"placeholder",jr),s(Ia,Fr),s(ma,_l),T(ka,"placeholder",ol)},[()=>(r(),i(()=>r().t("Firecrawl API Base URL"))),()=>(r(),i(()=>r().t("Enter Firecrawl API Base URL"))),()=>(r(),i(()=>r().t("Firecrawl API Key"))),()=>(r(),i(()=>r().t("Firecrawl Timeout (s)"))),()=>(r(),i(()=>r().t("Enter Firecrawl Timeout")))]),J(Zt,()=>e(v).FIRECRAWL_API_BASE_URL,$r=>m(v,e(v).FIRECRAWL_API_BASE_URL=$r)),J(ka,()=>e(v).FIRECRAWL_TIMEOUT,$r=>m(v,e(v).FIRECRAWL_TIMEOUT=$r)),d(Ha,Sa)},Ma=Ha=>{var Sa=Qe(),ja=L(Sa);{var Tt=Dt=>{var Rt=i_(),sa=a(Rt),Zt=a(sa),Na=a(Zt,!0);t(Zt);var Mt=l(Zt,2),Ia=a(Mt),tr=a(Ia);Q(tr),t(Ia),t(Mt),t(sa);var Ka=l(sa,2),wt=a(Ka),ma=a(wt,!0);t(wt);var La=l(wt,2);{let ra=I(()=>(r(),i(()=>r().t("Enter External Web Search API Key"))));va(La,{get placeholder(){return e(ra)},get value(){return e(v).EXTERNAL_WEB_SEARCH_API_KEY},set value(ka){m(v,e(v).EXTERNAL_WEB_SEARCH_API_KEY=ka)},$$legacy:!0})}t(Ka),t(Rt),u((ra,ka,$r)=>{s(Na,ra),T(tr,"placeholder",ka),s(ma,$r)},[()=>(r(),i(()=>r().t("External Web Search URL"))),()=>(r(),i(()=>r().t("Enter External Web Search URL"))),()=>(r(),i(()=>r().t("External Web Search API Key")))]),J(tr,()=>e(v).EXTERNAL_WEB_SEARCH_URL,ra=>m(v,e(v).EXTERNAL_WEB_SEARCH_URL=ra)),d(Dt,Rt)};g(ja,Dt=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="external")&&Dt(Tt)},!0)}d(Ha,Sa)};g(Oa,Ha=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="firecrawl")?Ha(er):Ha(Ma,!1)},!0)}d(Kt,Aa)};g(gr,Kt=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="sougou")?Kt(je):Kt(pt,!1)},!0)}d(Mr,mr)};g(Ja,Mr=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="perplexity")?Mr(Va):Mr(Br,!1)},!0)}d(sr,lr)};g(ba,sr=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="exa")?sr(Fa):sr(Ba,!1)},!0)}d(xa,Ea)};g(Wa,xa=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="bing")?xa(_r):xa(Sr,!1)},!0)}d(Xa,Qa)};g(ir,Xa=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="jina")?Xa(pr):Xa(Gr,!1)},!0)}d(Tr,hr)};g(Ya,Tr=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="serpapi")?Tr(Ir):Tr(Hr,!1)},!0)}d(rr,Ga)};g(za,rr=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="searchapi")?rr(nr):rr(yr,!1)},!0)}d(Da,pa)};g(Ta,Da=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="tavily")?Da(ur):Da(qa,!1)},!0)}d(Xt,ya)};g(Ut,Xt=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="serply")?Xt(ot):Xt($t,!1)},!0)}d(Je,dt)};g(ea,Je=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="serper")?Je(ga):Je(Ra,!1)},!0)}d(kt,_a)};g(qe,kt=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="serpstack")?kt(xt):kt(Bt,!1)},!0)}d(it,Xe)};g(X,it=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="bocha")?it(ge):it(st,!1)},!0)}d(ht,he)};g(rt,ht=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="mojeek")?ht(Pt):ht(yt,!1)},!0)}d(ke,De)};g(me,ke=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="kagi")?ke(_t):ke(Me,!1)},!0)}d(Te,j)};g(w,Te=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="brave")?Te(P):Te(oe,!1)},!0)}d(Re,E)};g(Y,Re=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="google_pse")?Re(O):Re(ce,!1)},!0)}d(ae,b)};g(z,ae=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="yacy")?ae(pe):ae(de,!1)},!0)}d($e,B)};g(ie,$e=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="searxng")?$e(He):$e(Pe,!1)},!0)}d(C,H)};g(Le,C=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="perplexity_search")?C(Ae):C(Be,!1)},!0)}d(Oe,Ue)};g(ft,Oe=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="ollama_cloud")?Oe(Et):Oe(re,!1)})}var ne=l(ft,2);{var Se=Oe=>{var Ue=s_(),Le=a(Ue),Ae=a(Le),Be=a(Ae,!0);t(Ae);var C=l(Ae,2),H=a(C),ie=a(H);u(()=>{e(v),Pa(()=>{r()})});var He=a(ie),Pe=a(He,!0);t(He),He.value=He.__value="auto";var $e=l(He),B=a($e,!0);t($e),$e.value=$e.__value="bing";var z=l($e),pe=a(z,!0);t(z),z.value=z.__value="brave";var de=l(z),ae=a(de,!0);t(de),de.value=de.__value="duckduckgo";var b=l(de),Y=a(b,!0);t(b),b.value=b.__value="google";var O=l(b),ce=a(O,!0);t(O),O.value=O.__value="grokipedia";var Re=l(O),E=a(Re,!0);t(Re),Re.value=Re.__value="mojeek";var w=l(Re),P=a(w,!0);t(w),w.value=w.__value="wikipedia";var oe=l(w),Te=a(oe,!0);t(oe),oe.value=oe.__value="yahoo";var j=l(oe),me=a(j,!0);t(j),j.value=j.__value="yandex",t(ie),t(H),t(C),t(Le),t(Ue),u((_t,Me,ke,De,rt,Pt,yt,ht,he,X,ge)=>{s(Be,_t),s(Pe,Me),s(B,ke),s(pe,De),s(ae,rt),s(Y,Pt),s(ce,yt),s(E,ht),s(P,he),s(Te,X),s(me,ge)},[()=>(r(),i(()=>r().t("DDGS Backend"))),()=>(r(),i(()=>r().t("Auto (Random)"))),()=>(r(),i(()=>r().t("Bing"))),()=>(r(),i(()=>r().t("Brave"))),()=>(r(),i(()=>r().t("DuckDuckGo"))),()=>(r(),i(()=>r().t("Google"))),()=>(r(),i(()=>r().t("Grokipedia"))),()=>(r(),i(()=>r().t("Mojeek"))),()=>(r(),i(()=>r().t("Wikipedia"))),()=>(r(),i(()=>r().t("Yahoo"))),()=>(r(),i(()=>r().t("Yandex")))]),or(ie,()=>e(v).DDGS_BACKEND,_t=>m(v,e(v).DDGS_BACKEND=_t)),d(Oe,Ue)};g(ne,Oe=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE==="duckduckgo")&&Oe(Se)})}d(Z,at)};g(We,Z=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE!=="")&&Z(_e)})}var R=l(We,2);{var F=Z=>{var at=d_(),ft=L(at),Et=a(ft),re=a(Et),ne=a(re),Se=a(ne,!0);t(ne);var Oe=l(ne,2);Q(Oe),t(re);var Ue=l(re,2),Le=a(Ue),Ae=a(Le);{let Pe=I(()=>(r(),i(()=>r().t("Limit concurrent search queries. 0 = unlimited (default). Set to 1 for sequential execution (recommended for APIs with strict rate limits like Brave free tier)."))));lt(Ae,{get content(){return e(Pe)},placement:"top-start",children:($e,B)=>{Dr();var z=cr();u(pe=>s(z,pe),[()=>(r(),i(()=>r().t("Concurrent Requests")))]),d($e,z)},$$slots:{default:!0}})}t(Le);var Be=l(Le,2);Q(Be),t(Ue),t(Et),t(ft);var C=l(ft,2),H=a(C),ie=a(H,!0);t(H);var He=l(H,2);Q(He),t(C),u((Pe,$e,B,z,pe)=>{s(Se,Pe),T(Oe,"placeholder",$e),T(Be,"placeholder",B),s(ie,z),T(He,"placeholder",pe)},[()=>(r(),i(()=>r().t("Search Result Count"))),()=>(r(),i(()=>r().t("Search Result Count"))),()=>(r(),i(()=>r().t("Concurrent Requests"))),()=>(r(),i(()=>r().t("Domain Filter List"))),()=>(r(),i(()=>r().t("Enter domains separated by commas (e.g., example.com,site.org,!excludedsite.com)")))]),J(Oe,()=>e(v).WEB_SEARCH_RESULT_COUNT,Pe=>m(v,e(v).WEB_SEARCH_RESULT_COUNT=Pe)),J(Be,()=>e(v).WEB_SEARCH_CONCURRENT_REQUESTS,Pe=>m(v,e(v).WEB_SEARCH_CONCURRENT_REQUESTS=Pe)),J(He,()=>e(v).WEB_SEARCH_DOMAIN_FILTER_LIST,Pe=>m(v,e(v).WEB_SEARCH_DOMAIN_FILTER_LIST=Pe)),d(Z,at)};g(R,Z=>{e(v),i(()=>e(v).ENABLE_WEB_SEARCH)&&Z(F)})}var Fe=l(R,2),mt=a(Fe),Ot=a(mt);{let Z=I(()=>(r(),i(()=>r().t("Full Context Mode"))));lt(Ot,{get content(){return e(Z)},placement:"top-start",children:(at,ft)=>{Dr();var Et=cr();u(re=>s(Et,re),[()=>(r(),i(()=>r().t("Bypass Embedding and Retrieval")))]),d(at,Et)},$$slots:{default:!0}})}t(mt);var bt=l(mt,2),fa=a(bt);{let Z=I(()=>(e(v),r(),i(()=>e(v).BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL?r().t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):r().t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."))));lt(fa,{get content(){return e(Z)},children:(at,ft)=>{ta(at,{get state(){return e(v).BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL},set state(Et){m(v,e(v).BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL=Et)},$$legacy:!0})},$$slots:{default:!0}})}t(bt),t(Fe);var zt=l(Fe,2),ca=a(zt),ua=a(ca);{let Z=I(()=>(r(),i(()=>r().t("Bypass Web Loader"))));lt(ua,{get content(){return e(Z)},placement:"top-start",children:(at,ft)=>{Dr();var Et=cr();u(re=>s(Et,re),[()=>(r(),i(()=>r().t("Bypass Web Loader")))]),d(at,Et)},$$slots:{default:!0}})}t(ca);var Jt=l(ca,2),aa=a(Jt);lt(aa,{content:"",children:(Z,at)=>{ta(Z,{get state(){return e(v).BYPASS_WEB_SEARCH_WEB_LOADER},set state(ft){m(v,e(v).BYPASS_WEB_SEARCH_WEB_LOADER=ft)},$$legacy:!0})},$$slots:{default:!0}}),t(Jt),t(zt);var be=l(zt,2),Ye=a(be),vt=a(Ye,!0);t(Ye);var nt=l(Ye,2),Ge=a(nt);{let Z=I(()=>(e(v),r(),i(()=>e(v).WEB_SEARCH_TRUST_ENV?r().t("Use proxy designated by http_proxy and https_proxy environment variables to fetch page contents."):r().t("Use no proxy to fetch page contents."))));lt(Ge,{get content(){return e(Z)},children:(at,ft)=>{ta(at,{get state(){return e(v).WEB_SEARCH_TRUST_ENV},set state(Et){m(v,e(v).WEB_SEARCH_TRUST_ENV=Et)},$$legacy:!0})},$$slots:{default:!0}})}t(nt),t(be),t(Ee);var ze=l(Ee,2),tt=a(ze),ut=a(tt,!0);t(tt);var et=l(tt,4),Lt=a(et),Nt=a(Lt,!0);t(Lt);var qt=l(Lt,2),ct=a(qt);u(()=>{e(v),Pa(()=>{r()})});var Qt=a(ct),wa=a(Qt,!0);t(Qt),Qt.value=Qt.__value="";var Ua=l(Qt);Za(Ua,1,()=>we,dr,(Z,at)=>{var ft=o_(),Et=a(ft,!0);t(ft);var re={};u(()=>{s(Et,e(at)),re!==(re=e(at))&&(ft.value=(ft.__value=e(at))??"")}),d(Z,ft)}),t(ct),t(qt),t(et);var na=l(et,2);{var Wt=Z=>{var at=n_(),ft=L(at),Et=a(ft),re=a(Et,!0);t(Et);var ne=l(Et,2),Se=a(ne);Q(Se),t(ne),t(ft);var Oe=l(ft,2),Ue=a(Oe),Le=a(Ue,!0);t(Ue);var Ae=l(Ue,2),Be=a(Ae);ta(Be,{get state(){return e(v).ENABLE_WEB_LOADER_SSL_VERIFICATION},set state(C){m(v,e(v).ENABLE_WEB_LOADER_SSL_VERIFICATION=C)},$$legacy:!0}),t(Ae),t(Oe),u((C,H,ie)=>{s(re,C),T(Se,"placeholder",H),s(Le,ie)},[()=>(r(),i(()=>r().t("Timeout"))),()=>(r(),i(()=>r().t("Timeout"))),()=>(r(),i(()=>r().t("Verify SSL Certificate")))]),J(Se,()=>e(v).WEB_LOADER_TIMEOUT,C=>m(v,e(v).WEB_LOADER_TIMEOUT=C)),d(Z,at)},St=Z=>{var at=Qe(),ft=L(at);{var Et=ne=>{var Se=c_(),Oe=a(Se),Ue=a(Oe),Le=a(Ue,!0);t(Ue);var Ae=l(Ue,2),Be=a(Ae),C=a(Be);Q(C),t(Be),t(Ae),t(Oe);var H=l(Oe,2),ie=a(H),He=a(ie,!0);t(ie);var Pe=l(ie,2),$e=a(Pe),B=a($e);Q(B),t($e),t(Pe),t(H),t(Se),u((z,pe,de,ae)=>{s(Le,z),T(C,"placeholder",pe),s(He,de),T(B,"placeholder",ae)},[()=>(r(),i(()=>r().t("Playwright WebSocket URL"))),()=>(r(),i(()=>r().t("Enter Playwright WebSocket URL"))),()=>(r(),i(()=>r().t("Playwright Timeout (ms)"))),()=>(r(),i(()=>r().t("Enter Playwright Timeout")))]),J(C,()=>e(v).PLAYWRIGHT_WS_URL,z=>m(v,e(v).PLAYWRIGHT_WS_URL=z)),J(B,()=>e(v).PLAYWRIGHT_TIMEOUT,z=>m(v,e(v).PLAYWRIGHT_TIMEOUT=z)),d(ne,Se)},re=ne=>{var Se=Qe(),Oe=L(Se);{var Ue=Ae=>{var Be=u_(),C=a(Be),H=a(C),ie=a(H,!0);t(H);var He=l(H,2),Pe=a(He),$e=a(Pe);Q($e),t(Pe),t(He),t(C);var B=l(C,2),z=a(B),pe=a(z,!0);t(z);var de=l(z,2);{let ae=I(()=>(r(),i(()=>r().t("Enter Firecrawl API Key"))));va(de,{get placeholder(){return e(ae)},get value(){return e(v).FIRECRAWL_API_KEY},set value(b){m(v,e(v).FIRECRAWL_API_KEY=b)},$$legacy:!0})}t(B),t(Be),u((ae,b,Y)=>{s(ie,ae),T($e,"placeholder",b),s(pe,Y)},[()=>(r(),i(()=>r().t("Firecrawl API Base URL"))),()=>(r(),i(()=>r().t("Enter Firecrawl API Base URL"))),()=>(r(),i(()=>r().t("Firecrawl API Key")))]),J($e,()=>e(v).FIRECRAWL_API_BASE_URL,ae=>m(v,e(v).FIRECRAWL_API_BASE_URL=ae)),d(Ae,Be)},Le=Ae=>{var Be=Qe(),C=L(Be);{var H=He=>{var Pe=f_(),$e=a(Pe),B=a($e),z=a(B,!0);t(B);var pe=l(B,2),de=a(pe),ae=a(de);Q(ae),t(de),t(pe),t($e);var b=l($e,2);{var Y=O=>{var ce=__(),Re=a(ce),E=a(Re,!0);t(Re);var w=l(Re,2);{let P=I(()=>(r(),i(()=>r().t("Enter Tavily API Key"))));va(w,{get placeholder(){return e(P)},get value(){return e(v).TAVILY_API_KEY},set value(oe){m(v,e(v).TAVILY_API_KEY=oe)},$$legacy:!0})}t(ce),u(P=>s(E,P),[()=>(r(),i(()=>r().t("Tavily API Key")))]),d(O,ce)};g(b,O=>{e(v),i(()=>e(v).WEB_SEARCH_ENGINE!=="tavily")&&O(Y)})}t(Pe),u((O,ce)=>{s(z,O),T(ae,"placeholder",ce)},[()=>(r(),i(()=>r().t("Tavily Extract Depth"))),()=>(r(),i(()=>r().t("Enter Tavily Extract Depth")))]),J(ae,()=>e(v).TAVILY_EXTRACT_DEPTH,O=>m(v,e(v).TAVILY_EXTRACT_DEPTH=O)),d(He,Pe)},ie=He=>{var Pe=Qe(),$e=L(Pe);{var B=z=>{var pe=p_(),de=a(pe),ae=a(de),b=a(ae,!0);t(ae);var Y=l(ae,2),O=a(Y),ce=a(O);Q(ce),t(O),t(Y),t(de);var Re=l(de,2),E=a(Re),w=a(E,!0);t(E);var P=l(E,2);{let oe=I(()=>(r(),i(()=>r().t("Enter External Web Loader API Key"))));va(P,{get placeholder(){return e(oe)},get value(){return e(v).EXTERNAL_WEB_LOADER_API_KEY},set value(Te){m(v,e(v).EXTERNAL_WEB_LOADER_API_KEY=Te)},$$legacy:!0})}t(Re),t(pe),u((oe,Te,j)=>{s(b,oe),T(ce,"placeholder",Te),s(w,j)},[()=>(r(),i(()=>r().t("External Web Loader URL"))),()=>(r(),i(()=>r().t("Enter External Web Loader URL"))),()=>(r(),i(()=>r().t("External Web Loader API Key")))]),J(ce,()=>e(v).EXTERNAL_WEB_LOADER_URL,oe=>m(v,e(v).EXTERNAL_WEB_LOADER_URL=oe)),d(z,pe)};g($e,z=>{e(v),i(()=>e(v).WEB_LOADER_ENGINE==="external")&&z(B)},!0)}d(He,Pe)};g(C,He=>{e(v),i(()=>e(v).WEB_LOADER_ENGINE==="tavily")?He(H):He(ie,!1)},!0)}d(Ae,Be)};g(Oe,Ae=>{e(v),i(()=>e(v).WEB_LOADER_ENGINE==="firecrawl"&&e(v).WEB_SEARCH_ENGINE!=="firecrawl")?Ae(Ue):Ae(Le,!1)},!0)}d(ne,Se)};g(ft,ne=>{e(v),i(()=>e(v).WEB_LOADER_ENGINE==="playwright")?ne(Et):ne(re,!1)},!0)}d(Z,at)};g(na,Z=>{e(v),i(()=>e(v).WEB_LOADER_ENGINE===""||e(v).WEB_LOADER_ENGINE==="safe_web")?Z(Wt):Z(St,!1)})}var ia=l(na,2),At=a(ia),Ce=a(At,!0);t(At);var Ct=l(At,2);Q(Ct),t(ia);var Ht=l(ia,2),da=a(Ht),$a=a(da,!0);t(da);var ha=l(da,2),Ft=a(ha);Q(Ft),t(ha),t(Ht);var jt=l(Ht,2),gt=a(jt),Vt=a(gt,!0);t(gt);var Yt=l(gt,2),Ze=a(Yt);Q(Ze),t(Yt),t(jt),t(ze),t(Ie),u((Z,at,ft,Et,re,ne,Se,Oe,Ue,Le,Ae,Be,C,H,ie,He)=>{s(n,Z),s(ye,at),s(D,ft),T(se,"placeholder",Et),s(N,re),s(vt,ne),s(ut,Se),s(Nt,Oe),T(ct,"placeholder",Ue),s(wa,Le),s(Ce,Ae),T(Ct,"placeholder",Be),s($a,C),T(Ft,"placeholder",H),s(Vt,ie),T(Ze,"placeholder",He)},[()=>(r(),i(()=>r().t("General"))),()=>(r(),i(()=>r().t("Web Search"))),()=>(r(),i(()=>r().t("Web Search Engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Trust Proxy Environment"))),()=>(r(),i(()=>r().t("Loader"))),()=>(r(),i(()=>r().t("Web Loader Engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Default"))),()=>(r(),i(()=>r().t("Concurrent Requests"))),()=>(r(),i(()=>r().t("Concurrent Requests"))),()=>(r(),i(()=>r().t("Youtube Language"))),()=>(r(),i(()=>r().t("Enter language codes"))),()=>(r(),i(()=>r().t("Youtube Proxy URL"))),()=>(r(),i(()=>r().t("Enter proxy URL (e.g. https://user:password@host:port)")))]),or(se,()=>e(v).WEB_SEARCH_ENGINE,Z=>m(v,e(v).WEB_SEARCH_ENGINE=Z)),or(ct,()=>e(v).WEB_LOADER_ENGINE,Z=>m(v,e(v).WEB_LOADER_ENGINE=Z)),J(Ct,()=>e(v).WEB_LOADER_CONCURRENT_REQUESTS,Z=>m(v,e(v).WEB_LOADER_CONCURRENT_REQUESTS=Z)),J(Ft,()=>e(v).YOUTUBE_LOADER_LANGUAGE,Z=>m(v,e(v).YOUTUBE_LOADER_LANGUAGE=Z)),J(Ze,()=>e(v).YOUTUBE_LOADER_PROXY_URL,Z=>m(v,e(v).YOUTUBE_LOADER_PROXY_URL=Z)),d(te,Ie)};g(U,te=>{e(v)&&te(y)})}t($);var A=l($,2),G=a(A),K=a(G,!0);t(G),t(A),t(S),u(te=>s(K,te),[()=>(r(),i(()=>r().t("Save")))]),Ve("submit",S,il(async()=>{await o(),Ke()()})),d(It,S),wr(),p()}var E_=_('<button class="p-1" type="button"><!></button>'),y_=_('<div class=" text-center text-xs text-gray-500"> </div>'),h_=_('<div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium flex justify-between items-center"><div> </div> <div><!></div></div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="flex flex-col gap-2"><!></div></div>'),b_=_('<div><div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5 flex w-full justify-between"><div class=" text-xs font-medium"> </div> <!></div></div> <!></div>'),A_=_('<div class="flex h-full justify-center"><div class="my-auto"><!></div></div>'),w_=_('<!> <form class="flex flex-col h-full justify-between text-sm"><div class="overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>',1);function I_(It,ee){br(ee,!1);const r=()=>la(v,"$i18n",Ke),f=()=>la(Jr,"$config",Ke),p=()=>la(xl,"$settings",Ke),Gt=()=>la(Nl,"$user",Ke),[Ke,h]=Nr(),we=cl(),v=Ar("i18n");let o=k(null),S=k(!1);const $=async()=>{var V,ue,M;c(o,await pv(localStorage.token,e(o)).catch(x=>(fe.error(x),null))),e(o)&&(fe.success(r().t("Settings saved successfully!")),Wr.set(await al(localStorage.token,((ue=(V=f())==null?void 0:V.features)==null?void 0:ue.enable_direct_connections)&&(((M=p())==null?void 0:M.directConnections)??null))))},U=async V=>{var ue,M,x;e(o).EVALUATION_ARENA_MODELS.push(V),m(o,e(o).EVALUATION_ARENA_MODELS=[...e(o).EVALUATION_ARENA_MODELS]),await $(),Wr.set(await al(localStorage.token,((M=(ue=f())==null?void 0:ue.features)==null?void 0:M.enable_direct_connections)&&(((x=p())==null?void 0:x.directConnections)??null)))},y=async(V,ue)=>{var M,x,D;m(o,e(o).EVALUATION_ARENA_MODELS[ue]=V),m(o,e(o).EVALUATION_ARENA_MODELS=[...e(o).EVALUATION_ARENA_MODELS]),await $(),Wr.set(await al(localStorage.token,((x=(M=f())==null?void 0:M.features)==null?void 0:x.enable_direct_connections)&&(((D=p())==null?void 0:D.directConnections)??null)))},A=async V=>{var ue,M,x;m(o,e(o).EVALUATION_ARENA_MODELS=e(o).EVALUATION_ARENA_MODELS.filter((D,le)=>le!==V)),await $(),Wr.set(await al(localStorage.token,((M=(ue=f())==null?void 0:ue.features)==null?void 0:M.enable_direct_connections)&&(((x=p())==null?void 0:x.directConnections)??null)))};rl(async()=>{var V;((V=Gt())==null?void 0:V.role)==="admin"&&c(o,await fv(localStorage.token).catch(ue=>(fe.error(ue),null)))}),Rr();var G=w_(),K=L(G);Oi(K,{get show(){return e(S)},set show(V){c(S,V)},$$events:{submit:async V=>{U(V.detail)}},$$legacy:!0});var te=l(K,2),Ie=a(te),Ee=a(Ie);{var Ne=V=>{var ue=b_(),M=a(ue),x=a(M),D=a(x,!0);t(x);var le=l(x,4),se=a(le),ve=a(se,!0);t(se);var N=l(se,2);{let _e=I(()=>r().t("Message rating should be enabled to use this feature"));lt(N,{get content(){return e(_e)},children:(R,F)=>{ta(R,{get state(){return e(o).ENABLE_EVALUATION_ARENA_MODELS},set state(Fe){m(o,e(o).ENABLE_EVALUATION_ARENA_MODELS=Fe)},$$legacy:!0})},$$slots:{default:!0}})}t(le),t(M);var xe=l(M,2);{var We=_e=>{var R=h_(),F=a(R),Fe=a(F),mt=a(Fe,!0);t(Fe);var Ot=l(Fe,2),bt=a(Ot);{let Jt=I(()=>r().t("Add Arena Model"));lt(bt,{get content(){return e(Jt)},children:(aa,be)=>{var Ye=E_(),vt=a(Ye);Ul(vt,{}),t(Ye),Ve("click",Ye,()=>{c(S,!0)}),d(aa,Ye)},$$slots:{default:!0}})}t(Ot),t(F);var fa=l(F,4),zt=a(fa);{var ca=Jt=>{var aa=Qe(),be=L(aa);Za(be,1,()=>e(o).EVALUATION_ARENA_MODELS,dr,(Ye,vt,nt)=>{nn(Ye,{get model(){return e(vt)},$$events:{edit:Ge=>{y(Ge.detail,nt)},delete:Ge=>{A(nt)}}})}),d(Jt,aa)},ua=Jt=>{var aa=y_(),be=a(aa,!0);t(aa),u(Ye=>s(be,Ye),[()=>r().t("Using the default arena model with all models. Click the plus button to add custom models.")]),d(Jt,aa)};g(zt,Jt=>{var aa;(((aa=e(o))==null?void 0:aa.EVALUATION_ARENA_MODELS)??[]).length>0?Jt(ca):Jt(ua,!1)})}t(fa),t(R),u(Jt=>s(mt,Jt),[()=>r().t("Manage")]),d(_e,R)};g(xe,_e=>{e(o).ENABLE_EVALUATION_ARENA_MODELS&&_e(We)})}t(ue),u((_e,R)=>{s(D,_e),s(ve,R)},[()=>r().t("General"),()=>r().t("Arena Models")]),d(V,ue)},n=V=>{var ue=A_(),M=a(ue),x=a(M);Qr(x,{className:"size-6"}),t(M),t(ue),d(V,ue)};g(Ee,V=>{e(o)!==null?V(Ne):V(n,!1)})}t(Ie);var q=l(Ie,2),W=a(q),ye=a(W,!0);t(W),t(q),t(te),u(V=>s(ye,V),[()=>r().t("Save")]),Ve("submit",te,il(()=>{$(),we("save")})),d(It,G),wr(),h()}var $_=_("<option> </option>"),R_=_('<div class="text-gray-500 text-xs"> </div>'),N_=_('<div class="flex w-full gap-2"><div class="flex-1"><!></div></div>'),T_=_('<input class="dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right" type="number" autocomplete="off"/>'),S_=_('<div class="mb-2.5 flex flex-col gap-1.5 w-full"><div class="text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mb-2.5 flex flex-col gap-1.5 w-full"><div class=" flex gap-2 w-full items-center justify-between"><div class="text-xs font-medium"> </div> <div><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left"><option selected> </option><option> </option><option> </option></select></div></div> <!></div> <div class="flex gap-2 w-full items-center justify-between"><div class="text-xs font-medium"> </div> <div><!></div></div>',1),k_=_("<option> </option>"),O_=_('<div class="text-gray-500 text-xs"> </div>'),L_=_('<div class="flex w-full gap-2"><div class="flex-1"><!></div></div>'),P_=_('<input class="dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right" type="number" autocomplete="off"/>'),M_=_('<div class="mb-2.5 flex flex-col gap-1.5 w-full"><div class="text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mb-2.5 flex flex-col gap-1.5 w-full"><div class="flex gap-2 w-full items-center justify-between"><div class="text-xs font-medium"> </div> <div><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left"><option selected> </option><option> </option><option> </option></select></div></div> <!></div> <div class="flex gap-2 w-full items-center justify-between"><div class="text-xs font-medium"> </div> <div><!></div></div>',1),C_=_('<div class="mb-2.5"><div class="  flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right" required><option disabled selected> </option><!></select></div></div> <!></div> <!> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class="py-0.5 w-full"><div class=" mb-2.5 text-xs font-medium"> </div> <!></div></div>',1),U_=_('<div><div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class=" flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div></div> <div class="mb-2.5"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right" required><option disabled selected> </option><!></select></div></div> <!></div> <!></div> <div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class=" flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div></div> <!></div></div>'),D_=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class=" space-y-3 overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>');function G_(It,ee){br(ee,!1);const r=()=>la(Gt,"$i18n",f),[f,p]=Nr(),Gt=Ar("i18n");let Ke=oa(ee,"saveHandler",8),h=k(null),we=["pyodide","jupyter"];const v=async()=>{await gs(localStorage.token,e(h))};rl(async()=>{const K=await ms(localStorage.token);K&&c(h,K)}),Rr();var o=D_(),S=a(o),$=a(S);{var U=K=>{var te=U_(),Ie=a(te),Ee=a(Ie),Ne=a(Ee,!0);t(Ee);var n=l(Ee,4),q=a(n),W=a(q),ye=a(W,!0);t(W);var V=l(W,2);ta(V,{get state(){return e(h).ENABLE_CODE_EXECUTION},set state(be){m(h,e(h).ENABLE_CODE_EXECUTION=be)},$$legacy:!0}),t(q),t(n);var ue=l(n,2),M=a(ue),x=a(M),D=a(x,!0);t(x);var le=l(x,2),se=a(le);u(()=>{e(h),Pa(()=>{r()})});var ve=a(se),N=a(ve,!0);t(ve),ve.value=ve.__value="";var xe=l(ve);Za(xe,1,()=>we,dr,(be,Ye)=>{var vt=$_(),nt=a(vt,!0);t(vt);var Ge={};u(()=>{s(nt,e(Ye)),Ge!==(Ge=e(Ye))&&(vt.value=(vt.__value=e(Ye))??"")}),d(be,vt)}),t(se),t(le),t(M);var We=l(M,2);{var _e=be=>{var Ye=R_(),vt=a(Ye,!0);t(Ye),u(nt=>s(vt,nt),[()=>(r(),i(()=>r().t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")))]),d(be,Ye)};g(We,be=>{e(h),i(()=>e(h).CODE_EXECUTION_ENGINE==="jupyter")&&be(_e)})}t(ue);var R=l(ue,2);{var F=be=>{var Ye=S_(),vt=L(Ye),nt=a(vt),Ge=a(nt,!0);t(nt);var ze=l(nt,2),tt=a(ze),ut=a(tt);Q(ut),t(tt),t(ze),t(vt);var et=l(vt,2),Lt=a(et),Nt=a(Lt),qt=a(Nt,!0);t(Nt);var ct=l(Nt,2),Qt=a(ct);u(()=>{e(h),Pa(()=>{r()})});var wa=a(Qt),Ua=a(wa,!0);t(wa),wa.value=wa.__value="";var na=l(wa),Wt=a(na,!0);t(na),na.value=na.__value="token";var St=l(na),ia=a(St,!0);t(St),St.value=St.__value="password",t(Qt),t(ct),t(Lt);var At=l(Lt,2);{var Ce=Ft=>{var jt=N_(),gt=a(jt),Vt=a(gt);{var Yt=Z=>{{let at=I(()=>(r(),i(()=>r().t("Enter Jupyter Password"))));va(Z,{type:"text",get placeholder(){return e(at)},autocomplete:"off",get value(){return e(h).CODE_EXECUTION_JUPYTER_AUTH_PASSWORD},set value(ft){m(h,e(h).CODE_EXECUTION_JUPYTER_AUTH_PASSWORD=ft)},$$legacy:!0})}},Ze=Z=>{{let at=I(()=>(r(),i(()=>r().t("Enter Jupyter Token"))));va(Z,{type:"text",get placeholder(){return e(at)},autocomplete:"off",get value(){return e(h).CODE_EXECUTION_JUPYTER_AUTH_TOKEN},set value(ft){m(h,e(h).CODE_EXECUTION_JUPYTER_AUTH_TOKEN=ft)},$$legacy:!0})}};g(Vt,Z=>{e(h),i(()=>e(h).CODE_EXECUTION_JUPYTER_AUTH==="password")?Z(Yt):Z(Ze,!1)})}t(gt),t(jt),d(Ft,jt)};g(At,Ft=>{e(h),i(()=>e(h).CODE_EXECUTION_JUPYTER_AUTH)&&Ft(Ce)})}t(et);var Ct=l(et,2),Ht=a(Ct),da=a(Ht,!0);t(Ht);var $a=l(Ht,2),ha=a($a);{let Ft=I(()=>(r(),i(()=>r().t("Enter timeout in seconds"))));lt(ha,{get content(){return e(Ft)},children:(jt,gt)=>{var Vt=T_();Q(Vt),u(Yt=>T(Vt,"placeholder",Yt),[()=>(r(),i(()=>r().t("e.g. 60")))]),J(Vt,()=>e(h).CODE_EXECUTION_JUPYTER_TIMEOUT,Yt=>m(h,e(h).CODE_EXECUTION_JUPYTER_TIMEOUT=Yt)),d(jt,Vt)},$$slots:{default:!0}})}t($a),t(Ct),u((Ft,jt,gt,Vt,Yt,Ze,Z,at)=>{s(Ge,Ft),T(ut,"placeholder",jt),s(qt,gt),T(Qt,"placeholder",Vt),s(Ua,Yt),s(Wt,Ze),s(ia,Z),s(da,at)},[()=>(r(),i(()=>r().t("Jupyter URL"))),()=>(r(),i(()=>r().t("Enter Jupyter URL"))),()=>(r(),i(()=>r().t("Jupyter Auth"))),()=>(r(),i(()=>r().t("Select an auth method"))),()=>(r(),i(()=>r().t("None"))),()=>(r(),i(()=>r().t("Token"))),()=>(r(),i(()=>r().t("Password"))),()=>(r(),i(()=>r().t("Code Execution Timeout")))]),J(ut,()=>e(h).CODE_EXECUTION_JUPYTER_URL,Ft=>m(h,e(h).CODE_EXECUTION_JUPYTER_URL=Ft)),or(Qt,()=>e(h).CODE_EXECUTION_JUPYTER_AUTH,Ft=>m(h,e(h).CODE_EXECUTION_JUPYTER_AUTH=Ft)),d(be,Ye)};g(R,be=>{e(h),i(()=>e(h).CODE_EXECUTION_ENGINE==="jupyter")&&be(F)})}t(Ie);var Fe=l(Ie,2),mt=a(Fe),Ot=a(mt,!0);t(mt);var bt=l(mt,4),fa=a(bt),zt=a(fa),ca=a(zt,!0);t(zt);var ua=l(zt,2);ta(ua,{get state(){return e(h).ENABLE_CODE_INTERPRETER},set state(be){m(h,e(h).ENABLE_CODE_INTERPRETER=be)},$$legacy:!0}),t(fa),t(bt);var Jt=l(bt,2);{var aa=be=>{var Ye=C_(),vt=L(Ye),nt=a(vt),Ge=a(nt),ze=a(Ge,!0);t(Ge);var tt=l(Ge,2),ut=a(tt);u(()=>{e(h),Pa(()=>{r()})});var et=a(ut),Lt=a(et,!0);t(et),et.value=et.__value="";var Nt=l(et);Za(Nt,1,()=>we,dr,(At,Ce)=>{var Ct=k_(),Ht=a(Ct,!0);t(Ct);var da={};u(()=>{s(Ht,e(Ce)),da!==(da=e(Ce))&&(Ct.value=(Ct.__value=e(Ce))??"")}),d(At,Ct)}),t(ut),t(tt),t(nt);var qt=l(nt,2);{var ct=At=>{var Ce=O_(),Ct=a(Ce,!0);t(Ce),u(Ht=>s(Ct,Ht),[()=>(r(),i(()=>r().t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")))]),d(At,Ce)};g(qt,At=>{e(h),i(()=>e(h).CODE_INTERPRETER_ENGINE==="jupyter")&&At(ct)})}t(vt);var Qt=l(vt,2);{var wa=At=>{var Ce=M_(),Ct=L(Ce),Ht=a(Ct),da=a(Ht,!0);t(Ht);var $a=l(Ht,2),ha=a($a),Ft=a(ha);Q(Ft),t(ha),t($a),t(Ct);var jt=l(Ct,2),gt=a(jt),Vt=a(gt),Yt=a(Vt,!0);t(Vt);var Ze=l(Vt,2),Z=a(Ze);u(()=>{e(h),Pa(()=>{r()})});var at=a(Z),ft=a(at,!0);t(at),at.value=at.__value="";var Et=l(at),re=a(Et,!0);t(Et),Et.value=Et.__value="token";var ne=l(Et),Se=a(ne,!0);t(ne),ne.value=ne.__value="password",t(Z),t(Ze),t(gt);var Oe=l(gt,2);{var Ue=ie=>{var He=L_(),Pe=a(He),$e=a(Pe);{var B=pe=>{{let de=I(()=>(r(),i(()=>r().t("Enter Jupyter Password"))));va(pe,{type:"text",get placeholder(){return e(de)},autocomplete:"off",get value(){return e(h).CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD},set value(ae){m(h,e(h).CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD=ae)},$$legacy:!0})}},z=pe=>{{let de=I(()=>(r(),i(()=>r().t("Enter Jupyter Token"))));va(pe,{type:"text",get placeholder(){return e(de)},autocomplete:"off",get value(){return e(h).CODE_INTERPRETER_JUPYTER_AUTH_TOKEN},set value(ae){m(h,e(h).CODE_INTERPRETER_JUPYTER_AUTH_TOKEN=ae)},$$legacy:!0})}};g($e,pe=>{e(h),i(()=>e(h).CODE_INTERPRETER_JUPYTER_AUTH==="password")?pe(B):pe(z,!1)})}t(Pe),t(He),d(ie,He)};g(Oe,ie=>{e(h),i(()=>e(h).CODE_INTERPRETER_JUPYTER_AUTH)&&ie(Ue)})}t(jt);var Le=l(jt,2),Ae=a(Le),Be=a(Ae,!0);t(Ae);var C=l(Ae,2),H=a(C);{let ie=I(()=>(r(),i(()=>r().t("Enter timeout in seconds"))));lt(H,{get content(){return e(ie)},children:(He,Pe)=>{var $e=P_();Q($e),u(B=>T($e,"placeholder",B),[()=>(r(),i(()=>r().t("e.g. 60")))]),J($e,()=>e(h).CODE_INTERPRETER_JUPYTER_TIMEOUT,B=>m(h,e(h).CODE_INTERPRETER_JUPYTER_TIMEOUT=B)),d(He,$e)},$$slots:{default:!0}})}t(C),t(Le),u((ie,He,Pe,$e,B,z,pe,de)=>{s(da,ie),T(Ft,"placeholder",He),s(Yt,Pe),T(Z,"placeholder",$e),s(ft,B),s(re,z),s(Se,pe),s(Be,de)},[()=>(r(),i(()=>r().t("Jupyter URL"))),()=>(r(),i(()=>r().t("Enter Jupyter URL"))),()=>(r(),i(()=>r().t("Jupyter Auth"))),()=>(r(),i(()=>r().t("Select an auth method"))),()=>(r(),i(()=>r().t("None"))),()=>(r(),i(()=>r().t("Token"))),()=>(r(),i(()=>r().t("Password"))),()=>(r(),i(()=>r().t("Code Execution Timeout")))]),J(Ft,()=>e(h).CODE_INTERPRETER_JUPYTER_URL,ie=>m(h,e(h).CODE_INTERPRETER_JUPYTER_URL=ie)),or(Z,()=>e(h).CODE_INTERPRETER_JUPYTER_AUTH,ie=>m(h,e(h).CODE_INTERPRETER_JUPYTER_AUTH=ie)),d(At,Ce)};g(Qt,At=>{e(h),i(()=>e(h).CODE_INTERPRETER_ENGINE==="jupyter")&&At(wa)})}var Ua=l(Qt,4),na=a(Ua),Wt=a(na),St=a(Wt,!0);t(Wt);var ia=l(Wt,2);{let At=I(()=>(r(),i(()=>r().t("Leave empty to use the default prompt, or enter a custom prompt"))));lt(ia,{get content(){return e(At)},placement:"top-start",children:(Ce,Ct)=>{{let Ht=I(()=>(r(),i(()=>r().t("Leave empty to use the default prompt, or enter a custom prompt"))));Zr(Ce,{get placeholder(){return e(Ht)},get value(){return e(h).CODE_INTERPRETER_PROMPT_TEMPLATE},set value(da){m(h,e(h).CODE_INTERPRETER_PROMPT_TEMPLATE=da)},$$legacy:!0})}},$$slots:{default:!0}})}t(na),t(Ua),u((At,Ce,Ct,Ht)=>{s(ze,At),T(ut,"placeholder",Ce),s(Lt,Ct),s(St,Ht)},[()=>(r(),i(()=>r().t("Code Interpreter Engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Code Interpreter Prompt Template")))]),or(ut,()=>e(h).CODE_INTERPRETER_ENGINE,At=>m(h,e(h).CODE_INTERPRETER_ENGINE=At)),d(be,Ye)};g(Jt,be=>{e(h),i(()=>e(h).ENABLE_CODE_INTERPRETER)&&be(aa)})}t(Fe),t(te),u((be,Ye,vt,nt,Ge,ze,tt)=>{s(Ne,be),s(ye,Ye),s(D,vt),T(se,"placeholder",nt),s(N,Ge),s(Ot,ze),s(ca,tt)},[()=>(r(),i(()=>r().t("General"))),()=>(r(),i(()=>r().t("Enable Code Execution"))),()=>(r(),i(()=>r().t("Code Execution Engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Code Interpreter"))),()=>(r(),i(()=>r().t("Enable Code Interpreter")))]),or(se,()=>e(h).CODE_EXECUTION_ENGINE,be=>m(h,e(h).CODE_EXECUTION_ENGINE=be)),d(K,te)};g($,K=>{e(h)&&K(U)})}t(S);var y=l(S,2),A=a(y),G=a(A,!0);t(A),t(y),t(o),u(K=>s(G,K),[()=>(r(),i(()=>r().t("Save")))]),Ve("submit",o,il(async()=>{await v(),Ke()()})),d(It,o),wr(),p()}var B_=_('<button class="px-1" type="button"><!></button>'),H_=_('<div><div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5 flex flex-col w-full justify-between"><div class="flex justify-between items-center mb-0.5"><div class="font-medium"> </div> <!></div> <div class="flex flex-col gap-1"></div> <div class="my-1.5"><div class="text-xs text-gray-500"> </div></div></div></div></div>'),j_=_('<div class="flex h-full justify-center"><div class="my-auto"><!></div></div>'),K_=_('<!> <form class="flex flex-col h-full justify-between text-sm"><div class=" overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>',1);function Y_(It,ee){br(ee,!1);const r=()=>la(Gt,"$i18n",f),[f,p]=Nr();cl();const Gt=Ar("i18n");oa(ee,"saveSettings",8);let Ke=k(null),h=k(!1);const we=async Ee=>{c(Ke,[...e(Ke),Ee]),await v()},v=async()=>{await Es(localStorage.token,{TOOL_SERVER_CONNECTIONS:e(Ke)}).catch(Ne=>(fe.error(r().t("Failed to save connections")),null))&&fe.success(r().t("Connections saved successfully"))};rl(async()=>{const Ee=await xs(localStorage.token);c(Ke,Ee.TOOL_SERVER_CONNECTIONS)}),Rr();var o=K_(),S=L(o);Ks(S,{onSubmit:we,get show(){return e(h)},set show(Ee){c(h,Ee)},$$legacy:!0});var $=l(S,2),U=a($),y=a(U);{var A=Ee=>{var Ne=H_(),n=a(Ne),q=a(n),W=a(q,!0);t(q);var ye=l(q,4),V=a(ye),ue=a(V),M=a(ue,!0);t(ue);var x=l(ue,2);{let N=I(()=>(r(),i(()=>r().t("Add Connection"))));lt(x,{get content(){return e(N)},children:(xe,We)=>{var _e=B_(),R=a(_e);Ul(R,{}),t(_e),Ve("click",_e,()=>{c(h,!0)}),d(xe,_e)},$$slots:{default:!0}})}t(V);var D=l(V,2);Za(D,5,()=>e(Ke),dr,(N,xe,We)=>{Ys(N,{onSubmit:()=>{v()},onDelete:()=>{c(Ke,e(Ke).filter((_e,R)=>R!==We)),v()},get connection(){return e(Ke)[We]},set connection(_e){e(Ke)[We]=_e,Pa(()=>e(Ke))},$$legacy:!0})}),t(D);var le=l(D,2),se=a(le),ve=a(se,!0);t(se),t(le),t(ye),t(n),t(Ne),u((N,xe,We)=>{s(W,N),s(M,xe),s(ve,We)},[()=>(r(),i(()=>r().t("General"))),()=>(r(),i(()=>r().t("Manage Tool Servers"))),()=>(r(),i(()=>r().t("Connect to your own OpenAPI compatible external tool servers.")))]),d(Ee,Ne)},G=Ee=>{var Ne=j_(),n=a(Ne),q=a(n);Qr(q,{className:"size-6"}),t(n),t(Ne),d(Ee,Ne)};g(y,Ee=>{e(Ke)!==null?Ee(A):Ee(G,!1)})}t(U);var K=l(U,2),te=a(K),Ie=a(te,!0);t(te),t(K),t($),u(Ee=>s(Ie,Ee),[()=>(r(),i(()=>r().t("Save")))]),Ve("submit",$,il(()=>{v()})),d(It,o),wr(),p()}var W_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 17.25a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-.75Zm2.25-3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 .75-.75Zm3.75-1.5a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-5.25Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>');function F_(It,ee){let r=oa(ee,"className",8,"size-4");oa(ee,"strokeWidth",8,"1.5");var f=W_();u(()=>qr(f,0,ii(r()))),d(It,f)}var V_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>'),Z_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>'),z_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>'),X_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M12 6.75a5.25 5.25 0 0 1 6.775-5.025.75.75 0 0 1 .313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 0 1 1.248.313 5.25 5.25 0 0 1-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 1 1 2.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0 1 12 6.75ZM4.117 19.125a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z" clip-rule="evenodd"></path></svg>'),J_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>'),q_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>'),Q_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm2.22 1.97a.75.75 0 0 0 0 1.06l.97.97-.97.97a.75.75 0 1 0 1.06 1.06l1.5-1.5a.75.75 0 0 0 0-1.06l-1.5-1.5a.75.75 0 0 0-1.06 0ZM8.75 8.5a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z" clip-rule="evenodd"></path></svg>'),ef=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>'),tf=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>'),af=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>'),rf=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>'),lf=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>'),sf=_('<button><div class=" self-center mr-2"><!></div> <div class=" self-center"> </div></button>'),vf=_('<div class="flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4"><div id="admin-settings-tabs-container" class="tabs mx-[16px] lg:mx-0 lg:px-[16px] flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-50 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"><div class="hidden md:flex w-full rounded-full px-2.5 gap-2 bg-gray-100/80 dark:bg-gray-850/80 backdrop-blur-2xl my-1 -mx-1 mt-1.5" id="settings-search"><div class="self-center rounded-l-xl bg-transparent"><!></div> <label class="sr-only" for="search-input-settings-modal"> </label> <input class="w-full py-1 text-sm bg-transparent dark:text-gray-300 outline-hidden" id="search-input-settings-modal"/></div>       <!></div> <div class="flex-1 mt-3 lg:mt-1 px-[16px] lg:pr-[16px] lg:pl-0 overflow-y-scroll scrollbar-hidden"><!></div></div>');function y1(It,ee){br(ee,!1);const r=()=>la(hi,"$page",p),f=()=>la(Ke,"$i18n",p),[p,Gt]=Nr(),Ke=Ar("i18n");let h=k("general");const we=M=>{const x=document.getElementById(M);x&&x.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})};let v=k(""),o,S=k([]);const $=[{id:"general",title:"General",route:"/admin/settings/general",keywords:["general","admin","settings","version","update","language","theme","data","users","roles","ldap","authentication","reverse proxy","webhook","community","channels"]},{id:"connections",title:"Connections",route:"/admin/settings/connections",keywords:["connections","ollama","openai","api","base url","direct connections","proxy","key"]},{id:"models",title:"Models",route:"/admin/settings/models",keywords:["models","pull","delete","create","edit","modelfile","gguf","import","export"]},{id:"evaluations",title:"Evaluations",route:"/admin/settings/evaluations",keywords:["evaluations","feedback","rating","arena","leaderboard","preference"]},{id:"tools",title:"External Tools",route:"/admin/settings/tools",keywords:["tools","plugins","extensions","functions","openapi","server"]},{id:"documents",title:"Documents",route:"/admin/settings/documents",keywords:["documents","files","rag","knowledge","upload","embedding","vector db","chunk","overlap","splitter","pdf","ocr","tika","docling","unstructured"]},{id:"web",title:"Web Search",route:"/admin/settings/web",keywords:["web search","google","bing","duckduckgo","serp","searxng","moojeh","yacy","serper","serply","tavily","exa","perplexity","firecrawl"]},{id:"code-execution",title:"Code Execution",route:"/admin/settings/code-execution",keywords:["code execution","python","sandbox","compiler","jupyter","interpreter"]},{id:"interface",title:"Interface",route:"/admin/settings/interface",keywords:["interface","ui","appearance","banners","tasks","prompt suggestions","title generation","tags"]},{id:"audio",title:"Audio",route:"/admin/settings/audio",keywords:["audio","voice","speech","tts","stt","whisper","deepgram","azure","openai","elevenlabs"]},{id:"images",title:"Images",route:"/admin/settings/images",keywords:["images","generation","dalle","stable diffusion","comfyui","automatic1111","gemini"]},{id:"pipelines",title:"Pipelines",route:"/admin/settings/pipelines",keywords:["pipelines","workflows","filters","valves","middleware"]},{id:"db",title:"Database",route:"/admin/settings/db",keywords:["database","export","import","backup","chats","users"]}],U=()=>{c(S,$.filter(M=>{const x=e(v).toLowerCase().trim();return e(v)===""||M.title.toLowerCase().includes(x)||M.keywords.some(D=>D.includes(x))}))},y=()=>{o&&clearTimeout(o),o=setTimeout(()=>{U()},100)};rl(()=>{const M=document.getElementById("admin-settings-tabs-container");M&&M.addEventListener("wheel",function(x){x.deltaY!==0&&(M.scrollLeft+=x.deltaY)}),U(),we(e(h))}),ml(()=>r(),()=>{const M=r().url.pathname.split("/"),x=M[M.length-1];c(h,["general","connections","models","evaluations","tools","documents","web","code-execution","interface","audio","images","pipelines","db"].includes(x)?x:"general")}),ml(()=>e(h),()=>{e(h)&&we(e(h))}),Al(),Rr();var A=vf(),G=a(A),K=a(G),te=a(K),Ie=a(te);$i(Ie,{className:"size-3.5",strokeWidth:"1.5"}),t(te);var Ee=l(te,2),Ne=a(Ee,!0);t(Ee);var n=l(Ee,2);Q(n),t(K);var q=l(K,2);Za(q,1,()=>e(S),M=>M.id,(M,x)=>{var D=sf(),le=a(D),se=a(le);{var ve=_e=>{var R=V_();d(_e,R)},N=_e=>{var R=Qe(),F=L(R);{var Fe=Ot=>{var bt=Z_();d(Ot,bt)},mt=Ot=>{var bt=Qe(),fa=L(bt);{var zt=ua=>{var Jt=z_();d(ua,Jt)},ca=ua=>{var Jt=Qe(),aa=L(Jt);{var be=vt=>{F_(vt,{})},Ye=vt=>{var nt=Qe(),Ge=L(nt);{var ze=ut=>{var et=X_();d(ut,et)},tt=ut=>{var et=Qe(),Lt=L(et);{var Nt=ct=>{var Qt=J_();d(ct,Qt)},qt=ct=>{var Qt=Qe(),wa=L(Qt);{var Ua=Wt=>{var St=q_();d(Wt,St)},na=Wt=>{var St=Qe(),ia=L(St);{var At=Ct=>{var Ht=Q_();d(Ct,Ht)},Ce=Ct=>{var Ht=Qe(),da=L(Ht);{var $a=Ft=>{var jt=ef();d(Ft,jt)},ha=Ft=>{var jt=Qe(),gt=L(jt);{var Vt=Ze=>{var Z=tf();d(Ze,Z)},Yt=Ze=>{var Z=Qe(),at=L(Z);{var ft=re=>{var ne=af();d(re,ne)},Et=re=>{var ne=Qe(),Se=L(ne);{var Oe=Le=>{var Ae=rf();d(Le,Ae)},Ue=Le=>{var Ae=Qe(),Be=L(Ae);{var C=H=>{var ie=lf();d(H,ie)};g(Be,H=>{e(x),i(()=>e(x).id==="db")&&H(C)},!0)}d(Le,Ae)};g(Se,Le=>{e(x),i(()=>e(x).id==="pipelines")?Le(Oe):Le(Ue,!1)},!0)}d(re,ne)};g(at,re=>{e(x),i(()=>e(x).id==="images")?re(ft):re(Et,!1)},!0)}d(Ze,Z)};g(gt,Ze=>{e(x),i(()=>e(x).id==="audio")?Ze(Vt):Ze(Yt,!1)},!0)}d(Ft,jt)};g(da,Ft=>{e(x),i(()=>e(x).id==="interface")?Ft($a):Ft(ha,!1)},!0)}d(Ct,Ht)};g(ia,Ct=>{e(x),i(()=>e(x).id==="code-execution")?Ct(At):Ct(Ce,!1)},!0)}d(Wt,St)};g(wa,Wt=>{e(x),i(()=>e(x).id==="web")?Wt(Ua):Wt(na,!1)},!0)}d(ct,Qt)};g(Lt,ct=>{e(x),i(()=>e(x).id==="documents")?ct(Nt):ct(qt,!1)},!0)}d(ut,et)};g(Ge,ut=>{e(x),i(()=>e(x).id==="tools")?ut(ze):ut(tt,!1)},!0)}d(vt,nt)};g(aa,vt=>{e(x),i(()=>e(x).id==="evaluations")?vt(be):vt(Ye,!1)},!0)}d(ua,Jt)};g(fa,ua=>{e(x),i(()=>e(x).id==="models")?ua(zt):ua(ca,!1)},!0)}d(Ot,bt)};g(F,Ot=>{e(x),i(()=>e(x).id==="connections")?Ot(Fe):Ot(mt,!1)},!0)}d(_e,R)};g(se,_e=>{e(x),i(()=>e(x).id==="general")?_e(ve):_e(N,!1)})}t(le);var xe=l(le,2),We=a(xe,!0);t(xe),t(D),u(_e=>{T(D,"id",(e(x),i(()=>e(x).id))),qr(D,1,`px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition ${e(h),e(x),i(()=>e(h)===e(x).id?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")??""}`),s(We,_e)},[()=>(f(),e(x),i(()=>f().t(e(x).title)))]),Ve("click",D,()=>{bi(e(x).route)}),d(M,D)}),t(G);var W=l(G,2),ye=a(W);{var V=M=>{Fv(M,{saveHandler:async()=>{fe.success(f().t("Settings saved successfully!")),await Rl(),await Jr.set(await pl())}})},ue=M=>{var x=Qe(),D=L(x);{var le=ve=>{zc(ve,{$$events:{save:()=>{fe.success(f().t("Settings saved successfully!"))}}})},se=ve=>{var N=Qe(),xe=L(N);{var We=R=>{$c(R,{})},_e=R=>{var F=Qe(),Fe=L(F);{var mt=bt=>{I_(bt,{})},Ot=bt=>{var fa=Qe(),zt=L(fa);{var ca=Jt=>{Y_(Jt,{})},ua=Jt=>{var aa=Qe(),be=L(aa);{var Ye=nt=>{Mu(nt,{$$events:{save:async()=>{fe.success(f().t("Settings saved successfully!")),await Rl(),await Jr.set(await pl())}}})},vt=nt=>{var Ge=Qe(),ze=L(Ge);{var tt=et=>{x_(et,{saveHandler:async()=>{fe.success(f().t("Settings saved successfully!")),await Rl(),await Jr.set(await pl())}})},ut=et=>{var Lt=Qe(),Nt=L(Lt);{var qt=Qt=>{G_(Qt,{saveHandler:async()=>{fe.success(f().t("Settings saved successfully!")),await Rl(),await Jr.set(await pl())}})},ct=Qt=>{var wa=Qe(),Ua=L(wa);{var na=St=>{Ko(St,{$$events:{save:()=>{fe.success(f().t("Settings saved successfully!"))}}})},Wt=St=>{var ia=Qe(),At=L(ia);{var Ce=Ht=>{Kd(Ht,{saveHandler:()=>{fe.success(f().t("Settings saved successfully!"))}})},Ct=Ht=>{var da=Qe(),$a=L(da);{var ha=jt=>{wo(jt,{$$events:{save:()=>{fe.success(f().t("Settings saved successfully!"))}}})},Ft=jt=>{var gt=Qe(),Vt=L(gt);{var Yt=Z=>{wv(Z,{saveHandler:()=>{fe.success(f().t("Settings saved successfully!"))}})},Ze=Z=>{var at=Qe(),ft=L(at);{var Et=re=>{xd(re,{saveHandler:()=>{fe.success(f().t("Settings saved successfully!"))}})};g(ft,re=>{e(h)==="pipelines"&&re(Et)},!0)}d(Z,at)};g(Vt,Z=>{e(h)==="db"?Z(Yt):Z(Ze,!1)},!0)}d(jt,gt)};g($a,jt=>{e(h)==="images"?jt(ha):jt(Ft,!1)},!0)}d(Ht,da)};g(At,Ht=>{e(h)==="audio"?Ht(Ce):Ht(Ct,!1)},!0)}d(St,ia)};g(Ua,St=>{e(h)==="interface"?St(na):St(Wt,!1)},!0)}d(Qt,wa)};g(Nt,Qt=>{e(h)==="code-execution"?Qt(qt):Qt(ct,!1)},!0)}d(et,Lt)};g(ze,et=>{e(h)==="web"?et(tt):et(ut,!1)},!0)}d(nt,Ge)};g(be,nt=>{e(h)==="documents"?nt(Ye):nt(vt,!1)},!0)}d(Jt,aa)};g(zt,Jt=>{e(h)==="tools"?Jt(ca):Jt(ua,!1)},!0)}d(bt,fa)};g(Fe,bt=>{e(h)==="evaluations"?bt(mt):bt(Ot,!1)},!0)}d(R,F)};g(xe,R=>{e(h)==="models"?R(We):R(_e,!1)},!0)}d(ve,N)};g(D,ve=>{e(h)==="connections"?ve(le):ve(se,!1)},!0)}d(M,x)};g(ye,M=>{e(h)==="general"?M(V):M(ue,!1)})}t(W),t(A),u((M,x)=>{s(Ne,M),T(n,"placeholder",x)},[()=>(f(),i(()=>f().t("Search"))),()=>(f(),i(()=>f().t("Search")))]),J(n,()=>e(v),M=>c(v,M)),Ve("input",n,y),d(It,A),wr(),Gt()}export{y1 as S};
//# sourceMappingURL=CY0akeOA.js.map
