{"version":3,"file":"DKle2sFU.js","sources":["../../../../../../src/lib/components/icons/Cog6.svelte","../../../../../../src/lib/components/icons/Minus.svelte","../../../../../../src/lib/components/AddConnectionModal.svelte","../../../../../../src/lib/components/AddToolServerModal.svelte","../../../../../../src/lib/components/icons/WrenchAlt.svelte","../../../../../../src/lib/components/chat/Settings/Tools/Connection.svelte"],"sourcesContent":["<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\taria-hidden=\"true\"\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z\"\n\t/>\n\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\" />\n</svg>\n","<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\taria-hidden=\"true\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5 12h14\" />\n</svg>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport { settings } from '$lib/stores';\n\timport { verifyOpenAIConnection } from '$lib/apis/openai';\n\timport { verifyOllamaConnection } from '$lib/apis/ollama';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport Minus from '$lib/components/icons/Minus.svelte';\n\timport PencilSolid from '$lib/components/icons/PencilSolid.svelte';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Tags from './common/Tags.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport Textarea from './common/Textarea.svelte';\n\n\texport let onSubmit: Function = () => {};\n\texport let onDelete: Function = () => {};\n\n\texport let show = false;\n\texport let edit = false;\n\n\texport let ollama = false;\n\texport let direct = false;\n\n\texport let connection = null;\n\n\tlet url = '';\n\tlet key = '';\n\tlet auth_type = 'bearer';\n\n\tlet connectionType = 'external';\n\tlet azure = false;\n\t$: azure =\n\t\t(url.includes('azure.') || url.includes('cognitive.microsoft.com')) && !direct ? true : false;\n\n\tlet prefixId = '';\n\tlet enable = true;\n\tlet apiVersion = '';\n\n\tlet headers = '';\n\n\tlet tags = [];\n\n\tlet modelId = '';\n\tlet modelIds = [];\n\n\tlet loading = false;\n\n\tconst verifyOllamaHandler = async () => {\n\t\t// remove trailing slash from url\n\t\turl = url.replace(/\\/$/, '');\n\n\t\tconst res = await verifyOllamaConnection(localStorage.token, {\n\t\t\turl,\n\t\t\tkey\n\t\t}).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Server connection verified'));\n\t\t}\n\t};\n\n\tconst verifyOpenAIHandler = async () => {\n\t\t// remove trailing slash from url\n\t\turl = url.replace(/\\/$/, '');\n\n\t\tlet _headers = null;\n\n\t\tif (headers) {\n\t\t\ttry {\n\t\t\t\t_headers = JSON.parse(headers);\n\t\t\t\tif (typeof _headers !== 'object' || Array.isArray(_headers)) {\n\t\t\t\t\t_headers = null;\n\t\t\t\t\tthrow new Error('Headers must be a valid JSON object');\n\t\t\t\t}\n\t\t\t\theaders = JSON.stringify(_headers, null, 2);\n\t\t\t} catch (error) {\n\t\t\t\ttoast.error($i18n.t('Headers must be a valid JSON object'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tconst res = await verifyOpenAIConnection(\n\t\t\tlocalStorage.token,\n\t\t\t{\n\t\t\t\turl,\n\t\t\t\tkey,\n\t\t\t\tconfig: {\n\t\t\t\t\tauth_type,\n\t\t\t\t\tazure: azure,\n\t\t\t\t\tapi_version: apiVersion,\n\t\t\t\t\t...(_headers ? { headers: _headers } : {})\n\t\t\t\t}\n\t\t\t},\n\t\t\tdirect\n\t\t).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Server connection verified'));\n\t\t}\n\t};\n\n\tconst verifyHandler = () => {\n\t\tif (ollama) {\n\t\t\tverifyOllamaHandler();\n\t\t} else {\n\t\t\tverifyOpenAIHandler();\n\t\t}\n\t};\n\n\tconst addModelHandler = () => {\n\t\tif (modelId) {\n\t\t\tmodelIds = [...modelIds, modelId];\n\t\t\tmodelId = '';\n\t\t}\n\t};\n\n\tconst submitHandler = async () => {\n\t\tloading = true;\n\n\t\tif (!ollama && !url) {\n\t\t\tloading = false;\n\t\t\ttoast.error($i18n.t('URL is required'));\n\t\t\treturn;\n\t\t}\n\n\t\tif (azure) {\n\t\t\tif (!apiVersion) {\n\t\t\t\tloading = false;\n\n\t\t\t\ttoast.error($i18n.t('API Version is required'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!key && !['azure_ad', 'microsoft_entra_id'].includes(auth_type)) {\n\t\t\t\tloading = false;\n\n\t\t\t\ttoast.error($i18n.t('Key is required'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (modelIds.length === 0) {\n\t\t\t\tloading = false;\n\t\t\t\ttoast.error($i18n.t('Deployment names are required for Azure OpenAI'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (headers) {\n\t\t\ttry {\n\t\t\t\tconst _headers = JSON.parse(headers);\n\t\t\t\tif (typeof _headers !== 'object' || Array.isArray(_headers)) {\n\t\t\t\t\tthrow new Error('Headers must be a valid JSON object');\n\t\t\t\t}\n\t\t\t\theaders = JSON.stringify(_headers, null, 2);\n\t\t\t} catch (error) {\n\t\t\t\ttoast.error($i18n.t('Headers must be a valid JSON object'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// remove trailing slash from url\n\t\turl = url.replace(/\\/$/, '');\n\n\t\tconst connection = {\n\t\t\turl,\n\t\t\tkey,\n\t\t\tconfig: {\n\t\t\t\tenable: enable,\n\t\t\t\ttags: tags,\n\t\t\t\tprefix_id: prefixId,\n\t\t\t\tmodel_ids: modelIds,\n\t\t\t\tconnection_type: connectionType,\n\t\t\t\tauth_type,\n\t\t\t\theaders: headers ? JSON.parse(headers) : undefined,\n\t\t\t\t...(!ollama && azure ? { azure: true, api_version: apiVersion } : {})\n\t\t\t}\n\t\t};\n\n\t\tawait onSubmit(connection);\n\n\t\tloading = false;\n\t\tshow = false;\n\n\t\turl = '';\n\t\tkey = '';\n\t\tauth_type = 'bearer';\n\t\tprefixId = '';\n\t\ttags = [];\n\t\tmodelIds = [];\n\t};\n\n\tconst init = () => {\n\t\tif (connection) {\n\t\t\turl = connection.url;\n\t\t\tkey = connection.key;\n\n\t\t\tauth_type = connection.config.auth_type ?? 'bearer';\n\t\t\theaders = connection.config?.headers\n\t\t\t\t? JSON.stringify(connection.config.headers, null, 2)\n\t\t\t\t: '';\n\n\t\t\tenable = connection.config?.enable ?? true;\n\t\t\ttags = connection.config?.tags ?? [];\n\t\t\tprefixId = connection.config?.prefix_id ?? '';\n\t\t\tmodelIds = connection.config?.model_ids ?? [];\n\n\t\t\tif (ollama) {\n\t\t\t\tconnectionType = connection.config?.connection_type ?? 'local';\n\t\t\t} else {\n\t\t\t\tconnectionType = connection.config?.connection_type ?? 'external';\n\t\t\t\tazure = connection.config?.azure ?? false;\n\t\t\t\tapiVersion = connection.config?.api_version ?? '';\n\t\t\t}\n\t\t}\n\t};\n\n\t$: if (show) {\n\t\tinit();\n\t}\n\n\tonMount(() => {\n\t\tinit();\n\t});\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-100 px-5 pt-4 pb-1.5\">\n\t\t\t<h1 class=\"text-lg font-medium self-center font-primary\">\n\t\t\t\t{#if edit}\n\t\t\t\t\t{$i18n.t('Edit Connection')}\n\t\t\t\t{:else}\n\t\t\t\t\t{$i18n.t('Add Connection')}\n\t\t\t\t{/if}\n\t\t\t</h1>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\taria-label={$i18n.t('Close modal')}\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"px-1\">\n\t\t\t\t\t\t{#if !direct}\n\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t\t<div class=\" text-xs text-gray-500\">{$i18n.t('Connection Type')}</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tconnectionType = connectionType === 'local' ? 'external' : 'local';\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\" text-xs text-gray-700 dark:text-gray-300\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{#if connectionType === 'local'}\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Local')}\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('External')}\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<div class=\"flex gap-2 mt-1.5\">\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\tfor=\"url-input\"\n\t\t\t\t\t\t\t\t\tclass={`mb-0.5 text-xs text-gray-500\n\t\t\t\t\t\t\t\t${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : ''}`}\n\t\t\t\t\t\t\t\t\t>{$i18n.t('URL')}</label\n\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"url-input\"\n\t\t\t\t\t\t\t\t\t\tclass={`w-full text-sm bg-transparent ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tbind:value={url}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Verify Connection')} className=\"self-end -mb-1\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tverifyHandler();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\taria-label={$i18n.t('Verify Connection')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z\"\n\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col shrink-0 self-end\">\n\t\t\t\t\t\t\t\t<label class=\"sr-only\" for=\"toggle-connection\"\n\t\t\t\t\t\t\t\t\t>{$i18n.t('Toggle whether current connection is active.')}</label\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Tooltip content={enable ? $i18n.t('Enabled') : $i18n.t('Disabled')}>\n\t\t\t\t\t\t\t\t\t<Switch id=\"toggle-connection\" bind:state={enable} />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex gap-2 mt-2\">\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\tfor=\"select-bearer-or-session\"\n\t\t\t\t\t\t\t\t\tclass={`text-xs ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t>{$i18n.t('Auth')}</label\n\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-shrink-0 self-start\">\n\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\tid=\"select-bearer-or-session\"\n\t\t\t\t\t\t\t\t\t\t\tclass={`dark:bg-gray-900 w-full text-sm bg-transparent pr-5 ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={auth_type}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"none\">{$i18n.t('None')}</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"bearer\">{$i18n.t('Bearer')}</option>\n\n\t\t\t\t\t\t\t\t\t\t\t{#if !ollama}\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"session\">{$i18n.t('Session')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{#if !direct}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"system_oauth\">{$i18n.t('OAuth')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{#if azure}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"microsoft_entra_id\">{$i18n.t('Entra ID')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex flex-1 items-center\">\n\t\t\t\t\t\t\t\t\t\t{#if auth_type === 'bearer'}\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={key}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\n\t\t\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{:else if auth_type === 'none'}\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass={`text-xs self-center translate-y-[1px] ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('No authentication')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{:else if auth_type === 'session'}\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass={`text-xs self-center translate-y-[1px] ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Forwards system user session credentials to authenticate')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{:else if auth_type === 'system_oauth'}\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass={`text-xs self-center translate-y-[1px] ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Forwards system user OAuth access token to authenticate')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{:else if ['azure_ad', 'microsoft_entra_id'].includes(auth_type)}\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass={`text-xs self-center translate-y-[1px] ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Uses DefaultAzureCredential to authenticate')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if !ollama && !direct}\n\t\t\t\t\t\t\t<div class=\"flex gap-2 mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"headers-input\"\n\t\t\t\t\t\t\t\t\t\tclass={`mb-0.5 text-xs text-gray-500\n\t\t\t\t\t\t\t\t${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : ''}`}\n\t\t\t\t\t\t\t\t\t\t>{$i18n.t('Headers')}</label\n\t\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t'Enter additional headers in JSON format (e.g. {\"X-Custom-Header\": \"value\"}'\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-sm outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={headers}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter additional headers in JSON format')}\n\t\t\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t\t\t\tminSize={30}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<div class=\"flex gap-2 mt-2\">\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\tfor=\"prefix-id-input\"\n\t\t\t\t\t\t\t\t\tclass={`mb-0.5 text-xs text-gray-500\n\t\t\t\t\t\t\t\t${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : ''}`}\n\t\t\t\t\t\t\t\t\t>{$i18n.t('Prefix ID')}</label\n\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass={`w-full text-sm bg-transparent ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"prefix-id-input\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={prefixId}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Prefix ID')}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if !ollama && !direct}\n\t\t\t\t\t\t\t<div class=\"flex flex-row justify-between items-center w-full mt-2\">\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\tfor=\"prefix-id-input\"\n\t\t\t\t\t\t\t\t\tclass={`mb-0.5 text-xs text-gray-500\n\t\t\t\t\t\t\t\t${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : ''}`}\n\t\t\t\t\t\t\t\t\t>{$i18n.t('Provider Type')}</label\n\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tazure = !azure;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tclass=\" text-xs text-gray-700 dark:text-gray-300\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{azure ? $i18n.t('Azure OpenAI') : $i18n.t('OpenAI')}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t{#if azure}\n\t\t\t\t\t\t\t<div class=\"flex gap-2 mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"api-version-input\"\n\t\t\t\t\t\t\t\t\t\tclass={`mb-0.5 text-xs text-gray-500\n\t\t\t\t\t\t\t\t${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : ''}`}\n\t\t\t\t\t\t\t\t\t\t>{$i18n.t('API Version')}</label\n\t\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tid=\"api-version-input\"\n\t\t\t\t\t\t\t\t\t\t\tclass={`w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={apiVersion}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Version')}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<div class=\"flex flex-col w-full mt-2\">\n\t\t\t\t\t\t\t<div class=\"mb-1 flex justify-between\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass={`mb-0.5 text-xs text-gray-500\n\t\t\t\t\t\t\t\t${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : ''}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Model IDs')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if modelIds.length > 0}\n\t\t\t\t\t\t\t\t<ul class=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t{#each modelIds as modelId, modelIdx}\n\t\t\t\t\t\t\t\t\t\t<li class=\" flex gap-2 w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" text-sm flex-1 py-1 rounded-lg\">\n\t\t\t\t\t\t\t\t\t\t\t\t{modelId}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label={$i18n.t(`Remove {{MODELID}} from list.`, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMODELID: modelId\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodelIds = modelIds.filter((_, idx) => idx !== modelIdx);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Minus strokeWidth=\"2\" className=\"size-3.5\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass={`text-gray-500 text-xs text-center py-2 px-10\n\t\t\t\t\t\t\t\t${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : ''}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{#if ollama}\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Leave empty to include all models from \"{{url}}/api/tags\" endpoint', {\n\t\t\t\t\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t{:else if azure}\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Deployment names are required for Azure OpenAI')}\n\t\t\t\t\t\t\t\t\t\t<!-- {$i18n.t('Leave empty to include all models from \"{{url}}\" endpoint', {\n\t\t\t\t\t\t\t\t\t\t\turl: `${url}/openai/deployments`\n\t\t\t\t\t\t\t\t\t\t})} -->\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Leave empty to include all models from \"{{url}}/models\" endpoint', {\n\t\t\t\t\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t<label class=\"sr-only\" for=\"add-model-id-input\">{$i18n.t('Add a model ID')}</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"w-full py-1 text-sm rounded-lg bg-transparent {modelId\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: 'text-gray-500'} {($settings?.highContrastMode ?? false)\n\t\t\t\t\t\t\t\t\t? 'dark:placeholder:text-gray-100 placeholder:text-gray-700'\n\t\t\t\t\t\t\t\t\t: 'placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden'}\"\n\t\t\t\t\t\t\t\tbind:value={modelId}\n\t\t\t\t\t\t\t\tid=\"add-model-id-input\"\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Add a model ID')}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\taria-label={$i18n.t('Add')}\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\taddModelHandler();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Plus className=\"size-3.5\" strokeWidth=\"2\" />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex gap-2 mt-2\">\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass={`mb-0.5 text-xs text-gray-500\n\t\t\t\t\t\t\t\t${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : ''}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Tags')}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex-1 mt-0.5\">\n\t\t\t\t\t\t\t\t<Tags\n\t\t\t\t\t\t\t\t\tbind:tags\n\t\t\t\t\t\t\t\t\ton:add={(e) => {\n\t\t\t\t\t\t\t\t\t\ttags = [\n\t\t\t\t\t\t\t\t\t\t\t...tags,\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tname: e.detail\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ton:delete={(e) => {\n\t\t\t\t\t\t\t\t\t\ttags = tags.filter((tag) => tag.name !== e.detail);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium gap-1.5\">\n\t\t\t\t\t\t{#if edit}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Delete')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Save')}\n\n\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\timport { v4 as uuidv4 } from 'uuid';\n\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\n\timport { toast } from 'svelte-sonner';\n\timport { getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport { settings } from '$lib/stores';\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport Minus from '$lib/components/icons/Minus.svelte';\n\timport PencilSolid from '$lib/components/icons/PencilSolid.svelte';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Tags from './common/Tags.svelte';\n\timport { getToolServerData } from '$lib/apis';\n\timport { verifyToolServerConnection, registerOAuthClient } from '$lib/apis/configs';\n\timport AccessControl from './workspace/common/AccessControl.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport Textarea from './common/Textarea.svelte';\n\n\texport let onSubmit: Function = () => {};\n\texport let onDelete: Function = () => {};\n\n\texport let show = false;\n\texport let edit = false;\n\n\texport let direct = false;\n\texport let connection = null;\n\n\tlet inputElement = null;\n\n\tlet type = 'openapi'; // 'openapi', 'mcp'\n\n\tlet url = '';\n\n\tlet spec_type = 'url'; // 'url', 'json'\n\tlet spec = ''; // used when spec_type is 'json'\n\tlet path = 'openapi.json';\n\n\tlet auth_type = 'bearer';\n\tlet key = '';\n\tlet headers = '';\n\n\tlet functionNameFilterList = '';\n\tlet accessControl = {};\n\n\tlet id = '';\n\tlet name = '';\n\tlet description = '';\n\n\tlet oauthClientInfo = null;\n\n\tlet enable = true;\n\tlet loading = false;\n\n\tconst registerOAuthClientHandler = async () => {\n\t\tif (url === '') {\n\t\t\ttoast.error($i18n.t('Please enter a valid URL'));\n\t\t\treturn;\n\t\t}\n\n\t\tif (id === '') {\n\t\t\ttoast.error($i18n.t('Please enter a valid ID'));\n\t\t\treturn;\n\t\t}\n\n\t\tconst res = await registerOAuthClient(\n\t\t\tlocalStorage.token,\n\t\t\t{\n\t\t\t\turl: url,\n\t\t\t\tclient_id: id\n\t\t\t},\n\t\t\t'mcp'\n\t\t).catch((err) => {\n\t\t\ttoast.error($i18n.t('Registration failed'));\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.warning(\n\t\t\t\t$i18n.t(\n\t\t\t\t\t'Please save the connection to persist the OAuth client information and do not change the ID'\n\t\t\t\t)\n\t\t\t);\n\t\t\ttoast.success($i18n.t('Registration successful'));\n\n\t\t\tconsole.debug('Registration successful', res);\n\t\t\toauthClientInfo = res?.oauth_client_info ?? null;\n\t\t}\n\t};\n\n\tconst verifyHandler = async () => {\n\t\tif (url === '') {\n\t\t\ttoast.error($i18n.t('Please enter a valid URL'));\n\t\t\treturn;\n\t\t}\n\n\t\tif (['openapi', ''].includes(type)) {\n\t\t\tif (spec_type === 'json' && spec === '') {\n\t\t\t\ttoast.error($i18n.t('Please enter a valid JSON spec'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (spec_type === 'url' && path === '') {\n\t\t\t\ttoast.error($i18n.t('Please enter a valid path'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (headers) {\n\t\t\ttry {\n\t\t\t\tlet _headers = JSON.parse(headers);\n\t\t\t\tif (typeof _headers !== 'object' || Array.isArray(_headers)) {\n\t\t\t\t\t_headers = null;\n\t\t\t\t\tthrow new Error('Headers must be a valid JSON object');\n\t\t\t\t}\n\t\t\t\theaders = JSON.stringify(_headers, null, 2);\n\t\t\t} catch (error) {\n\t\t\t\ttoast.error($i18n.t('Headers must be a valid JSON object'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (direct) {\n\t\t\tconst res = await getToolServerData(\n\t\t\t\tauth_type === 'bearer' ? key : localStorage.token,\n\t\t\t\tpath.includes('://') ? path : `${url}${path.startsWith('/') ? '' : '/'}${path}`\n\t\t\t).catch((err) => {\n\t\t\t\ttoast.error($i18n.t('Connection failed'));\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\ttoast.success($i18n.t('Connection successful'));\n\t\t\t\tconsole.debug('Connection successful', res);\n\t\t\t}\n\t\t} else {\n\t\t\tconst res = await verifyToolServerConnection(localStorage.token, {\n\t\t\t\turl,\n\t\t\t\tpath,\n\t\t\t\ttype,\n\t\t\t\tauth_type,\n\t\t\t\theaders: headers ? JSON.parse(headers) : undefined,\n\t\t\t\tkey,\n\t\t\t\tconfig: {\n\t\t\t\t\tenable: enable,\n\t\t\t\t\taccess_control: accessControl\n\t\t\t\t},\n\t\t\t\tinfo: {\n\t\t\t\t\tid,\n\t\t\t\t\tname,\n\t\t\t\t\tdescription\n\t\t\t\t}\n\t\t\t}).catch((err) => {\n\t\t\t\ttoast.error($i18n.t('Connection failed'));\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\ttoast.success($i18n.t('Connection successful'));\n\t\t\t\tconsole.debug('Connection successful', res);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst importHandler = async (e) => {\n\t\tconst file = e.target.files[0];\n\t\tif (!file) return;\n\n\t\tconst reader = new FileReader();\n\t\treader.onload = (event) => {\n\t\t\tconst json = event.target.result;\n\t\t\tconsole.log('importHandler', json);\n\n\t\t\ttry {\n\t\t\t\tlet data = JSON.parse(json);\n\t\t\t\t// validate data\n\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\tif (data.length === 0) {\n\t\t\t\t\t\ttoast.error($i18n.t('Please select a valid JSON file'));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tdata = data[0];\n\t\t\t\t}\n\n\t\t\t\tif (data.type) type = data.type;\n\t\t\t\tif (data.url) url = data.url;\n\n\t\t\t\tif (data.spec_type) spec_type = data.spec_type;\n\t\t\t\tif (data.spec) spec = data.spec;\n\t\t\t\tif (data.path) path = data.path;\n\n\t\t\t\tif (data.auth_type) auth_type = data.auth_type;\n\t\t\t\tif (data.headers) headers = JSON.stringify(data.headers, null, 2);\n\t\t\t\tif (data.key) key = data.key;\n\n\t\t\t\tif (data.info) {\n\t\t\t\t\tid = data.info.id ?? '';\n\t\t\t\t\tname = data.info.name ?? '';\n\t\t\t\t\tdescription = data.info.description ?? '';\n\t\t\t\t}\n\n\t\t\t\tif (data.config) {\n\t\t\t\t\tenable = data.config.enable ?? true;\n\t\t\t\t\taccessControl = data.config.access_control ?? {};\n\t\t\t\t}\n\n\t\t\t\ttoast.success($i18n.t('Import successful'));\n\t\t\t} catch (error) {\n\t\t\t\ttoast.error($i18n.t('Please select a valid JSON file'));\n\t\t\t}\n\t\t};\n\t\treader.readAsText(file);\n\t};\n\n\tconst exportHandler = async () => {\n\t\t// export current connection as json file\n\t\tconst json = JSON.stringify([\n\t\t\t{\n\t\t\t\ttype,\n\t\t\t\turl,\n\n\t\t\t\tspec_type,\n\t\t\t\tspec,\n\t\t\t\tpath,\n\n\t\t\t\tauth_type,\n\t\t\t\theaders: headers ? JSON.parse(headers) : undefined,\n\t\t\t\tkey,\n\n\t\t\t\tinfo: {\n\t\t\t\t\tid: id,\n\t\t\t\t\tname: name,\n\t\t\t\t\tdescription: description\n\t\t\t\t}\n\t\t\t}\n\t\t]);\n\n\t\tconst blob = new Blob([json], {\n\t\t\ttype: 'application/json'\n\t\t});\n\n\t\tsaveAs(blob, `tool-server-${id || name || 'export'}.json`);\n\t};\n\n\tconst submitHandler = async () => {\n\t\tloading = true;\n\n\t\t// remove trailing slash from url\n\t\turl = url.replace(/\\/$/, '');\n\t\tif (id.includes(':') || id.includes('|')) {\n\t\t\ttoast.error($i18n.t('ID cannot contain \":\" or \"|\" characters'));\n\t\t\tloading = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif (type === 'mcp' && auth_type === 'oauth_2.1' && !oauthClientInfo) {\n\t\t\ttoast.error($i18n.t('Please register the OAuth client'));\n\t\t\tloading = false;\n\t\t\treturn;\n\t\t}\n\n\t\t// validate spec\n\t\tif (spec_type === 'json') {\n\t\t\ttry {\n\t\t\t\tconst specJSON = JSON.parse(spec);\n\t\t\t\tspec = JSON.stringify(specJSON, null, 2);\n\t\t\t} catch (e) {\n\t\t\t\ttoast.error($i18n.t('Please enter a valid JSON spec'));\n\t\t\t\tloading = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (headers) {\n\t\t\ttry {\n\t\t\t\tconst _headers = JSON.parse(headers);\n\t\t\t\tif (typeof _headers !== 'object' || Array.isArray(_headers)) {\n\t\t\t\t\tthrow new Error('Headers must be a valid JSON object');\n\t\t\t\t}\n\t\t\t\theaders = JSON.stringify(_headers, null, 2);\n\t\t\t} catch (error) {\n\t\t\t\ttoast.error($i18n.t('Headers must be a valid JSON object'));\n\t\t\t\tloading = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tconst connection = {\n\t\t\ttype,\n\t\t\turl,\n\n\t\t\tspec_type,\n\t\t\tspec,\n\t\t\tpath,\n\n\t\t\tauth_type,\n\t\t\theaders: headers ? JSON.parse(headers) : undefined,\n\n\t\t\tkey,\n\t\t\tconfig: {\n\t\t\t\tenable: enable,\n\t\t\t\tfunction_name_filter_list: functionNameFilterList,\n\t\t\t\taccess_control: accessControl\n\t\t\t},\n\t\t\tinfo: {\n\t\t\t\tid: id,\n\t\t\t\tname: name,\n\t\t\t\tdescription: description,\n\t\t\t\t...(oauthClientInfo ? { oauth_client_info: oauthClientInfo } : {})\n\t\t\t}\n\t\t};\n\n\t\tawait onSubmit(connection);\n\n\t\tloading = false;\n\t\tshow = false;\n\n\t\t// reset form\n\t\ttype = 'openapi';\n\t\turl = '';\n\n\t\tspec_type = 'url';\n\t\tspec = '';\n\t\tpath = 'openapi.json';\n\n\t\tkey = '';\n\t\tauth_type = 'bearer';\n\n\t\tid = '';\n\t\tname = '';\n\t\tdescription = '';\n\n\t\toauthClientInfo = null;\n\n\t\tenable = true;\n\t\tfunctionNameFilterList = '';\n\t\taccessControl = null;\n\t};\n\n\tconst init = () => {\n\t\tif (connection) {\n\t\t\ttype = connection?.type ?? 'openapi';\n\t\t\turl = connection.url;\n\n\t\t\tspec_type = connection?.spec_type ?? 'url';\n\t\t\tspec = connection?.spec ?? '';\n\t\t\tpath = connection?.path ?? 'openapi.json';\n\n\t\t\tauth_type = connection?.auth_type ?? 'bearer';\n\t\t\theaders = connection?.headers ? JSON.stringify(connection.headers, null, 2) : '';\n\n\t\t\tkey = connection?.key ?? '';\n\n\t\t\tid = connection.info?.id ?? '';\n\t\t\tname = connection.info?.name ?? '';\n\t\t\tdescription = connection.info?.description ?? '';\n\t\t\toauthClientInfo = connection.info?.oauth_client_info ?? null;\n\n\t\t\tenable = connection.config?.enable ?? true;\n\t\t\tfunctionNameFilterList = connection.config?.function_name_filter_list ?? '';\n\t\t\taccessControl = connection.config?.access_control ?? null;\n\t\t}\n\t};\n\n\t$: if (show) {\n\t\tinit();\n\t}\n\n\tonMount(() => {\n\t\tinit();\n\t});\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2\">\n\t\t\t<h1 class=\" text-lg font-medium self-center font-primary\">\n\t\t\t\t{#if edit}\n\t\t\t\t\t{$i18n.t('Edit Connection')}\n\t\t\t\t{:else}\n\t\t\t\t\t{$i18n.t('Add Connection')}\n\t\t\t\t{/if}\n\t\t\t</h1>\n\n\t\t\t<div class=\"flex items-center gap-3\">\n\t\t\t\t<div class=\"flex gap-1.5 text-xs justify-end\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\" hover:underline\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tinputElement?.click();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Import')}\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button class=\" hover:underline\" type=\"button\" on:click={exportHandler}>\n\t\t\t\t\t\t{$i18n.t('Export')}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"self-center\"\n\t\t\t\t\taria-label={$i18n.t('Close Configure Connection Modal')}\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tshow = false;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<XMark className={'size-5'} />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<input\n\t\t\t\t\tbind:this={inputElement}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\thidden\n\t\t\t\t\taccept=\".json\"\n\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\timportHandler(e);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"px-1\">\n\t\t\t\t\t\t{#if !direct}\n\t\t\t\t\t\t\t<div class=\"flex gap-2 mb-1.5\">\n\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t\t<div class=\" text-xs text-gray-500\">{$i18n.t('Type')}</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\ttype = ['', 'openapi'].includes(type) ? 'mcp' : 'openapi';\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\" text-xs text-gray-700 dark:text-gray-300\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{#if ['', 'openapi'].includes(type)}\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('OpenAPI')}\n\t\t\t\t\t\t\t\t\t\t\t{:else if type === 'mcp'}\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('MCP')}\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-gray-500\">{$i18n.t('Streamable HTTP')}</span>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between mb-0.5\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"api-base-url\"\n\t\t\t\t\t\t\t\t\t\tclass={`text-xs ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t>{$i18n.t('URL')}</label\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex flex-1 items-center\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"api-base-url\"\n\t\t\t\t\t\t\t\t\t\tclass={`w-full flex-1 text-sm bg-transparent ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tbind:value={url}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t('Verify Connection')}\n\t\t\t\t\t\t\t\t\t\tclassName=\"shrink-0 flex items-center mr-1\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition\"\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tverifyHandler();\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\taria-label={$i18n.t('Verify Connection')}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t\t<Tooltip content={enable ? $i18n.t('Enabled') : $i18n.t('Disabled')}>\n\t\t\t\t\t\t\t\t\t\t<Switch bind:state={enable} />\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if ['', 'openapi'].includes(type)}\n\t\t\t\t\t\t\t<div class=\"flex gap-2 mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex justify-between items-center mb-0.5\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex gap-2 items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tfor=\"select-bearer-or-session\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass={`text-xs ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('OpenAPI Spec')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-shrink-0 self-start\">\n\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"select-bearer-or-session\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass={`dark:bg-gray-900 w-full text-sm bg-transparent pr-5 ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={spec_type}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"url\">{$i18n.t('URL')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"json\">{$i18n.t('JSON')}</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-1 items-center\">\n\t\t\t\t\t\t\t\t\t\t\t{#if spec_type === 'url'}\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"url-or-path\" class=\"sr-only\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{$i18n.t('openapi.json URL or Path')}</label\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass={`w-full text-sm bg-transparent ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"url-or-path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={path}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('openapi.json URL or Path')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{:else if spec_type === 'json'}\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass={`text-xs w-full self-center translate-y-[1px] ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"url-or-path\" class=\"sr-only\">{$i18n.t('JSON Spec')}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass={`w-full text-sm bg-transparent ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700 text-black dark:text-white'}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={spec}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('JSON Spec')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows=\"5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{#if ['', 'url'].includes(spec_type)}\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass={`text-xs mt-1 ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t(`WebUI will make requests to \"{{url}}\"`, {\n\t\t\t\t\t\t\t\t\t\t\t\turl: path.includes('://')\n\t\t\t\t\t\t\t\t\t\t\t\t\t? path\n\t\t\t\t\t\t\t\t\t\t\t\t\t: `${url}${path.startsWith('/') ? '' : '/'}${path}`\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<div class=\"flex gap-2 mt-2\">\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between items-center\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex gap-2 items-center\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tfor=\"select-bearer-or-session\"\n\t\t\t\t\t\t\t\t\t\t\tclass={`text-xs ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Auth')}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{#if auth_type === 'oauth_2.1'}\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col justify-end items-center shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent={oauthClientInfo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? $i18n.t('Register Again')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: $i18n.t('Register Client')}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\" text-xs underline dark:text-gray-500 dark:hover:text-gray-200 text-gray-700 hover:text-gray-900 transition\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tregisterOAuthClientHandler();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Register Client')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t{#if !oauthClientInfo}\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-medium px-1.5 rounded-md bg-yellow-500/20 text-yellow-700 dark:text-yellow-200\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Not Registered')}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-medium px-1.5 rounded-md bg-green-500/20 text-green-700 dark:text-green-200\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Registered')}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-shrink-0 self-start\">\n\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\tid=\"select-bearer-or-session\"\n\t\t\t\t\t\t\t\t\t\t\tclass={`dark:bg-gray-900 w-full text-sm bg-transparent pr-5 ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={auth_type}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"none\">{$i18n.t('None')}</option>\n\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"bearer\">{$i18n.t('Bearer')}</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"session\">{$i18n.t('Session')}</option>\n\n\t\t\t\t\t\t\t\t\t\t\t{#if !direct}\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"system_oauth\">{$i18n.t('OAuth')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{#if type === 'mcp'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"oauth_2.1\">{$i18n.t('OAuth 2.1')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex flex-1 items-center\">\n\t\t\t\t\t\t\t\t\t\t{#if auth_type === 'bearer'}\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={key}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\n\t\t\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{:else if auth_type === 'none'}\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass={`text-xs self-center translate-y-[1px] ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('No authentication')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{:else if auth_type === 'session'}\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass={`text-xs self-center translate-y-[1px] ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Forwards system user session credentials to authenticate')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{:else if auth_type === 'system_oauth'}\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass={`text-xs self-center translate-y-[1px] ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Forwards system user OAuth access token to authenticate')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{:else if auth_type === 'oauth_2.1'}\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass={`flex items-center text-xs self-center translate-y-[1px] ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Uses OAuth 2.1 Dynamic Client Registration')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if !direct}\n\t\t\t\t\t\t\t<div class=\"flex gap-2 mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"headers-input\"\n\t\t\t\t\t\t\t\t\t\tclass={`mb-0.5 text-xs text-gray-500\n\t\t\t\t\t\t\t\t${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : ''}`}\n\t\t\t\t\t\t\t\t\t\t>{$i18n.t('Headers')}</label\n\t\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t'Enter additional headers in JSON format (e.g. {\"X-Custom-Header\": \"value\"}'\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-sm outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={headers}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter additional headers in JSON format')}\n\t\t\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t\t\t\tminSize={30}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\n\n\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"enter-id\"\n\t\t\t\t\t\t\t\t\t\tclass={`mb-0.5 text-xs ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t>{$i18n.t('ID')}\n\n\t\t\t\t\t\t\t\t\t\t{#if type !== 'mcp'}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-xs text-gray-200 dark:text-gray-800 ml-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{$i18n.t('Optional')}</span\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tid=\"enter-id\"\n\t\t\t\t\t\t\t\t\t\t\tclass={`w-full text-sm bg-transparent ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={id}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter ID')}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\trequired={type === 'mcp'}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex gap-2 mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"enter-name\"\n\t\t\t\t\t\t\t\t\t\tclass={`mb-0.5 text-xs ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t\t>{$i18n.t('Name')}\n\t\t\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tid=\"enter-name\"\n\t\t\t\t\t\t\t\t\t\t\tclass={`w-full text-sm bg-transparent ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={name}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter name')}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full mt-2\">\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\tfor=\"description\"\n\t\t\t\t\t\t\t\t\tclass={`mb-1 text-xs ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100 placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700 text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t>{$i18n.t('Description')}</label\n\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\t\tclass={`w-full text-sm bg-transparent ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tbind:value={description}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter description')}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full mt-2\">\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\tfor=\"function-name-filter-list\"\n\t\t\t\t\t\t\t\t\tclass={`mb-1 text-xs ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100 placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700 text-gray-500'}`}\n\t\t\t\t\t\t\t\t\t>{$i18n.t('Function Name Filter List')}</label\n\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"function-name-filter-list\"\n\t\t\t\t\t\t\t\t\t\tclass={`w-full text-sm bg-transparent ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tbind:value={functionNameFilterList}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter function name filter list (e.g. func1, !func2)')}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\n\n\t\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t\t<AccessControl bind:accessControl />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if type === 'mcp'}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\" bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-2xl text-xs px-4 py-3 mb-2\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"font-medium\">\n\t\t\t\t\t\t\t\t{$i18n.t('Warning')}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t'MCP support is experimental and its specification changes often, which can lead to incompatibilities. OpenAPI specification support is directly maintained by the Open WebUI team, making it the more reliable option for compatibility.'\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclass=\"font-medium underline\"\n\t\t\t\t\t\t\t\thref=\"https://docs.openwebui.com/features/mcp\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\">{$i18n.t('Read more ')}</a\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t<div class=\"flex justify-between pt-3 text-sm font-medium gap-1.5\">\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div class=\"flex gap-1.5\">\n\t\t\t\t\t\t\t{#if edit}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tonDelete();\n\t\t\t\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Delete')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Save')}\n\n\t\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\tclass={className}\n\taria-hidden=\"true\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tstroke-width={strokeWidth}\n\tfill=\"none\"\n\tstroke=\"currentColor\"\n\tviewBox=\"0 0 24 24\"\n\t><path\n\t\td=\"M10.0503 10.6066L2.97923 17.6777C2.19818 18.4587 2.19818 19.725 2.97923 20.5061V20.5061C3.76027 21.2871 5.0266 21.2871 5.80765 20.5061L12.8787 13.435\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></path><path\n\t\td=\"M10.0502 10.6066C9.20638 8.45358 9.37134 5.6286 11.1109 3.88909C12.8504 2.14957 16.0606 1.76777 17.8284 2.82843L14.7877 5.8691L14.5051 8.98014L17.6161 8.69753L20.6568 5.65685C21.7175 7.42462 21.3357 10.6349 19.5961 12.3744C17.8566 14.1139 15.0316 14.2789 12.8786 13.435\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></path></svg\n>\n","<script lang=\"ts\">\n\timport { getContext, tick } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\timport Cog6 from '$lib/components/icons/Cog6.svelte';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport AddToolServerModal from '$lib/components/AddToolServerModal.svelte';\n\timport WrenchAlt from '$lib/components/icons/WrenchAlt.svelte';\n\n\texport let onDelete = () => {};\n\texport let onSubmit = () => {};\n\n\texport let connection = null;\n\texport let direct = false;\n\n\tlet showConfigModal = false;\n\tlet showDeleteConfirmDialog = false;\n</script>\n\n<AddToolServerModal\n\tedit\n\t{direct}\n\tbind:show={showConfigModal}\n\t{connection}\n\tonDelete={() => {\n\t\tshowDeleteConfirmDialog = true;\n\t}}\n\tonSubmit={(c) => {\n\t\tconnection = c;\n\t\tonSubmit(c);\n\t}}\n/>\n\n<ConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\ton:confirm={() => {\n\t\tonDelete();\n\t\tshowConfigModal = false;\n\t}}\n/>\n\n<div class=\"flex w-full gap-2 items-center\">\n\t<Tooltip className=\"w-full relative\" content={''} placement=\"top-start\">\n\t\t<div class=\"flex w-full\">\n\t\t\t<div\n\t\t\t\tclass=\"flex-1 relative flex gap-1.5 items-center {!(connection?.config?.enable ?? true)\n\t\t\t\t\t? 'opacity-50'\n\t\t\t\t\t: ''}\"\n\t\t\t>\n\t\t\t\t<Tooltip content={connection?.type === 'mcp' ? $i18n.t('MCP') : $i18n.t('OpenAPI')}>\n\t\t\t\t\t<WrenchAlt />\n\t\t\t\t</Tooltip>\n\n\t\t\t\t{#if connection?.info?.name}\n\t\t\t\t\t<div class=\" capitalize outline-hidden w-full bg-transparent\">\n\t\t\t\t\t\t{connection?.info?.name ?? connection?.url}\n\t\t\t\t\t\t<span class=\"text-gray-500\">{connection?.info?.id ?? ''}</span>\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{connection?.url}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</Tooltip>\n\n\t<div class=\"flex gap-1\">\n\t\t<Tooltip content={$i18n.t('Configure')} className=\"self-start\">\n\t\t\t<button\n\t\t\t\tclass=\"self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshowConfigModal = true;\n\t\t\t\t}}\n\t\t\t\ttype=\"button\"\n\t\t\t>\n\t\t\t\t<Cog6 />\n\t\t\t</button>\n\t\t</Tooltip>\n\t</div>\n</div>\n"],"names":["className","strokeWidth","i18n","getContext","onSubmit","$.prop","$$props","onDelete","show","edit","ollama","direct","connection","url","key","auth_type","connectionType","azure","prefixId","enable","apiVersion","headers","tags","$.mutable_source","modelId","modelIds","loading","verifyOllamaHandler","$.set","verifyOllamaConnection","$.get","error","toast","$i18n","verifyOpenAIHandler","_headers","verifyOpenAIConnection","verifyHandler","addModelHandler","submitHandler","init","_a","_b","_c","_d","_e","_f","_g","_h","_i","onMount","$$render","consequent","alternate","consequent_1","alternate_1","$.event","button_1","consequent_2","button_2","$$value","consequent_3","consequent_4","consequent_5","$.untrack","$settings","consequent_9","alternate_2","consequent_8","alternate_3","consequent_7","alternate_4","consequent_6","alternate_5","consequent_11","$.bind_value","input_1","button_3","consequent_12","input_2","consequent_13","$.each","ul","modelIdx","$$array","button_4","_","idx","consequent_16","alternate_6","consequent_15","alternate_7","consequent_14","alternate_8","e","tag","button_6","consequent_17","consequent_18","button","input","$.bind_select_value","select","input_3","button_5","form","saveAs","fileSaver","inputElement","type","spec_type","spec","path","functionNameFilterList","accessControl","id","name","description","oauthClientInfo","registerOAuthClientHandler","res","registerOAuthClient","err","getToolServerData","verifyToolServerConnection","importHandler","file","reader","event","json","data","exportHandler","blob","specJSON","_j","_k","_l","_m","_n","$.bind_this","textarea","consequent_10","input_4","input_5","input_6","consequent_19","consequent_20","consequent_21","select_1","showConfigModal","showDeleteConfirmDialog","c"],"mappings":"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"}