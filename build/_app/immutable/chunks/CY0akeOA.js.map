{"version":3,"file":"CY0akeOA.js","sources":["../../../../../../src/lib/apis/images/index.ts","../../../../../../src/lib/components/icons/PencilSolid.svelte","../../../../../../src/lib/components/admin/Settings/Database.svelte","../../../../../../src/lib/components/admin/Settings/General.svelte","../../../../../../src/lib/components/admin/Settings/Pipelines.svelte","../../../../../../src/lib/components/admin/Settings/Audio.svelte","../../../../../../src/lib/components/common/CodeEditorModal.svelte","../../../../../../src/lib/components/admin/Settings/Images.svelte","../../../../../../src/lib/components/icons/EllipsisVertical.svelte","../../../../../../src/lib/components/admin/Settings/Interface/Banners.svelte","../../../../../../src/lib/components/admin/Settings/Interface.svelte","../../../../../../src/lib/components/admin/Settings/Models/ModelList.svelte","../../../../../../src/lib/components/admin/Settings/Models/ModelSelector.svelte","../../../../../../src/lib/components/admin/Settings/Evaluations/ArenaModelModal.svelte","../../../../../../src/lib/components/admin/Settings/Evaluations/Model.svelte","../../../../../../src/lib/components/admin/Settings/Models/ConfigureModelsModal.svelte","../../../../../../src/lib/components/admin/Settings/Models/Manage/ManageOllama.svelte","../../../../../../src/lib/components/admin/Settings/Models/Manage/ManageMultipleOllama.svelte","../../../../../../src/lib/components/admin/Settings/Models/ManageModelsModal.svelte","../../../../../../src/lib/components/admin/Settings/Models/ModelMenu.svelte","../../../../../../src/lib/components/admin/Settings/Models.svelte","../../../../../../src/lib/components/admin/Settings/Connections/OpenAIConnection.svelte","../../../../../../src/lib/components/admin/Settings/Connections/ManageOllamaModal.svelte","../../../../../../src/lib/components/admin/Settings/Connections/OllamaConnection.svelte","../../../../../../src/lib/components/admin/Settings/Connections.svelte","../../../../../../src/lib/components/admin/Settings/Documents.svelte","../../../../../../src/lib/components/admin/Settings/WebSearch.svelte","../../../../../../src/lib/components/admin/Settings/Evaluations.svelte","../../../../../../src/lib/components/admin/Settings/CodeExecution.svelte","../../../../../../src/lib/components/admin/Settings/Tools.svelte","../../../../../../src/lib/components/icons/DocumentChartBar.svelte","../../../../../../src/lib/components/admin/Settings.svelte"],"sourcesContent":["import { IMAGES_API_BASE_URL } from '$lib/constants';\n\nexport const getConfig = async (token: string = '') => {\n\tlet error = null;\n\n\tconst res = await fetch(`${IMAGES_API_BASE_URL}/config`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t...(token && { authorization: `Bearer ${token}` })\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.error(err);\n\t\t\tif ('detail' in err) {\n\t\t\t\terror = err.detail;\n\t\t\t} else {\n\t\t\t\terror = 'Server connection failed';\n\t\t\t}\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const updateConfig = async (token: string = '', config: object) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${IMAGES_API_BASE_URL}/config/update`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t...(token && { authorization: `Bearer ${token}` })\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\t...config\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.error(err);\n\t\t\tif ('detail' in err) {\n\t\t\t\terror = err.detail;\n\t\t\t} else {\n\t\t\t\terror = 'Server connection failed';\n\t\t\t}\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const verifyConfigUrl = async (token: string = '') => {\n\tlet error = null;\n\n\tconst res = await fetch(`${IMAGES_API_BASE_URL}/config/url/verify`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t...(token && { authorization: `Bearer ${token}` })\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.error(err);\n\t\t\tif ('detail' in err) {\n\t\t\t\terror = err.detail;\n\t\t\t} else {\n\t\t\t\terror = 'Server connection failed';\n\t\t\t}\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const getImageGenerationConfig = async (token: string = '') => {\n\tlet error = null;\n\n\tconst res = await fetch(`${IMAGES_API_BASE_URL}/image/config`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t...(token && { authorization: `Bearer ${token}` })\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.error(err);\n\t\t\tif ('detail' in err) {\n\t\t\t\terror = err.detail;\n\t\t\t} else {\n\t\t\t\terror = 'Server connection failed';\n\t\t\t}\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const updateImageGenerationConfig = async (token: string = '', config: object) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${IMAGES_API_BASE_URL}/image/config/update`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t...(token && { authorization: `Bearer ${token}` })\n\t\t},\n\t\tbody: JSON.stringify({ ...config })\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.error(err);\n\t\t\tif ('detail' in err) {\n\t\t\t\terror = err.detail;\n\t\t\t} else {\n\t\t\t\terror = 'Server connection failed';\n\t\t\t}\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const getImageGenerationModels = async (token: string = '') => {\n\tlet error = null;\n\n\tconst res = await fetch(`${IMAGES_API_BASE_URL}/models`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t...(token && { authorization: `Bearer ${token}` })\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.error(err);\n\t\t\tif ('detail' in err) {\n\t\t\t\terror = err.detail;\n\t\t\t} else {\n\t\t\t\terror = 'Server connection failed';\n\t\t\t}\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const imageGenerations = async (token: string = '', prompt: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${IMAGES_API_BASE_URL}/generations`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t...(token && { authorization: `Bearer ${token}` })\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tprompt: prompt\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.error(err);\n\t\t\tif ('detail' in err) {\n\t\t\t\terror = err.detail;\n\t\t\t} else {\n\t\t\t\terror = 'Server connection failed';\n\t\t\t}\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n","<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class={className}>\n\t<path\n\t\td=\"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\n\timport { downloadDatabase } from '$lib/apis/utils';\n\timport { onMount, getContext } from 'svelte';\n\timport { config, user } from '$lib/stores';\n\timport { toast } from 'svelte-sonner';\n\timport { getAllUserChats } from '$lib/apis/chats';\n\timport { getAllUsers } from '$lib/apis/users';\n\timport { exportConfig, importConfig } from '$lib/apis/configs';\n\n\tconst i18n = getContext('i18n');\n\n\texport let saveHandler: Function;\n\n\tconst exportAllUserChats = async () => {\n\t\tlet blob = new Blob([JSON.stringify(await getAllUserChats(localStorage.token))], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tsaveAs(blob, `all-chats-export-${Date.now()}.json`);\n\t};\n\n\tconst exportUsers = async () => {\n\t\tconst users = await getAllUsers(localStorage.token);\n\n\t\tconst headers = ['id', 'name', 'email', 'role'];\n\n\t\tconst csv = [\n\t\t\theaders.join(','),\n\t\t\t...users.users.map((user) => {\n\t\t\t\treturn headers\n\t\t\t\t\t.map((header) => {\n\t\t\t\t\t\tif (user[header] === null || user[header] === undefined) {\n\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn `\"${String(user[header]).replace(/\"/g, '\"\"')}\"`;\n\t\t\t\t\t})\n\t\t\t\t\t.join(',');\n\t\t\t})\n\t\t].join('\\n');\n\n\t\tconst blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n\t\tsaveAs(blob, 'users.csv');\n\t};\n\n\tonMount(async () => {\n\t\t// permissions = await getUserPermissions(localStorage.token);\n\t});\n</script>\n\n<form\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\ton:submit|preventDefault={async () => {\n\t\tsaveHandler();\n\t}}\n>\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\n\t\t<div>\n\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Database')}</div>\n\n\t\t\t<input\n\t\t\t\tid=\"config-json-input\"\n\t\t\t\thidden\n\t\t\t\ttype=\"file\"\n\t\t\t\taccept=\".json\"\n\t\t\t\ton:change={(e) => {\n\t\t\t\t\tconst file = e.target.files[0];\n\t\t\t\t\tconst reader = new FileReader();\n\n\t\t\t\t\treader.onload = async (e) => {\n\t\t\t\t\t\tconst res = await importConfig(localStorage.token, JSON.parse(e.target.result)).catch(\n\t\t\t\t\t\t\t(error) => {\n\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\ttoast.success($i18n.t('Config imported successfully'));\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.target.value = null;\n\t\t\t\t\t};\n\n\t\t\t\t\treader.readAsText(file);\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\n\t\t\t\ton:click={async () => {\n\t\t\t\t\tdocument.getElementById('config-json-input').click();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\" self-center text-sm font-medium\">\n\t\t\t\t\t{$i18n.t('Import Config from JSON File')}\n\t\t\t\t</div>\n\t\t\t</button>\n\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\n\t\t\t\ton:click={async () => {\n\t\t\t\t\tconst config = await exportConfig(localStorage.token);\n\t\t\t\t\tconst blob = new Blob([JSON.stringify(config)], {\n\t\t\t\t\t\ttype: 'application/json'\n\t\t\t\t\t});\n\t\t\t\t\tsaveAs(blob, `config-${Date.now()}.json`);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\" self-center text-sm font-medium\">\n\t\t\t\t\t{$i18n.t('Export Config to JSON File')}\n\t\t\t\t</div>\n\t\t\t</button>\n\n\t\t\t<hr class=\"border-gray-50 dark:border-gray-850/30 my-1\" />\n\n\t\t\t{#if $config?.features.enable_admin_export ?? true}\n\t\t\t\t<div class=\"  flex w-full justify-between\">\n\t\t\t\t\t<!-- <div class=\" self-center text-xs font-medium\">{$i18n.t('Allow Chat Deletion')}</div> -->\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\" flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t// exportAllUserChats();\n\n\t\t\t\t\t\t\tdownloadDatabase(localStorage.token).catch((error) => {\n\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Download Database')}</div>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\texportAllUserChats();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\" self-center text-sm font-medium\">\n\t\t\t\t\t\t{$i18n.t('Export All Chats (All Users)')}\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\texportUsers();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\" self-center text-sm font-medium\">\n\t\t\t\t\t\t{$i18n.t('Export Users')}\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\timport DOMPurify from 'dompurify';\n\n\timport { getVersionUpdates, getWebhookUrl, updateWebhookUrl } from '$lib/apis';\n\timport {\n\t\tgetAdminConfig,\n\t\tgetLdapConfig,\n\t\tgetLdapServer,\n\t\tupdateAdminConfig,\n\t\tupdateLdapConfig,\n\t\tupdateLdapServer\n\t} from '$lib/apis/auths';\n\timport { getGroups } from '$lib/apis/groups';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport { WEBUI_BUILD_HASH, WEBUI_VERSION } from '$lib/constants';\n\timport { config, showChangelog } from '$lib/stores';\n\timport { compareVersion } from '$lib/utils';\n\timport { onMount, getContext } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\timport Textarea from '$lib/components/common/Textarea.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let saveHandler: Function;\n\n\tlet updateAvailable = null;\n\tlet version = {\n\t\tcurrent: '',\n\t\tlatest: ''\n\t};\n\n\tlet adminConfig = null;\n\tlet webhookUrl = '';\n\tlet groups = [];\n\n\t// LDAP\n\tlet ENABLE_LDAP = false;\n\tlet LDAP_SERVER = {\n\t\tlabel: '',\n\t\thost: '',\n\t\tport: '',\n\t\tattribute_for_mail: 'mail',\n\t\tattribute_for_username: 'uid',\n\t\tapp_dn: '',\n\t\tapp_dn_password: '',\n\t\tsearch_base: '',\n\t\tsearch_filters: '',\n\t\tuse_tls: false,\n\t\tcertificate_path: '',\n\t\tciphers: ''\n\t};\n\n\tconst checkForVersionUpdates = async () => {\n\t\tupdateAvailable = null;\n\t\tversion = await getVersionUpdates(localStorage.token).catch((error) => {\n\t\t\treturn {\n\t\t\t\tcurrent: WEBUI_VERSION,\n\t\t\t\tlatest: WEBUI_VERSION\n\t\t\t};\n\t\t});\n\n\t\tconsole.info(version);\n\n\t\tupdateAvailable = compareVersion(version.latest, version.current);\n\t\tconsole.info(updateAvailable);\n\t};\n\n\tconst updateLdapServerHandler = async () => {\n\t\tif (!ENABLE_LDAP) return;\n\t\tconst res = await updateLdapServer(localStorage.token, LDAP_SERVER).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('LDAP server updated'));\n\t\t}\n\t};\n\n\tconst updateHandler = async () => {\n\t\twebhookUrl = await updateWebhookUrl(localStorage.token, webhookUrl);\n\t\tconst res = await updateAdminConfig(localStorage.token, adminConfig);\n\t\tawait updateLdapConfig(localStorage.token, ENABLE_LDAP);\n\t\tawait updateLdapServerHandler();\n\n\t\tif (res) {\n\t\t\tsaveHandler();\n\t\t} else {\n\t\t\ttoast.error($i18n.t('Failed to update settings'));\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tif ($config?.features?.enable_version_update_check) {\n\t\t\tcheckForVersionUpdates();\n\t\t}\n\n\t\tawait Promise.all([\n\t\t\t(async () => {\n\t\t\t\tadminConfig = await getAdminConfig(localStorage.token);\n\t\t\t})(),\n\n\t\t\t(async () => {\n\t\t\t\twebhookUrl = await getWebhookUrl(localStorage.token);\n\t\t\t})(),\n\t\t\t(async () => {\n\t\t\t\tLDAP_SERVER = await getLdapServer(localStorage.token);\n\t\t\t})(),\n\t\t\t(async () => {\n\t\t\t\tgroups = await getGroups(localStorage.token);\n\t\t\t})()\n\t\t]);\n\n\t\tconst ldapConfig = await getLdapConfig(localStorage.token);\n\t\tENABLE_LDAP = ldapConfig.ENABLE_LDAP;\n\t});\n</script>\n\n<form\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\ton:submit|preventDefault={async () => {\n\t\tupdateHandler();\n\t}}\n>\n\t<div class=\"space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\n\t\t{#if adminConfig !== null}\n\t\t\t<div class=\"\">\n\t\t\t\t<div class=\"mb-3.5\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('General')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium flex space-x-2 items-center\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{$i18n.t('Version')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t<div class=\"flex flex-col text-xs text-gray-700 dark:text-gray-200\">\n\t\t\t\t\t\t\t\t<div class=\"flex gap-1\">\n\t\t\t\t\t\t\t\t\t<Tooltip content={WEBUI_BUILD_HASH}>\n\t\t\t\t\t\t\t\t\t\tv{WEBUI_VERSION}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t\t{#if $config?.features?.enable_version_update_check}\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref=\"https://github.com/open-webui/open-webui/releases/tag/v{version.latest}\"\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{updateAvailable === null\n\t\t\t\t\t\t\t\t\t\t\t\t? $i18n.t('Checking for updates...')\n\t\t\t\t\t\t\t\t\t\t\t\t: updateAvailable\n\t\t\t\t\t\t\t\t\t\t\t\t\t? `(v${version.latest} ${$i18n.t('available!')})`\n\t\t\t\t\t\t\t\t\t\t\t\t\t: $i18n.t('(latest)')}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\" underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tshowChangelog.set(true);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div>{$i18n.t(\"See what's new\")}</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if $config?.features?.enable_version_update_check}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\" text-xs px-3 py-1.5 bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tcheckForVersionUpdates();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Check for updates')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Help')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\" text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Discover how to use Open WebUI and seek support from the community.')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclass=\"flex-shrink-0 text-xs font-medium underline\"\n\t\t\t\t\t\t\t\thref=\"https://docs.openwebui.com/\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Documentation')}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mt-1\">\n\t\t\t\t\t\t\t<div class=\"flex space-x-1\">\n\t\t\t\t\t\t\t\t<a href=\"https://discord.gg/5rJgQTnV4s\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\talt=\"Discord\"\n\t\t\t\t\t\t\t\t\t\tsrc=\"https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&logoColor=white\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t\t<a href=\"https://twitter.com/OpenWebUI\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\talt=\"X (formerly Twitter) Follow\"\n\t\t\t\t\t\t\t\t\t\tsrc=\"https://img.shields.io/twitter/follow/OpenWebUI\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t\t<a href=\"https://github.com/open-webui/open-webui\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\talt=\"Github Repo\"\n\t\t\t\t\t\t\t\t\t\tsrc=\"https://img.shields.io/github/stars/open-webui/open-webui?style=social&label=Star us on Github\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('License')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{#if $config?.license_metadata}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref=\"https://docs.openwebui.com/enterprise\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\tclass=\"text-gray-500 mt-0.5\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span class=\" capitalize text-black dark:text-white\"\n\t\t\t\t\t\t\t\t\t\t\t>{$config?.license_metadata?.type}\n\t\t\t\t\t\t\t\t\t\t\tlicense</span\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tregistered to\n\t\t\t\t\t\t\t\t\t\t<span class=\" capitalize text-black dark:text-white\"\n\t\t\t\t\t\t\t\t\t\t\t>{$config?.license_metadata?.organization_name}</span\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tfor\n\t\t\t\t\t\t\t\t\t\t<span class=\" font-medium text-black dark:text-white\"\n\t\t\t\t\t\t\t\t\t\t\t>{$config?.license_metadata?.seats ?? 'Unlimited'} users.</span\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t{#if $config?.license_metadata?.html}\n\t\t\t\t\t\t\t\t\t\t<div class=\"mt-0.5\">\n\t\t\t\t\t\t\t\t\t\t\t{@html DOMPurify.sanitize($config?.license_metadata?.html)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass=\" text-xs hover:underline\"\n\t\t\t\t\t\t\t\t\t\thref=\"https://docs.openwebui.com/enterprise\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t'Upgrade to a licensed plan for enhanced capabilities, including custom theming and branding, and dedicated support.'\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- <button\n\t\t\t\t\t\t\t\tclass=\"flex-shrink-0 text-xs px-3 py-1.5 bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Activate')}\n\t\t\t\t\t\t\t</button> -->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Authentication')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Default User Role')}</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\tbind:value={adminConfig.DEFAULT_USER_ROLE}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a role')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"pending\">{$i18n.t('pending')}</option>\n\t\t\t\t\t\t\t\t<option value=\"user\">{$i18n.t('user')}</option>\n\t\t\t\t\t\t\t\t<option value=\"admin\">{$i18n.t('admin')}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Default Group')}</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\tbind:value={adminConfig.DEFAULT_GROUP_ID}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a group')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value={''}>None</option>\n\t\t\t\t\t\t\t\t{#each groups as group}\n\t\t\t\t\t\t\t\t\t<option value={group.id}>{group.name}</option>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\" mb-2.5 flex w-full justify-between pr-2\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Enable New Sign Ups')}</div>\n\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_SIGNUP} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Show Admin Details in Account Pending Overlay')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Switch bind:state={adminConfig.SHOW_ADMIN_DETAILS} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if adminConfig.SHOW_ADMIN_DETAILS}\n\t\t\t\t\t\t<div class=\"mb-2.5 w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Admin Contact Email')}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex mt-2 space-x-2\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Leave empty to use first admin user')}\n\t\t\t\t\t\t\t\t\tbind:value={adminConfig.ADMIN_EMAIL}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-2\">\n\t\t\t\t\t\t\t{$i18n.t('Pending User Overlay Title')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t'Enter a title for the pending user info overlay. Leave empty for default.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tbind:value={adminConfig.PENDING_USER_OVERLAY_TITLE}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-2\">\n\t\t\t\t\t\t\t{$i18n.t('Pending User Overlay Content')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t'Enter content for the pending user info overlay. Leave empty for default.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tbind:value={adminConfig.PENDING_USER_OVERLAY_CONTENT}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full justify-between pr-2\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Enable API Keys')}</div>\n\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_API_KEYS} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if adminConfig?.ENABLE_API_KEYS}\n\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full justify-between pr-2\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t{$i18n.t('API Key Endpoint Restrictions')}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_API_KEYS_ENDPOINT_RESTRICTIONS} />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if adminConfig?.ENABLE_API_KEYS_ENDPOINT_RESTRICTIONS}\n\t\t\t\t\t\t\t<div class=\" flex w-full flex-col pr-2 mb-2.5\">\n\t\t\t\t\t\t\t\t<div class=\" text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Allowed Endpoints')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full mt-1 text-sm dark:text-gray-300 bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder={`e.g.) /api/v1/messages, /api/v1/channels`}\n\t\t\t\t\t\t\t\t\tbind:value={adminConfig.API_KEYS_ALLOWED_ENDPOINTS}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t<!-- https://docs.openwebui.com/getting-started/advanced-topics/api-endpoints -->\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref=\"https://docs.openwebui.com/getting-started/api-endpoints\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium underline\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('To learn more about available endpoints, visit our documentation.')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t<div class=\" mb-2.5 w-full justify-between\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('JWT Expiration')}</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex mt-2 space-x-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder={`e.g.) \"30m\",\"1h\", \"10d\". `}\n\t\t\t\t\t\t\t\tbind:value={adminConfig.JWT_EXPIRES_IN}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('Valid time units:')}\n\t\t\t\t\t\t\t<span class=\" text-gray-300 font-medium\"\n\t\t\t\t\t\t\t\t>{$i18n.t(\"'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.\")}</span\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if adminConfig.JWT_EXPIRES_IN === '-1'}\n\t\t\t\t\t\t\t<div class=\"mt-2 text-xs\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\" bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-3 py-2\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<span class=\" font-medium\">{$i18n.t('Warning')}:</span>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t><a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"https://docs.openwebui.com/getting-started/env-configuration#jwt_expires_in\"\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\" underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{$i18n.t('No expiration can pose security risks.')}\n\t\t\t\t\t\t\t\t\t\t\t</a></span\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\" space-y-3\">\n\t\t\t\t\t\t<div class=\"mt-2 space-y-2 pr-1.5\">\n\t\t\t\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\n\t\t\t\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('LDAP')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"mt-1\">\n\t\t\t\t\t\t\t\t\t<Switch bind:state={ENABLE_LDAP} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if ENABLE_LDAP}\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col gap-1\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Label')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter server label')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.label}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Host')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter server host')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.host}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Port')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t('Default to 389 or 636 if TLS is enabled')}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter server port')}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.port}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Application DN')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t('The Application Account DN you bind with for search')}\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Application DN')}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.app_dn}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Application DN Password')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Application DN Password')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.app_dn_password}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Attribute for Mail')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'The LDAP attribute that maps to the mail that users use to sign in.'\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Example: mail')}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.attribute_for_mail}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Attribute for Username')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'The LDAP attribute that maps to the username that users use to sign in.'\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Example: sAMAccountName or uid or userPrincipalName'\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.attribute_for_username}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Search Base')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t('The base to search for users')}\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Example: ou=users,dc=foo,dc=example')}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.search_base}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Search Filters')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Example: (&(objectClass=inetOrgPerson)(uid=%s))')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.search_filters}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium underline\"\n\t\t\t\t\t\t\t\t\t\t\thref=\"https://ldap.com/ldap-filters/\"\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Click here for filter guides.')}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('TLS')}</div>\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Switch bind:state={LDAP_SERVER.use_tls} />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{#if LDAP_SERVER.use_tls}\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1 mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Certificate Path')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter certificate path')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.certificate_path}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-between items-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" font-medium\">{$i18n.t('Validate certificate')}</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Switch bind:state={LDAP_SERVER.validate_cert} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Ciphers')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Default to ALL')} placement=\"top-start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Example: ALL')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.ciphers}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Features')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Enable Community Sharing')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_COMMUNITY_SHARING} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Enable Message Rating')}</div>\n\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_MESSAGE_RATING} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Folders')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_FOLDERS} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if adminConfig.ENABLE_FOLDERS}\n\t\t\t\t\t\t<div class=\"mb-2.5 w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Folder Max File Count')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex mt-2 space-x-2\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Leave empty for unlimited')}\n\t\t\t\t\t\t\t\t\tbind:value={adminConfig.FOLDER_MAX_FILE_COUNT}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t{$i18n.t('Maximum number of files allowed per folder.')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Notes')} ({$i18n.t('Beta')})\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_NOTES} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Channels')} ({$i18n.t('Beta')})\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_CHANNELS} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Memories')} ({$i18n.t('Beta')})\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_MEMORIES} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('User Webhooks')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_USER_WEBHOOKS} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('User Status')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_USER_STATUS} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-2\">\n\t\t\t\t\t\t\t{$i18n.t('Response Watermark')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter a watermark for the response. Leave empty for none.')}\n\t\t\t\t\t\t\tbind:value={adminConfig.RESPONSE_WATERMARK}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5 w-full justify-between\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('WebUI URL')}</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex mt-2 space-x-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder={`e.g.) \"http://localhost:3000\"`}\n\t\t\t\t\t\t\t\tbind:value={adminConfig.WEBUI_URL}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t'Enter the public URL of your WebUI. This URL will be used to generate links in the notifications.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\" w-full justify-between\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Webhook URL')}</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex mt-2 space-x-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder={`https://example.com/webhook`}\n\t\t\t\t\t\t\t\tbind:value={webhookUrl}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ttype=\"submit\"\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\timport { v4 as uuidv4 } from 'uuid';\n\n\timport { toast } from 'svelte-sonner';\n\timport { config, models, settings } from '$lib/stores';\n\timport { getContext, onMount, tick } from 'svelte';\n\timport type { Writable } from 'svelte/store';\n\timport type { i18n as i18nType } from 'i18next';\n\timport {\n\t\tgetPipelineValves,\n\t\tgetPipelineValvesSpec,\n\t\tupdatePipelineValves,\n\t\tgetPipelines,\n\t\tgetModels,\n\t\tgetPipelinesList,\n\t\tdownloadPipeline,\n\t\tdeletePipeline,\n\t\tuploadPipeline\n\t} from '$lib/apis';\n\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\n\tconst i18n: Writable<i18nType> = getContext('i18n');\n\n\texport let saveHandler: Function;\n\n\tlet downloading = false;\n\tlet uploading = false;\n\n\tlet pipelineFiles;\n\n\tlet PIPELINES_LIST = null;\n\tlet selectedPipelinesUrlIdx = '';\n\n\tlet pipelines = null;\n\n\tlet valves = null;\n\tlet valves_spec = null;\n\tlet selectedPipelineIdx = null;\n\n\tlet pipelineDownloadUrl = '';\n\n\tconst updateHandler = async () => {\n\t\tconst pipeline = pipelines[selectedPipelineIdx];\n\n\t\tif (pipeline && (pipeline?.valves ?? false)) {\n\t\t\tfor (const property in valves_spec.properties) {\n\t\t\t\tif (valves_spec.properties[property]?.type === 'array') {\n\t\t\t\t\tvalves[property] = (valves[property] ?? '').split(',').map((v) => v.trim());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst res = await updatePipelineValves(\n\t\t\t\tlocalStorage.token,\n\t\t\t\tpipeline.id,\n\t\t\t\tvalves,\n\t\t\t\tselectedPipelinesUrlIdx\n\t\t\t).catch((error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\ttoast.success($i18n.t('Valves updated successfully'));\n\t\t\t\tsetPipelines();\n\t\t\t\tmodels.set(\n\t\t\t\t\tawait getModels(\n\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsaveHandler();\n\t\t\t}\n\t\t} else {\n\t\t\ttoast.error($i18n.t('No valves to update'));\n\t\t}\n\t};\n\n\tconst getValves = async (idx) => {\n\t\tvalves = null;\n\t\tvalves_spec = null;\n\n\t\tvalves_spec = await getPipelineValvesSpec(\n\t\t\tlocalStorage.token,\n\t\t\tpipelines[idx].id,\n\t\t\tselectedPipelinesUrlIdx\n\t\t);\n\t\tvalves = await getPipelineValves(\n\t\t\tlocalStorage.token,\n\t\t\tpipelines[idx].id,\n\t\t\tselectedPipelinesUrlIdx\n\t\t);\n\n\t\tfor (const property in valves_spec.properties) {\n\t\t\tif (valves_spec.properties[property]?.type === 'array') {\n\t\t\t\tvalves[property] = valves[property].join(',');\n\t\t\t}\n\t\t}\n\t};\n\n\tconst setPipelines = async () => {\n\t\tpipelines = null;\n\t\tvalves = null;\n\t\tvalves_spec = null;\n\n\t\tif (PIPELINES_LIST.length > 0) {\n\t\t\tconsole.debug(selectedPipelinesUrlIdx);\n\t\t\tpipelines = await getPipelines(localStorage.token, selectedPipelinesUrlIdx);\n\n\t\t\tif (pipelines.length > 0) {\n\t\t\t\tselectedPipelineIdx = 0;\n\t\t\t\tawait getValves(selectedPipelineIdx);\n\t\t\t}\n\t\t} else {\n\t\t\tpipelines = [];\n\t\t}\n\t};\n\n\tconst addPipelineHandler = async () => {\n\t\tdownloading = true;\n\t\tconst res = await downloadPipeline(\n\t\t\tlocalStorage.token,\n\t\t\tpipelineDownloadUrl,\n\t\t\tselectedPipelinesUrlIdx\n\t\t).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Pipeline downloaded successfully'));\n\t\t\tsetPipelines();\n\t\t\tmodels.set(\n\t\t\t\tawait getModels(\n\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tdownloading = false;\n\t};\n\n\tconst uploadPipelineHandler = async () => {\n\t\tuploading = true;\n\n\t\tif (pipelineFiles && pipelineFiles.length !== 0) {\n\t\t\tconst file = pipelineFiles[0];\n\n\t\t\tconsole.log(file);\n\n\t\t\tconst res = await uploadPipeline(localStorage.token, file, selectedPipelinesUrlIdx).catch(\n\t\t\t\t(error) => {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\ttoast.error($i18n.t('Something went wrong :/'));\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (res) {\n\t\t\t\ttoast.success($i18n.t('Pipeline downloaded successfully'));\n\t\t\t\tsetPipelines();\n\t\t\t\tmodels.set(\n\t\t\t\t\tawait getModels(\n\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\ttoast.error($i18n.t('No file selected'));\n\t\t}\n\n\t\tpipelineFiles = null;\n\t\tconst pipelineUploadInputElement = document.getElementById('pipelines-upload-input');\n\n\t\tif (pipelineUploadInputElement) {\n\t\t\tpipelineUploadInputElement.value = null;\n\t\t}\n\n\t\tuploading = false;\n\t};\n\n\tconst deletePipelineHandler = async () => {\n\t\tconst res = await deletePipeline(\n\t\t\tlocalStorage.token,\n\t\t\tpipelines[selectedPipelineIdx].id,\n\t\t\tselectedPipelinesUrlIdx\n\t\t).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Pipeline deleted successfully'));\n\t\t\tsetPipelines();\n\t\t\tmodels.set(\n\t\t\t\tawait getModels(\n\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tPIPELINES_LIST = await getPipelinesList(localStorage.token);\n\t\tconsole.log(PIPELINES_LIST);\n\n\t\tif (PIPELINES_LIST.length > 0) {\n\t\t\tselectedPipelinesUrlIdx = PIPELINES_LIST[0]['idx'].toString();\n\t\t}\n\n\t\tawait setPipelines();\n\t});\n</script>\n\n<form\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\ton:submit|preventDefault={async () => {\n\t\tupdateHandler();\n\t}}\n>\n\t<div class=\"overflow-y-scroll scrollbar-hidden h-full\">\n\t\t{#if PIPELINES_LIST !== null}\n\t\t\t<div class=\"flex w-full justify-between mb-2\">\n\t\t\t\t<div class=\" self-center text-sm font-medium\">\n\t\t\t\t\t{$i18n.t('Manage Pipelines')}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{#if PIPELINES_LIST.length > 0}\n\t\t\t\t<div class=\"space-y-1\">\n\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\tbind:value={selectedPipelinesUrlIdx}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a pipeline url')}\n\t\t\t\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\t\t\t\tawait tick();\n\t\t\t\t\t\t\t\t\tawait setPipelines();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\" selected disabled class=\"bg-gray-100 dark:bg-gray-700\"\n\t\t\t\t\t\t\t\t\t>{$i18n.t('Select a pipeline url')}</option\n\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t{#each PIPELINES_LIST as pipelines, idx}\n\t\t\t\t\t\t\t\t\t<option value={pipelines.idx.toString()} class=\"bg-gray-100 dark:bg-gray-700\"\n\t\t\t\t\t\t\t\t\t\t>{pipelines.url}</option\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\" my-2\">\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">\n\t\t\t\t\t\t{$i18n.t('Upload Pipeline')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"pipelines-upload-input\"\n\t\t\t\t\t\t\t\tbind:files={pipelineFiles}\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\taccept=\".py\"\n\t\t\t\t\t\t\t\thidden\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tdocument.getElementById('pipelines-upload-input')?.click();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if pipelineFiles}\n\t\t\t\t\t\t\t\t\t{pipelineFiles.length > 0 ? `${pipelineFiles.length}` : ''} pipeline(s) selected.\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to select a py file.')}\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tuploadPipelineHandler();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={uploading}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if uploading}\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</style>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\" my-2\">\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">\n\t\t\t\t\t\t{$i18n.t('Install from Github URL')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Github Raw URL')}\n\t\t\t\t\t\t\t\tbind:value={pipelineDownloadUrl}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\taddPipelineHandler();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={downloading}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if downloading}\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</style>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-500\">\n\t\t\t\t\t\t<span class=\" font-medium dark:text-gray-200\">{$i18n.t('Warning:')}</span>\n\t\t\t\t\t\t{$i18n.t('Pipelines are a plugin system with arbitrary code execution ')}\n\t\t\t\t\t\t<span class=\" font-medium dark:text-gray-400\"\n\t\t\t\t\t\t\t>{$i18n.t(\"don't fetch random pipelines from sources you don't trust.\")}</span\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<hr class=\"border-gray-100/30 dark:border-gray-850/30 my-3 w-full\" />\n\n\t\t\t\t{#if pipelines !== null}\n\t\t\t\t\t{#if pipelines.length > 0}\n\t\t\t\t\t\t<div class=\"flex w-full justify-between mb-2\">\n\t\t\t\t\t\t\t<div class=\" self-center text-sm font-medium\">\n\t\t\t\t\t\t\t\t{$i18n.t('Pipelines Valves')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"space-y-1\">\n\t\t\t\t\t\t\t{#if pipelines.length > 0}\n\t\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={selectedPipelineIdx}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a pipeline')}\n\t\t\t\t\t\t\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\tawait tick();\n\t\t\t\t\t\t\t\t\t\t\t\tawait getValves(selectedPipelineIdx);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{#each pipelines as pipeline, idx}\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={idx} class=\"bg-gray-100 dark:bg-gray-700\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>{pipeline.name} ({pipeline.type ?? 'pipe'})</option\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tdeletePipelineHandler();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t<div class=\"space-y-1\">\n\t\t\t\t\t\t\t\t{#if pipelines[selectedPipelineIdx].valves}\n\t\t\t\t\t\t\t\t\t{#if valves}\n\t\t\t\t\t\t\t\t\t\t{#each Object.keys(valves_spec.properties) as property, idx}\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" py-0.5 w-full justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{valves_spec.properties[property].title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalves[property] = (valves[property] ?? null) === null ? '' : null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if (valves[property] ?? null) === null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('None')} </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('Custom')} </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t{#if (valves[property] ?? null) !== null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- {valves[property]} -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex mt-0.5 mb-1.5 space-x-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if valves_spec.properties[property]?.enum ?? null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={valves[property]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#each valves_spec.properties[property].enum as option}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={option} selected={option === valves[property]}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{option}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{:else if (valves_spec.properties[property]?.type ?? null) === 'boolean'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-between items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{valves[property] ? $i18n.t('Enabled') : $i18n.t('Disabled')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" pr-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Switch bind:state={valves[property]} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={valves_spec.properties[property].title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={valves[property]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<Spinner className=\"size-5\" />\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<div>{$i18n.t('No valves')}</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if pipelines.length === 0}\n\t\t\t\t\t\t<div>{$i18n.t('Pipelines Not Detected')}</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"flex justify-center\">\n\t\t\t\t\t\t<div class=\"my-auto\">\n\t\t\t\t\t\t\t<Spinner className=\"size-4\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t{:else}\n\t\t\t\t<div>{$i18n.t('Pipelines Not Detected')}</div>\n\t\t\t{/if}\n\t\t{:else}\n\t\t\t<div class=\"flex justify-center h-full\">\n\t\t\t\t<div class=\"my-auto\">\n\t\t\t\t\t<Spinner className=\"size-6\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t{#if PIPELINES_LIST !== null && PIPELINES_LIST.length > 0}\n\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t<button\n\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\t\ttype=\"submit\"\n\t\t\t>\n\t\t\t\t{$i18n.t('Save')}\n\t\t\t</button>\n\t\t</div>\n\t{/if}\n</form>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\n\tconst dispatch = createEventDispatcher();\n\n\timport { getBackendConfig } from '$lib/apis';\n\timport {\n\t\tgetAudioConfig,\n\t\tupdateAudioConfig,\n\t\tgetModels as _getModels,\n\t\tgetVoices as _getVoices\n\t} from '$lib/apis/audio';\n\timport { config, settings } from '$lib/stores';\n\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\n\timport { TTS_RESPONSE_SPLIT } from '$lib/types';\n\n\timport type { Writable } from 'svelte/store';\n\timport type { i18n as i18nType } from 'i18next';\n\timport Textarea from '$lib/components/common/Textarea.svelte';\n\n\tconst i18n = getContext<Writable<i18nType>>('i18n');\n\n\texport let saveHandler: () => void;\n\n\t// Audio\n\tlet TTS_OPENAI_API_BASE_URL = '';\n\tlet TTS_OPENAI_API_KEY = '';\n\tlet TTS_API_KEY = '';\n\tlet TTS_ENGINE = '';\n\tlet TTS_MODEL = '';\n\tlet TTS_VOICE = '';\n\tlet TTS_OPENAI_PARAMS = '';\n\tlet TTS_SPLIT_ON: TTS_RESPONSE_SPLIT = TTS_RESPONSE_SPLIT.PUNCTUATION;\n\tlet TTS_AZURE_SPEECH_REGION = '';\n\tlet TTS_AZURE_SPEECH_BASE_URL = '';\n\tlet TTS_AZURE_SPEECH_OUTPUT_FORMAT = '';\n\n\tlet STT_OPENAI_API_BASE_URL = '';\n\tlet STT_OPENAI_API_KEY = '';\n\tlet STT_ENGINE = '';\n\tlet STT_MODEL = '';\n\tlet STT_SUPPORTED_CONTENT_TYPES = '';\n\tlet STT_WHISPER_MODEL = '';\n\tlet STT_AZURE_API_KEY = '';\n\tlet STT_AZURE_REGION = '';\n\tlet STT_AZURE_LOCALES = '';\n\tlet STT_AZURE_BASE_URL = '';\n\tlet STT_AZURE_MAX_SPEAKERS = '';\n\tlet STT_DEEPGRAM_API_KEY = '';\n\tlet STT_MISTRAL_API_KEY = '';\n\tlet STT_MISTRAL_API_BASE_URL = '';\n\tlet STT_MISTRAL_USE_CHAT_COMPLETIONS = false;\n\n\tlet STT_WHISPER_MODEL_LOADING = false;\n\n\t// eslint-disable-next-line no-undef\n\tlet voices: SpeechSynthesisVoice[] = [];\n\tlet models: Awaited<ReturnType<typeof _getModels>>['models'] = [];\n\n\tconst getModels = async () => {\n\t\tif (TTS_ENGINE === '') {\n\t\t\tmodels = [];\n\t\t} else {\n\t\t\tconst res = await _getModels(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t).catch((e) => {\n\t\t\t\ttoast.error(`${e}`);\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\tconsole.log(res);\n\t\t\t\tmodels = res.models;\n\t\t\t}\n\t\t}\n\t};\n\n\tconst getVoices = async () => {\n\t\tif (TTS_ENGINE === '') {\n\t\t\tconst getVoicesLoop = setInterval(() => {\n\t\t\t\tvoices = speechSynthesis.getVoices();\n\n\t\t\t\t// do your loop\n\t\t\t\tif (voices.length > 0) {\n\t\t\t\t\tclearInterval(getVoicesLoop);\n\t\t\t\t\tvoices.sort((a, b) => a.name.localeCompare(b.name, $i18n.resolvedLanguage));\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t} else {\n\t\t\tconst res = await _getVoices(localStorage.token).catch((e) => {\n\t\t\t\ttoast.error(`${e}`);\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\tconsole.log(res);\n\t\t\t\tvoices = res.voices;\n\t\t\t\tvoices.sort((a, b) => a.name.localeCompare(b.name, $i18n.resolvedLanguage));\n\t\t\t}\n\t\t}\n\t};\n\n\tconst updateConfigHandler = async () => {\n\t\tlet openaiParams = {};\n\t\ttry {\n\t\t\topenaiParams = TTS_OPENAI_PARAMS ? JSON.parse(TTS_OPENAI_PARAMS) : {};\n\t\t\tTTS_OPENAI_PARAMS = JSON.stringify(openaiParams, null, 2);\n\t\t} catch (e) {\n\t\t\ttoast.error($i18n.t('Invalid JSON format for Parameters'));\n\t\t\treturn;\n\t\t}\n\n\t\tconst res = await updateAudioConfig(localStorage.token, {\n\t\t\ttts: {\n\t\t\t\tOPENAI_API_BASE_URL: TTS_OPENAI_API_BASE_URL,\n\t\t\t\tOPENAI_API_KEY: TTS_OPENAI_API_KEY,\n\t\t\t\tOPENAI_PARAMS: openaiParams,\n\t\t\t\tAPI_KEY: TTS_API_KEY,\n\t\t\t\tENGINE: TTS_ENGINE,\n\t\t\t\tMODEL: TTS_MODEL,\n\t\t\t\tVOICE: TTS_VOICE,\n\t\t\t\tAZURE_SPEECH_REGION: TTS_AZURE_SPEECH_REGION,\n\t\t\t\tAZURE_SPEECH_BASE_URL: TTS_AZURE_SPEECH_BASE_URL,\n\t\t\t\tAZURE_SPEECH_OUTPUT_FORMAT: TTS_AZURE_SPEECH_OUTPUT_FORMAT,\n\t\t\t\tSPLIT_ON: TTS_SPLIT_ON\n\t\t\t},\n\t\t\tstt: {\n\t\t\t\tOPENAI_API_BASE_URL: STT_OPENAI_API_BASE_URL,\n\t\t\t\tOPENAI_API_KEY: STT_OPENAI_API_KEY,\n\t\t\t\tENGINE: STT_ENGINE,\n\t\t\t\tMODEL: STT_MODEL,\n\t\t\t\tSUPPORTED_CONTENT_TYPES: STT_SUPPORTED_CONTENT_TYPES.split(','),\n\t\t\t\tWHISPER_MODEL: STT_WHISPER_MODEL,\n\t\t\t\tDEEPGRAM_API_KEY: STT_DEEPGRAM_API_KEY,\n\t\t\t\tAZURE_API_KEY: STT_AZURE_API_KEY,\n\t\t\t\tAZURE_REGION: STT_AZURE_REGION,\n\t\t\t\tAZURE_LOCALES: STT_AZURE_LOCALES,\n\t\t\t\tAZURE_BASE_URL: STT_AZURE_BASE_URL,\n\t\t\t\tAZURE_MAX_SPEAKERS: STT_AZURE_MAX_SPEAKERS,\n\t\t\t\tMISTRAL_API_KEY: STT_MISTRAL_API_KEY,\n\t\t\t\tMISTRAL_API_BASE_URL: STT_MISTRAL_API_BASE_URL,\n\t\t\t\tMISTRAL_USE_CHAT_COMPLETIONS: STT_MISTRAL_USE_CHAT_COMPLETIONS\n\t\t\t}\n\t\t});\n\n\t\tif (res) {\n\t\t\tsaveHandler();\n\t\t\tconfig.set(await getBackendConfig());\n\t\t}\n\t};\n\n\tconst sttModelUpdateHandler = async () => {\n\t\tSTT_WHISPER_MODEL_LOADING = true;\n\t\tawait updateConfigHandler();\n\t\tSTT_WHISPER_MODEL_LOADING = false;\n\t};\n\n\tonMount(async () => {\n\t\tconst res = await getAudioConfig(localStorage.token);\n\n\t\tif (res) {\n\t\t\tconsole.log(res);\n\t\t\tTTS_OPENAI_API_BASE_URL = res.tts.OPENAI_API_BASE_URL;\n\t\t\tTTS_OPENAI_API_KEY = res.tts.OPENAI_API_KEY;\n\t\t\tTTS_OPENAI_PARAMS = JSON.stringify(res?.tts?.OPENAI_PARAMS ?? '', null, 2);\n\t\t\tTTS_API_KEY = res.tts.API_KEY;\n\n\t\t\tTTS_ENGINE = res.tts.ENGINE;\n\t\t\tTTS_MODEL = res.tts.MODEL;\n\t\t\tTTS_VOICE = res.tts.VOICE;\n\n\t\t\tTTS_SPLIT_ON = res.tts.SPLIT_ON || TTS_RESPONSE_SPLIT.PUNCTUATION;\n\n\t\t\tTTS_AZURE_SPEECH_REGION = res.tts.AZURE_SPEECH_REGION;\n\t\t\tTTS_AZURE_SPEECH_BASE_URL = res.tts.AZURE_SPEECH_BASE_URL;\n\t\t\tTTS_AZURE_SPEECH_OUTPUT_FORMAT = res.tts.AZURE_SPEECH_OUTPUT_FORMAT;\n\n\t\t\tSTT_OPENAI_API_BASE_URL = res.stt.OPENAI_API_BASE_URL;\n\t\t\tSTT_OPENAI_API_KEY = res.stt.OPENAI_API_KEY;\n\n\t\t\tSTT_ENGINE = res.stt.ENGINE;\n\t\t\tSTT_MODEL = res.stt.MODEL;\n\t\t\tSTT_SUPPORTED_CONTENT_TYPES = (res?.stt?.SUPPORTED_CONTENT_TYPES ?? []).join(',');\n\t\t\tSTT_WHISPER_MODEL = res.stt.WHISPER_MODEL;\n\t\t\tSTT_AZURE_API_KEY = res.stt.AZURE_API_KEY;\n\t\t\tSTT_AZURE_REGION = res.stt.AZURE_REGION;\n\t\t\tSTT_AZURE_LOCALES = res.stt.AZURE_LOCALES;\n\t\t\tSTT_AZURE_BASE_URL = res.stt.AZURE_BASE_URL;\n\t\t\tSTT_AZURE_MAX_SPEAKERS = res.stt.AZURE_MAX_SPEAKERS;\n\t\t\tSTT_DEEPGRAM_API_KEY = res.stt.DEEPGRAM_API_KEY;\n\t\t\tSTT_MISTRAL_API_KEY = res.stt.MISTRAL_API_KEY;\n\t\t\tSTT_MISTRAL_API_BASE_URL = res.stt.MISTRAL_API_BASE_URL;\n\t\t\tSTT_MISTRAL_USE_CHAT_COMPLETIONS = res.stt.MISTRAL_USE_CHAT_COMPLETIONS;\n\t\t}\n\n\t\tawait getVoices();\n\t\tawait getModels();\n\t});\n</script>\n\n<form\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\ton:submit|preventDefault={async () => {\n\t\tawait updateConfigHandler();\n\t\tdispatch('save');\n\t}}\n>\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\n\t\t<div class=\"flex flex-col gap-3\">\n\t\t\t<div>\n\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Speech-to-Text')}</div>\n\n\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t{#if STT_ENGINE !== 'web'}\n\t\t\t\t\t<div class=\"mb-2\">\n\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('Supported MIME Types')}</div>\n\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\tbind:value={STT_SUPPORTED_CONTENT_TYPES}\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t'e.g., audio/wav,audio/mpeg,video/* (leave blank for defaults)'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"mb-2 py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Speech-to-Text Engine')}</div>\n\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\tbind:value={STT_ENGINE}\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select an engine')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Whisper (Local)')}</option>\n\t\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('OpenAI')}</option>\n\t\t\t\t\t\t\t<option value=\"web\">{$i18n.t('Web API')}</option>\n\t\t\t\t\t\t\t<option value=\"deepgram\">{$i18n.t('Deepgram')}</option>\n\t\t\t\t\t\t\t<option value=\"azure\">{$i18n.t('Azure AI Speech')}</option>\n\t\t\t\t\t\t\t<option value=\"mistral\">{$i18n.t('MistralAI')}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{#if STT_ENGINE === 'openai'}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\tbind:value={STT_OPENAI_API_BASE_URL}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={STT_OPENAI_API_KEY} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<hr class=\"border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('STT Model')}</div>\n\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tlist=\"model-list\"\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\tbind:value={STT_MODEL}\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<datalist id=\"model-list\">\n\t\t\t\t\t\t\t\t\t<option value=\"whisper-1\" />\n\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else if STT_ENGINE === 'deepgram'}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\n\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={STT_DEEPGRAM_API_KEY} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<hr class=\"border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('STT Model')}</div>\n\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\tbind:value={STT_MODEL}\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model (optional)')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('Leave model field empty to use the default model.')}\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclass=\" hover:underline dark:text-gray-200 text-gray-800\"\n\t\t\t\t\t\t\t\thref=\"https://developers.deepgram.com/docs/models\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Click here to see available models.')}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else if STT_ENGINE === 'azure'}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\n\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\n\t\t\t\t\t\t\t\tbind:value={STT_AZURE_API_KEY}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr class=\"border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('Azure Region')}</div>\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={STT_AZURE_REGION}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('e.g., westus (leave blank for eastus)')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('Language Locales')}</div>\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={STT_AZURE_LOCALES}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('e.g., en-US,ja-JP (leave blank for auto-detect)')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('Endpoint URL')}</div>\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={STT_AZURE_BASE_URL}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('(leave blank for to use commercial endpoint)')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('Max Speakers')}</div>\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={STT_AZURE_MAX_SPEAKERS}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('e.g., 3, 4, 5 (leave blank for default)')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else if STT_ENGINE === 'mistral'}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\tbind:value={STT_MISTRAL_API_BASE_URL}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={STT_MISTRAL_API_KEY} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<hr class=\"border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('STT Model')}</div>\n\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\tbind:value={STT_MODEL}\n\t\t\t\t\t\t\t\t\tplaceholder=\"voxtral-mini-latest\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('Leave empty to use the default model (voxtral-mini-latest).')}\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclass=\" hover:underline dark:text-gray-200 text-gray-800\"\n\t\t\t\t\t\t\t\thref=\"https://docs.mistral.ai/capabilities/audio_transcription\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Learn more about Voxtral transcription.')}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<hr class=\"border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"flex items-center justify-between mb-2\">\n\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">{$i18n.t('Use Chat Completions API')}</div>\n\t\t\t\t\t\t\t<label class=\"relative inline-flex items-center cursor-pointer\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tbind:checked={STT_MISTRAL_USE_CHAT_COMPLETIONS}\n\t\t\t\t\t\t\t\t\tclass=\"sr-only peer\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t'Use /v1/chat/completions endpoint instead of /v1/audio/transcriptions for potentially better accuracy.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else if STT_ENGINE === ''}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('STT Model')}</div>\n\n\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Set whisper model')}\n\t\t\t\t\t\t\t\t\tbind:value={STT_WHISPER_MODEL}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tsttModelUpdateHandler();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdisabled={STT_WHISPER_MODEL_LOADING}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if STT_WHISPER_MODEL_LOADING}\n\t\t\t\t\t\t\t\t\t<div class=\"self-center\">\n\t\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t(`Open WebUI uses faster-whisper internally.`)}\n\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclass=\" hover:underline dark:text-gray-200 text-gray-800\"\n\t\t\t\t\t\t\t\thref=\"https://github.com/SYSTRAN/faster-whisper\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t\t`Click here to learn more about faster-whisper and see the available models.`\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Text-to-Speech')}</div>\n\n\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t<div class=\"mb-2 py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Text-to-Speech Engine')}</div>\n\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclass=\" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\tbind:value={TTS_ENGINE}\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a mode')}\n\t\t\t\t\t\t\ton:change={async (e) => {\n\t\t\t\t\t\t\t\tawait updateConfigHandler();\n\t\t\t\t\t\t\t\tawait getVoices();\n\t\t\t\t\t\t\t\tawait getModels();\n\n\t\t\t\t\t\t\t\tif (e.target?.value === 'openai') {\n\t\t\t\t\t\t\t\t\tTTS_VOICE = 'alloy';\n\t\t\t\t\t\t\t\t\tTTS_MODEL = 'tts-1';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tTTS_VOICE = '';\n\t\t\t\t\t\t\t\t\tTTS_MODEL = '';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Web API')}</option>\n\t\t\t\t\t\t\t<option value=\"transformers\">{$i18n.t('Transformers')} ({$i18n.t('Local')})</option>\n\t\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('OpenAI')}</option>\n\t\t\t\t\t\t\t<option value=\"elevenlabs\">{$i18n.t('ElevenLabs')}</option>\n\t\t\t\t\t\t\t<option value=\"azure\">{$i18n.t('Azure AI Speech')}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{#if TTS_ENGINE === 'openai'}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\tbind:value={TTS_OPENAI_API_BASE_URL}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={TTS_OPENAI_API_KEY} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else if TTS_ENGINE === 'elevenlabs'}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\n\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={TTS_API_KEY} required />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else if TTS_ENGINE === 'azure'}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\n\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={TTS_API_KEY} required />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr class=\"border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('Azure Region')}</div>\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_AZURE_SPEECH_REGION}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('e.g., westus (leave blank for eastus)')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('Endpoint URL')}</div>\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_AZURE_SPEECH_BASE_URL}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('(leave blank for to use commercial endpoint)')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"mb-2\">\n\t\t\t\t\t{#if TTS_ENGINE === ''}\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('TTS Voice')}</div>\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_VOICE}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"\" selected={TTS_VOICE !== ''}>{$i18n.t('Default')}</option>\n\t\t\t\t\t\t\t\t\t\t{#each voices as voice}\n\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={voice.voiceURI}\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-gray-100 dark:bg-gray-700\"\n\t\t\t\t\t\t\t\t\t\t\t\tselected={TTS_VOICE === voice.voiceURI}>{voice.name}</option\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if TTS_ENGINE === 'transformers'}\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('TTS Model')}</div>\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tlist=\"model-list\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_MODEL}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('CMU ARCTIC speaker embedding name')}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<datalist id=\"model-list\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"tts-1\" />\n\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t{$i18n.t(`Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.`)}\n\n\t\t\t\t\t\t\t\tTo learn more about SpeechT5,\n\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclass=\" hover:underline dark:text-gray-200 text-gray-800\"\n\t\t\t\t\t\t\t\t\thref=\"https://github.com/microsoft/SpeechT5\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t(`click here`, {\n\t\t\t\t\t\t\t\t\t\tname: 'SpeechT5'\n\t\t\t\t\t\t\t\t\t})}.\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\tTo see the available CMU Arctic speaker embeddings,\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclass=\" hover:underline dark:text-gray-200 text-gray-800\"\n\t\t\t\t\t\t\t\t\thref=\"https://huggingface.co/datasets/Matthijs/cmu-arctic-xvectors\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t(`click here`)}.\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if TTS_ENGINE === 'openai'}\n\t\t\t\t\t\t<div class=\" flex gap-2\">\n\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('TTS Voice')}</div>\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tlist=\"voice-list\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={TTS_VOICE}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a voice')}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<datalist id=\"voice-list\">\n\t\t\t\t\t\t\t\t\t\t\t{#each voices as voice}\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={voice.id}>{voice.name}</option>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('TTS Model')}</div>\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tlist=\"tts-model-list\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={TTS_MODEL}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<datalist id=\"tts-model-list\">\n\t\t\t\t\t\t\t\t\t\t\t{#each models as model}\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\" />\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('Additional Parameters')}</div>\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={TTS_OPENAI_PARAMS}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter additional parameters in JSON format')}\n\t\t\t\t\t\t\t\t\t\t\tminSize={100}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if TTS_ENGINE === 'elevenlabs'}\n\t\t\t\t\t\t<div class=\" flex gap-2\">\n\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('TTS Voice')}</div>\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tlist=\"voice-list\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={TTS_VOICE}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a voice')}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<datalist id=\"voice-list\">\n\t\t\t\t\t\t\t\t\t\t\t{#each voices as voice}\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={voice.id}>{voice.name}</option>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('TTS Model')}</div>\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tlist=\"tts-model-list\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={TTS_MODEL}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<datalist id=\"tts-model-list\">\n\t\t\t\t\t\t\t\t\t\t\t{#each models as model}\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\" />\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if TTS_ENGINE === 'azure'}\n\t\t\t\t\t\t<div class=\" flex gap-2\">\n\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">{$i18n.t('TTS Voice')}</div>\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tlist=\"voice-list\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={TTS_VOICE}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a voice')}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<datalist id=\"voice-list\">\n\t\t\t\t\t\t\t\t\t\t\t{#each voices as voice}\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={voice.id}>{voice.name}</option>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Output format')}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref=\"https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=streaming#audio-outputs\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<small>{$i18n.t('Available list')}</small>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tlist=\"tts-model-list\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={TTS_AZURE_SPEECH_OUTPUT_FORMAT}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select an output format')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"pt-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\"self-center text-xs font-medium\">{$i18n.t('Response splitting')}</div>\n\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\taria-label={$i18n.t('Select how to split message text for TTS requests')}\n\t\t\t\t\t\t\tbind:value={TTS_SPLIT_ON}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#each Object.values(TTS_RESPONSE_SPLIT) as split}\n\t\t\t\t\t\t\t\t<option value={split}\n\t\t\t\t\t\t\t\t\t>{$i18n.t(split.charAt(0).toUpperCase() + split.slice(1))}</option\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\"Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.\"\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"flex justify-end text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ttype=\"submit\"\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\timport { onMount, getContext } from 'svelte';\n\n\timport CodeEditor from './CodeEditor.svelte';\n\timport Drawer from './Drawer.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet {\n\t\tshow = $bindable(),\n\t\tvalue = $bindable(),\n\t\tlang = 'python',\n\t\tonChange = () => {},\n\t\tonSave = () => {}\n\t} = $props();\n\n\tlet boilerplate = ``;\n\n\tlet codeEditor = $state(null);\n\tlet _content = $state(value);\n\n\t$effect(() => {\n\t\tif (_content) {\n\t\t\tvalue = _content;\n\t\t}\n\t});\n</script>\n\n<Drawer bind:show>\n\t<div class=\"flex h-full flex-col\">\n\t\t<div\n\t\t\tclass=\" sticky top-0 z-30 flex justify-between bg-white px-4.5 pt-3 pb-3 dark:bg-gray-900 dark:text-gray-100\"\n\t\t>\n\t\t\t<div class=\" font-primary self-center text-lg font-medium\">\n\t\t\t\t{$i18n.t('Code Editor')}\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\taria-label=\"Close\"\n\t\t\t\tonclick={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"h-5 w-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"flex h-full w-full flex-1 flex-col md:flex-row md:space-x-4 dark:text-gray-200 overflow-y-auto\"\n\t\t>\n\t\t\t<div class=\" flex h-full w-full flex-col sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<CodeEditor bind:this={codeEditor} {value} {boilerplate} {lang} {onChange} {onSave} />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Drawer>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\n\timport { config as backendConfig, user } from '$lib/stores';\n\n\timport { getBackendConfig } from '$lib/apis';\n\timport {\n\t\tgetImageGenerationModels,\n\t\tgetImageGenerationConfig,\n\t\tupdateImageGenerationConfig,\n\t\tgetConfig,\n\t\tupdateConfig,\n\t\tverifyConfigUrl\n\t} from '$lib/apis/images';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Textarea from '$lib/components/common/Textarea.svelte';\n\timport CodeEditorModal from '$lib/components/common/CodeEditorModal.svelte';\n\tconst dispatch = createEventDispatcher();\n\n\tconst i18n = getContext('i18n');\n\n\tlet loading = false;\n\n\tlet models = null;\n\tlet config = null;\n\n\tlet showComfyUIWorkflowEditor = false;\n\tlet REQUIRED_WORKFLOW_NODES = [\n\t\t{\n\t\t\ttype: 'prompt',\n\t\t\tkey: 'text',\n\t\t\tnode_ids: ''\n\t\t},\n\t\t{\n\t\t\ttype: 'model',\n\t\t\tkey: 'ckpt_name',\n\t\t\tnode_ids: ''\n\t\t},\n\t\t{\n\t\t\ttype: 'width',\n\t\t\tkey: 'width',\n\t\t\tnode_ids: ''\n\t\t},\n\t\t{\n\t\t\ttype: 'height',\n\t\t\tkey: 'height',\n\t\t\tnode_ids: ''\n\t\t},\n\t\t{\n\t\t\ttype: 'steps',\n\t\t\tkey: 'steps',\n\t\t\tnode_ids: ''\n\t\t},\n\t\t{\n\t\t\ttype: 'seed',\n\t\t\tkey: 'seed',\n\t\t\tnode_ids: ''\n\t\t}\n\t];\n\n\tlet showComfyUIEditWorkflowEditor = false;\n\tlet REQUIRED_EDIT_WORKFLOW_NODES = [\n\t\t{\n\t\t\ttype: 'image',\n\t\t\tkey: 'image',\n\t\t\tnode_ids: ''\n\t\t},\n\t\t{\n\t\t\ttype: 'prompt',\n\t\t\tkey: 'prompt',\n\t\t\tnode_ids: ''\n\t\t},\n\t\t{\n\t\t\ttype: 'model',\n\t\t\tkey: 'unet_name',\n\t\t\tnode_ids: ''\n\t\t},\n\t\t{\n\t\t\ttype: 'width',\n\t\t\tkey: 'width',\n\t\t\tnode_ids: ''\n\t\t},\n\t\t{\n\t\t\ttype: 'height',\n\t\t\tkey: 'height',\n\t\t\tnode_ids: ''\n\t\t}\n\t];\n\n\tconst getModels = async () => {\n\t\tmodels = await getImageGenerationModels(localStorage.token).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\t};\n\n\tconst updateConfigHandler = async () => {\n\t\tif (\n\t\t\tconfig.IMAGE_GENERATION_ENGINE === 'automatic1111' &&\n\t\t\tconfig.AUTOMATIC1111_BASE_URL === ''\n\t\t) {\n\t\t\ttoast.error($i18n.t('AUTOMATIC1111 Base URL is required.'));\n\t\t\tconfig.ENABLE_IMAGE_GENERATION = false;\n\n\t\t\treturn null;\n\t\t} else if (config.IMAGE_GENERATION_ENGINE === 'comfyui' && config.COMFYUI_BASE_URL === '') {\n\t\t\ttoast.error($i18n.t('ComfyUI Base URL is required.'));\n\t\t\tconfig.ENABLE_IMAGE_GENERATION = false;\n\n\t\t\treturn null;\n\t\t} else if (config.IMAGE_GENERATION_ENGINE === 'openai' && config.IMAGES_OPENAI_API_KEY === '') {\n\t\t\ttoast.error($i18n.t('OpenAI API Key is required.'));\n\t\t\tconfig.ENABLE_IMAGE_GENERATION = false;\n\n\t\t\treturn null;\n\t\t} else if (config.IMAGE_GENERATION_ENGINE === 'gemini' && config.IMAGES_GEMINI_API_KEY === '') {\n\t\t\ttoast.error($i18n.t('Gemini API Key is required.'));\n\t\t\tconfig.ENABLE_IMAGE_GENERATION = false;\n\n\t\t\treturn null;\n\t\t}\n\n\t\tconst res = await updateConfig(localStorage.token, {\n\t\t\t...config,\n\t\t\tAUTOMATIC1111_PARAMS:\n\t\t\t\ttypeof config.AUTOMATIC1111_PARAMS === 'string' && config.AUTOMATIC1111_PARAMS.trim() !== ''\n\t\t\t\t\t? JSON.parse(config.AUTOMATIC1111_PARAMS)\n\t\t\t\t\t: {},\n\t\t\tIMAGES_OPENAI_API_PARAMS:\n\t\t\t\ttypeof config.IMAGES_OPENAI_API_PARAMS === 'string' &&\n\t\t\t\tconfig.IMAGES_OPENAI_API_PARAMS.trim() !== ''\n\t\t\t\t\t? JSON.parse(config.IMAGES_OPENAI_API_PARAMS)\n\t\t\t\t\t: {}\n\t\t}).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tif (res.ENABLE_IMAGE_GENERATION) {\n\t\t\t\tbackendConfig.set(await getBackendConfig());\n\t\t\t\tgetModels();\n\t\t\t}\n\n\t\t\treturn res;\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tconst validateJSON = (json) => {\n\t\ttry {\n\t\t\tconst obj = JSON.parse(json);\n\n\t\t\tif (obj && typeof obj === 'object') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} catch (e) {}\n\t\treturn false;\n\t};\n\n\tconst saveHandler = async () => {\n\t\tloading = true;\n\n\t\tif (config?.COMFYUI_WORKFLOW) {\n\t\t\tif (!validateJSON(config?.COMFYUI_WORKFLOW)) {\n\t\t\t\ttoast.error($i18n.t('Invalid JSON format for ComfyUI Workflow.'));\n\t\t\t\tloading = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconfig.COMFYUI_WORKFLOW_NODES = REQUIRED_WORKFLOW_NODES.map((node) => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: node.type,\n\t\t\t\t\tkey: node.key,\n\t\t\t\t\tnode_ids:\n\t\t\t\t\t\tnode.node_ids.trim() === '' ? [] : node.node_ids.split(',').map((id) => id.trim())\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\tif (config?.IMAGES_EDIT_COMFYUI_WORKFLOW) {\n\t\t\tif (!validateJSON(config?.IMAGES_EDIT_COMFYUI_WORKFLOW)) {\n\t\t\t\ttoast.error($i18n.t('Invalid JSON format for ComfyUI Edit Workflow.'));\n\t\t\t\tloading = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconfig.IMAGES_EDIT_COMFYUI_WORKFLOW_NODES = REQUIRED_EDIT_WORKFLOW_NODES.map((node) => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: node.type,\n\t\t\t\t\tkey: node.key,\n\t\t\t\t\tnode_ids:\n\t\t\t\t\t\tnode.node_ids.trim() === '' ? [] : node.node_ids.split(',').map((id) => id.trim())\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\tconst res = await updateConfigHandler();\n\t\tif (res) {\n\t\t\tdispatch('save');\n\t\t}\n\n\t\tloading = false;\n\t};\n\n\tonMount(async () => {\n\t\tif ($user?.role === 'admin') {\n\t\t\tconst res = await getConfig(localStorage.token).catch((error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t\treturn null;\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\tconfig = res;\n\t\t\t}\n\n\t\t\tif (config.ENABLE_IMAGE_GENERATION) {\n\t\t\t\tgetModels();\n\t\t\t}\n\n\t\t\tif (config.COMFYUI_WORKFLOW) {\n\t\t\t\ttry {\n\t\t\t\t\tconfig.COMFYUI_WORKFLOW = JSON.stringify(JSON.parse(config.COMFYUI_WORKFLOW), null, 2);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tREQUIRED_WORKFLOW_NODES = REQUIRED_WORKFLOW_NODES.map((node) => {\n\t\t\t\tconst n = config.COMFYUI_WORKFLOW_NODES.find((n) => n.type === node.type) ?? node;\n\t\t\t\tconsole.debug(n);\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: n.type,\n\t\t\t\t\tkey: n.key,\n\t\t\t\t\tnode_ids: typeof n.node_ids === 'string' ? n.node_ids : n.node_ids.join(',')\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tif (config.IMAGES_EDIT_COMFYUI_WORKFLOW) {\n\t\t\t\ttry {\n\t\t\t\t\tconfig.IMAGES_EDIT_COMFYUI_WORKFLOW = JSON.stringify(\n\t\t\t\t\t\tJSON.parse(config.IMAGES_EDIT_COMFYUI_WORKFLOW),\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t2\n\t\t\t\t\t);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconfig.IMAGES_OPENAI_API_PARAMS =\n\t\t\t\ttypeof config.IMAGES_OPENAI_API_PARAMS === 'object'\n\t\t\t\t\t? JSON.stringify(config.IMAGES_OPENAI_API_PARAMS ?? {}, null, 2)\n\t\t\t\t\t: config.IMAGES_OPENAI_API_PARAMS;\n\n\t\t\tconfig.AUTOMATIC1111_PARAMS =\n\t\t\t\ttypeof config.AUTOMATIC1111_PARAMS === 'object'\n\t\t\t\t\t? JSON.stringify(config.AUTOMATIC1111_PARAMS ?? {}, null, 2)\n\t\t\t\t\t: config.AUTOMATIC1111_PARAMS;\n\n\t\t\tREQUIRED_EDIT_WORKFLOW_NODES = REQUIRED_EDIT_WORKFLOW_NODES.map((node) => {\n\t\t\t\tconst n =\n\t\t\t\t\tconfig.IMAGES_EDIT_COMFYUI_WORKFLOW_NODES.find((n) => n.type === node.type) ?? node;\n\t\t\t\tconsole.debug(n);\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: n.type,\n\t\t\t\t\tkey: n.key,\n\t\t\t\t\tnode_ids: typeof n.node_ids === 'string' ? n.node_ids : n.node_ids.join(',')\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t});\n</script>\n\n<form\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\ton:submit|preventDefault={async () => {\n\t\tsaveHandler();\n\t}}\n>\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden pr-2\">\n\t\t{#if config}\n\t\t\t<div>\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('General')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Image Generation')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Switch bind:state={config.ENABLE_IMAGE_GENERATION} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Create Image')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t{#if config.ENABLE_IMAGE_GENERATION}\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Model')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Model ID')} placement=\"top-start\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tlist=\"model-list\"\n\t\t\t\t\t\t\t\t\t\tclass=\" text-right text-sm bg-transparent outline-hidden max-w-full w-52\"\n\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGE_GENERATION_MODEL}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<datalist id=\"model-list\">\n\t\t\t\t\t\t\t\t\t\t{#each models ?? [] as model}\n\t\t\t\t\t\t\t\t\t\t\t<option value={model.id}>{model.name}</option>\n\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Image Size')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Image Size (e.g. 512x512)')} placement=\"top-start\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"  text-right text-sm bg-transparent outline-hidden max-w-full w-52\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Image Size (e.g. 512x512)')}\n\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGE_SIZE}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if ['comfyui', 'automatic1111', ''].includes(config?.IMAGE_GENERATION_ENGINE)}\n\t\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Steps')}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t('Enter Number of Steps (e.g. 50)')}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\" text-right text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Number of Steps (e.g. 50)')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGE_STEPS}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Image Prompt Generation')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Switch bind:state={config.ENABLE_IMAGE_PROMPT_GENERATION} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Image Generation Engine')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclass=\" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\tbind:value={config.IMAGE_GENERATION_ENGINE}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select Engine')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('Default (Open AI)')}</option>\n\t\t\t\t\t\t\t\t<option value=\"comfyui\">{$i18n.t('ComfyUI')}</option>\n\t\t\t\t\t\t\t\t<option value=\"automatic1111\">{$i18n.t('Automatic1111')}</option>\n\t\t\t\t\t\t\t\t<option value=\"gemini\">{$i18n.t('Gemini')}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if config?.IMAGE_GENERATION_ENGINE === 'openai'}\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('OpenAI API Base URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_OPENAI_API_BASE_URL}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('OpenAI API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\tinputClassName=\"text-right w-full\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_OPENAI_API_KEY}\n\t\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('OpenAI API Version')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Version')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_OPENAI_API_VERSION}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Additional Parameters')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"mt-1.5 flex w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-lg w-full py-2 px-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_OPENAI_API_PARAMS}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter additional parameters in JSON format')}\n\t\t\t\t\t\t\t\t\t\tminSize={100}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if (config?.IMAGE_GENERATION_ENGINE ?? 'automatic1111') === 'automatic1111'}\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('AUTOMATIC1111 Base URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter URL (e.g. http://127.0.0.1:7860/)')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.AUTOMATIC1111_BASE_URL}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"  transition\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"verify connection\"\n\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\tawait updateConfigHandler();\n\t\t\t\t\t\t\t\t\t\t\tconst res = await verifyConfigUrl(localStorage.token).catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Server connection verified'));\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t{$i18n.t('Include `--api` flag when running stable-diffusion-webui')}\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium\"\n\t\t\t\t\t\t\t\t\thref=\"https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('(e.g. `sh webui.sh --api`)')}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('AUTOMATIC1111 Api Auth String')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\tinputClassName=\"text-right w-full\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter api auth string (e.g. username:password)')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.AUTOMATIC1111_API_AUTH}\n\t\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t{$i18n.t('Include `--api-auth` flag when running stable-diffusion-webui')}\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium\"\n\t\t\t\t\t\t\t\t\thref=\"https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n\n\t\t\t\t\t\t\t\t\t\t.t('(e.g. `sh webui.sh --api --api-auth username_password`)')\n\t\t\t\t\t\t\t\t\t\t.replace('_', ':')}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Additional Parameters')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"mt-1.5 flex w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-lg w-full py-2 px-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={config.AUTOMATIC1111_PARAMS}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter additional parameters in JSON format')}\n\t\t\t\t\t\t\t\t\t\tminSize={100}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if config?.IMAGE_GENERATION_ENGINE === 'comfyui'}\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('ComfyUI Base URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter URL (e.g. http://127.0.0.1:7860/)')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.COMFYUI_BASE_URL}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"  rounded-lg transition\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"verify connection\"\n\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\tawait updateConfigHandler();\n\t\t\t\t\t\t\t\t\t\t\tconst res = await verifyConfigUrl(localStorage.token).catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Server connection verified'));\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('ComfyUI API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\tinputClassName=\"text-right w-full\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('sk-1234')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.COMFYUI_API_KEY}\n\t\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"upload-comfyui-workflow-input\"\n\t\t\t\t\t\t\t\thidden\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\taccept=\".json\"\n\t\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\t\tconst file = e.target.files[0];\n\t\t\t\t\t\t\t\t\tconst reader = new FileReader();\n\n\t\t\t\t\t\t\t\t\treader.onload = (e) => {\n\t\t\t\t\t\t\t\t\t\tconfig.COMFYUI_WORKFLOW = e.target.result;\n\t\t\t\t\t\t\t\t\t\te.target.value = null;\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\treader.readAsText(file);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('ComfyUI Workflow')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2 justify-end flex gap-1\">\n\t\t\t\t\t\t\t\t\t\t{#if config.COMFYUI_WORKFLOW}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-700 dark:text-gray-400 underline\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={$i18n.t('Edit workflow.json content')}\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// open code editor modal\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowComfyUIWorkflowEditor = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Edit')}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Click here to upload a workflow.json file.')}>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-700 dark:text-gray-400 underline\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={$i18n.t('Click here to upload a workflow.json file.')}\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById('upload-comfyui-workflow-input')?.click();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Upload')}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t<CodeEditorModal\n\t\t\t\t\t\t\t\t\tbind:show={showComfyUIWorkflowEditor}\n\t\t\t\t\t\t\t\t\tvalue={config.COMFYUI_WORKFLOW}\n\t\t\t\t\t\t\t\t\tlang=\"json\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tconfig.COMFYUI_WORKFLOW = e;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonSave={() => {\n\t\t\t\t\t\t\t\t\t\tconsole.log('Saved');\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<!-- {#if config.COMFYUI_WORKFLOW}\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg my-1 py-2 px-3 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden disabled:text-gray-600 resize-none\"\n\t\t\t\t\t\t\t\t\t\trows=\"10\"\n\t\t\t\t\t\t\t\t\t\tbind:value={config.COMFYUI_WORKFLOW}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/if} -->\n\t\t\t\t\t\t\t\t{$i18n.t('Make sure to export a workflow.json file as API format from ComfyUI.')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if config.COMFYUI_WORKFLOW}\n\t\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('ComfyUI Workflow Nodes')}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs flex flex-col gap-1.5\">\n\t\t\t\t\t\t\t\t\t{#each REQUIRED_WORKFLOW_NODES as node}\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" capitalize line-clamp-1 w-20 text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{node.type}{node.type === 'prompt' ? '*' : ''}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex mt-0.5 items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Input Key (e.g. text, unet_name, steps)')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"py-1 w-24 text-xs bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Key')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={node.key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"px-2 text-gray-400 dark:text-gray-500\">:</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t('Comma separated Node Ids (e.g. 1 or 1,2)')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full py-1 text-xs bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Node Ids')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={node.node_ids}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('*Prompt node ID(s) are required for image generation')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{:else if config?.IMAGE_GENERATION_ENGINE === 'gemini'}\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Gemini Base URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_GEMINI_API_BASE_URL}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Gemini API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\tinputClassName=\"text-right w-full\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_GEMINI_API_KEY}\n\t\t\t\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Gemini Endpoint Method')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_GEMINI_ENDPOINT_METHOD}\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select Method')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"predict\">predict</option>\n\t\t\t\t\t\t\t\t\t<option value=\"generateContent\">generateContent</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Edit Image')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Image Edit')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Switch bind:state={config.ENABLE_IMAGE_EDIT} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if config?.ENABLE_IMAGE_GENERATION && config?.ENABLE_IMAGE_EDIT}\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Model')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Model ID')} placement=\"top-start\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tlist=\"model-list\"\n\t\t\t\t\t\t\t\t\t\tclass=\"text-right text-sm bg-transparent outline-hidden max-w-full w-52\"\n\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGE_EDIT_MODEL}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<datalist id=\"model-list\">\n\t\t\t\t\t\t\t\t\t\t{#each models ?? [] as model}\n\t\t\t\t\t\t\t\t\t\t\t<option value={model.id}>{model.name}</option>\n\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Image Size')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Image Size (e.g. 512x512)')} placement=\"top-start\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"text-right text-sm bg-transparent outline-hidden max-w-full w-52\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Image Size (e.g. 512x512)')}\n\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGE_EDIT_SIZE}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\n\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Image Edit Engine')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclass=\" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\tbind:value={config.IMAGE_EDIT_ENGINE}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select Engine')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('Default (Open AI)')}</option>\n\t\t\t\t\t\t\t\t<option value=\"comfyui\">{$i18n.t('ComfyUI')}</option>\n\t\t\t\t\t\t\t\t<option value=\"gemini\">{$i18n.t('Gemini')}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if config?.IMAGE_EDIT_ENGINE === 'openai'}\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('OpenAI API Base URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_EDIT_OPENAI_API_BASE_URL}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('OpenAI API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\tinputClassName=\"text-right w-full\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_EDIT_OPENAI_API_KEY}\n\t\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('OpenAI API Version')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Version')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_EDIT_OPENAI_API_VERSION}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if config?.IMAGE_EDIT_ENGINE === 'comfyui'}\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('ComfyUI Base URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter URL (e.g. http://127.0.0.1:7860/)')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_EDIT_COMFYUI_BASE_URL}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"  transition\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"verify connection\"\n\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\tawait updateConfigHandler();\n\t\t\t\t\t\t\t\t\t\t\tconst res = await verifyConfigUrl(localStorage.token).catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Server connection verified'));\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('ComfyUI API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\tinputClassName=\"text-right w-full\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('sk-1234')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_EDIT_COMFYUI_API_KEY}\n\t\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"upload-comfyui-edit-workflow-input\"\n\t\t\t\t\t\t\t\thidden\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\taccept=\".json\"\n\t\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\t\tconst file = e.target.files[0];\n\t\t\t\t\t\t\t\t\tconst reader = new FileReader();\n\n\t\t\t\t\t\t\t\t\treader.onload = (e) => {\n\t\t\t\t\t\t\t\t\t\tconfig.IMAGES_EDIT_COMFYUI_WORKFLOW = e.target.result;\n\t\t\t\t\t\t\t\t\t\te.target.value = null;\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\treader.readAsText(file);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('ComfyUI Workflow')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2 justify-end flex gap-1\">\n\t\t\t\t\t\t\t\t\t\t{#if config.IMAGES_EDIT_COMFYUI_WORKFLOW}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-700 dark:text-gray-400 underline\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={$i18n.t('Edit workflow.json content')}\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// open code editor modal\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowComfyUIEditWorkflowEditor = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Edit')}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Click here to upload a workflow.json file.')}>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-700 dark:text-gray-400 underline\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={$i18n.t('Click here to upload a workflow.json file.')}\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById('upload-comfyui-edit-workflow-input')?.click();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Upload')}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t<CodeEditorModal\n\t\t\t\t\t\t\t\t\tbind:show={showComfyUIEditWorkflowEditor}\n\t\t\t\t\t\t\t\t\tvalue={config.IMAGES_EDIT_COMFYUI_WORKFLOW}\n\t\t\t\t\t\t\t\t\tlang=\"json\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tconfig.IMAGES_EDIT_COMFYUI_WORKFLOW = e;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonSave={() => {\n\t\t\t\t\t\t\t\t\t\tconsole.log('Saved');\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{$i18n.t('Make sure to export a workflow.json file as API format from ComfyUI.')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if config.IMAGES_EDIT_COMFYUI_WORKFLOW}\n\t\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('ComfyUI Workflow Nodes')}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs flex flex-col gap-1.5\">\n\t\t\t\t\t\t\t\t\t{#each REQUIRED_EDIT_WORKFLOW_NODES as node}\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" capitalize line-clamp-1 w-20 text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{node.type}{['prompt', 'image'].includes(node.type) ? '*' : ''}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex mt-0.5 items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Input Key (e.g. text, unet_name, steps)')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"py-1 w-24 text-xs bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Key')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={node.key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"px-2 text-gray-400 dark:text-gray-500\">:</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t('Comma separated Node Ids (e.g. 1 or 1,2)')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full py-1 text-xs bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Node Ids')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={node.node_ids}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('*Prompt node ID(s) are required for image generation')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{:else if config?.IMAGE_EDIT_ENGINE === 'gemini'}\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Gemini Base URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_EDIT_GEMINI_API_BASE_URL}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs pr-2 shrink-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Gemini API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\tinputClassName=\"text-right w-full\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.IMAGES_EDIT_GEMINI_API_KEY}\n\t\t\t\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t: ''}\"\n\t\t\ttype=\"submit\"\n\t\t\tdisabled={loading}\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\n\t\t\t{#if loading}\n\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</button>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Textarea from '$lib/components/common/Textarea.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport EllipsisVertical from '$lib/components/icons/EllipsisVertical.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport Sortable from 'sortablejs';\n\timport { getContext } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\texport let banners = [];\n\n\tlet sortable = null;\n\tlet bannerListElement = null;\n\n\tconst positionChangeHandler = () => {\n\t\tconst bannerIdOrder = Array.from(bannerListElement.children).map((child) =>\n\t\t\tchild.id.replace('banner-item-', '')\n\t\t);\n\n\t\t// Sort the banners array based on the new order\n\t\tbanners = bannerIdOrder.map((id) => {\n\t\t\tconst index = banners.findIndex((banner) => banner.id === id);\n\t\t\treturn banners[index];\n\t\t});\n\t};\n\n\tconst classNames: Record<string, string> = {\n\t\tinfo: 'bg-blue-500/20 text-blue-700 dark:text-blue-200 ',\n\t\tsuccess: 'bg-green-500/20 text-green-700 dark:text-green-200',\n\t\twarning: 'bg-yellow-500/20 text-yellow-700 dark:text-yellow-200',\n\t\terror: 'bg-red-500/20 text-red-700 dark:text-red-200'\n\t};\n\n\t$: if (banners) {\n\t\tinit();\n\t}\n\n\tconst init = () => {\n\t\tif (sortable) {\n\t\t\tsortable.destroy();\n\t\t}\n\n\t\tif (bannerListElement) {\n\t\t\tsortable = new Sortable(bannerListElement, {\n\t\t\t\tanimation: 150,\n\t\t\t\thandle: '.item-handle',\n\t\t\t\tonUpdate: async (event) => {\n\t\t\t\t\tpositionChangeHandler();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n</script>\n\n<div class=\" flex flex-col gap-3 {banners?.length > 0 ? 'mt-2' : ''}\" bind:this={bannerListElement}>\n\t{#each banners as banner, bannerIdx (banner.id)}\n\t\t<div class=\" flex justify-between items-start -ml-1\" id=\"banner-item-{banner.id}\">\n\t\t\t<EllipsisVertical className=\"size-4 cursor-move item-handle\" />\n\n\t\t\t<div class=\"flex flex-row flex-1 gap-2 items-start\">\n\t\t\t\t<select\n\t\t\t\t\tclass=\"w-fit capitalize rounded-xl text-xs bg-transparent outline-hidden pl-1 pr-5\"\n\t\t\t\t\tbind:value={banner.type}\n\t\t\t\t\trequired\n\t\t\t\t>\n\t\t\t\t\t{#if banner.type == ''}\n\t\t\t\t\t\t<option value=\"\" selected disabled class=\"text-gray-900\">{$i18n.t('Type')}</option>\n\t\t\t\t\t{/if}\n\t\t\t\t\t<option value=\"info\" class=\"text-gray-900\">{$i18n.t('Info')}</option>\n\t\t\t\t\t<option value=\"warning\" class=\"text-gray-900\">{$i18n.t('Warning')}</option>\n\t\t\t\t\t<option value=\"error\" class=\"text-gray-900\">{$i18n.t('Error')}</option>\n\t\t\t\t\t<option value=\"success\" class=\"text-gray-900\">{$i18n.t('Success')}</option>\n\t\t\t\t</select>\n\n\t\t\t\t<Textarea\n\t\t\t\t\tclassName=\"mr-2 text-xs w-full bg-transparent outline-hidden resize-none\"\n\t\t\t\t\tplaceholder={$i18n.t('Content')}\n\t\t\t\t\tbind:value={banner.content}\n\t\t\t\t\tmaxSize={100}\n\t\t\t\t/>\n\n\t\t\t\t<div class=\"relative -left-2\">\n\t\t\t\t\t<Tooltip content={$i18n.t('Remember Dismissal')} className=\"flex h-fit items-center\">\n\t\t\t\t\t\t<Switch bind:state={banner.dismissible} />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<button\n\t\t\t\tclass=\"pr-3\"\n\t\t\t\ttype=\"button\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tbanners.splice(bannerIdx, 1);\n\t\t\t\t\tbanners = banners;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-4'} />\n\t\t\t</button>\n\t\t</div>\n\t{/each}\n</div>\n","<script lang=\"ts\">\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\n\timport { v4 as uuidv4 } from 'uuid';\n\timport { toast } from 'svelte-sonner';\n\n\timport { getBackendConfig, getModels, getTaskConfig, updateTaskConfig } from '$lib/apis';\n\timport { setDefaultPromptSuggestions } from '$lib/apis/configs';\n\timport { config, settings, user } from '$lib/stores';\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\n\n\timport { banners as _banners } from '$lib/stores';\n\timport type { Banner } from '$lib/types';\n\n\timport { getBaseModels } from '$lib/apis/models';\n\timport { getBanners, setBanners } from '$lib/apis/configs';\n\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Textarea from '$lib/components/common/Textarea.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Banners from './Interface/Banners.svelte';\n\timport PromptSuggestions from '$lib/components/workspace/Models/PromptSuggestions.svelte';\n\n\tconst dispatch = createEventDispatcher();\n\n\tconst i18n = getContext('i18n');\n\n\tlet taskConfig = {\n\t\tTASK_MODEL: '',\n\t\tTASK_MODEL_EXTERNAL: '',\n\t\tENABLE_TITLE_GENERATION: true,\n\t\tTITLE_GENERATION_PROMPT_TEMPLATE: '',\n\t\tENABLE_FOLLOW_UP_GENERATION: true,\n\t\tFOLLOW_UP_GENERATION_PROMPT_TEMPLATE: '',\n\t\tIMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE: '',\n\t\tENABLE_AUTOCOMPLETE_GENERATION: true,\n\t\tAUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH: -1,\n\t\tTAGS_GENERATION_PROMPT_TEMPLATE: '',\n\t\tENABLE_TAGS_GENERATION: true,\n\t\tENABLE_SEARCH_QUERY_GENERATION: true,\n\t\tENABLE_RETRIEVAL_QUERY_GENERATION: true,\n\t\tQUERY_GENERATION_PROMPT_TEMPLATE: '',\n\t\tTOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE: '',\n\t\tVOICE_MODE_PROMPT_TEMPLATE: ''\n\t};\n\n\tlet promptSuggestions = [];\n\tlet banners: Banner[] = [];\n\n\tconst updateInterfaceHandler = async () => {\n\t\ttaskConfig = await updateTaskConfig(localStorage.token, taskConfig);\n\n\t\tpromptSuggestions = promptSuggestions.filter((p) => p.content !== '');\n\t\tpromptSuggestions = await setDefaultPromptSuggestions(localStorage.token, promptSuggestions);\n\t\tawait updateBanners();\n\n\t\tawait config.set(await getBackendConfig());\n\t};\n\n\tconst updateBanners = async () => {\n\t\t_banners.set(await setBanners(localStorage.token, banners));\n\t};\n\n\tlet workspaceModels = null;\n\tlet baseModels = null;\n\n\tlet models = null;\n\n\tconst init = async () => {\n\t\ttaskConfig = await getTaskConfig(localStorage.token);\n\t\tpromptSuggestions = $config?.default_prompt_suggestions ?? [];\n\t\tbanners = await getBanners(localStorage.token);\n\n\t\tworkspaceModels = await getBaseModels(localStorage.token);\n\t\tbaseModels = await getModels(localStorage.token, null, false);\n\n\t\tmodels = baseModels.map((m) => {\n\t\t\tconst workspaceModel = workspaceModels.find((wm) => wm.id === m.id);\n\n\t\t\tif (workspaceModel) {\n\t\t\t\treturn {\n\t\t\t\t\t...m,\n\t\t\t\t\t...workspaceModel\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t...m,\n\t\t\t\t\tid: m.id,\n\t\t\t\t\tname: m.name,\n\n\t\t\t\t\tis_active: true\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\t\tconsole.debug('models', models);\n\t};\n\n\tonMount(async () => {\n\t\tawait init();\n\t});\n</script>\n\n{#if models !== null && taskConfig}\n\t<form\n\t\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\t\ton:submit|preventDefault={() => {\n\t\t\tupdateInterfaceHandler();\n\t\t\tdispatch('save');\n\t\t}}\n\t>\n\t\t<div class=\"  overflow-y-scroll scrollbar-hidden h-full pr-1.5\">\n\t\t\t<div class=\"mb-3.5\">\n\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Tasks')}</div>\n\n\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t<div class=\" mb-2 font-medium flex items-center\">\n\t\t\t\t\t<div class=\" text-xs mr-1\">{$i18n.t('Task Model')}</div>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t'A task model is used when performing tasks such as generating titles for chats and web search queries'\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"size-3.5\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\td=\"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\" mb-2.5 flex w-full gap-2\">\n\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t<div class=\" text-xs mb-1\">{$i18n.t('Local Task Model')}</div>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\tbind:value={taskConfig.TASK_MODEL}\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\n\t\t\t\t\t\t\ton:change={() => {\n\t\t\t\t\t\t\t\tif (taskConfig.TASK_MODEL) {\n\t\t\t\t\t\t\t\t\tconst model = models.find((m) => m.id === taskConfig.TASK_MODEL);\n\t\t\t\t\t\t\t\t\tif (model) {\n\t\t\t\t\t\t\t\t\t\tif (model?.access_control !== null) {\n\t\t\t\t\t\t\t\t\t\t\ttoast.error(\n\t\t\t\t\t\t\t\t\t\t\t\t$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'This model is not publicly available. Please select another model.'\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\ttaskConfig.TASK_MODEL = model.id;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttaskConfig.TASK_MODEL = '';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\" selected>{$i18n.t('Current Model')}</option>\n\t\t\t\t\t\t\t{#each models as model}\n\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-100 dark:bg-gray-700\">\n\t\t\t\t\t\t\t\t\t{model.name}\n\t\t\t\t\t\t\t\t\t{model?.connection_type === 'local' ? `(${$i18n.t('Local')})` : ''}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t<div class=\" text-xs mb-1\">{$i18n.t('External Task Model')}</div>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\tbind:value={taskConfig.TASK_MODEL_EXTERNAL}\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\n\t\t\t\t\t\t\ton:change={() => {\n\t\t\t\t\t\t\t\tif (taskConfig.TASK_MODEL_EXTERNAL) {\n\t\t\t\t\t\t\t\t\tconst model = models.find((m) => m.id === taskConfig.TASK_MODEL_EXTERNAL);\n\t\t\t\t\t\t\t\t\tif (model) {\n\t\t\t\t\t\t\t\t\t\tif (model?.access_control !== null) {\n\t\t\t\t\t\t\t\t\t\t\ttoast.error(\n\t\t\t\t\t\t\t\t\t\t\t\t$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'This model is not publicly available. Please select another model.'\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\ttaskConfig.TASK_MODEL_EXTERNAL = model.id;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttaskConfig.TASK_MODEL_EXTERNAL = '';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\" selected>{$i18n.t('Current Model')}</option>\n\t\t\t\t\t\t\t{#each models as model}\n\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-100 dark:bg-gray-700\">\n\t\t\t\t\t\t\t\t\t{model.name}\n\t\t\t\t\t\t\t\t\t{model?.connection_type === 'local' ? `(${$i18n.t('Local')})` : ''}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Title Generation')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Switch bind:state={taskConfig.ENABLE_TITLE_GENERATION} />\n\t\t\t\t</div>\n\n\t\t\t\t{#if taskConfig.ENABLE_TITLE_GENERATION}\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Title Generation Prompt')}</div>\n\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\n\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tbind:value={taskConfig.TITLE_GENERATION_PROMPT_TEMPLATE}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Voice Mode Custom Prompt')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tstate={taskConfig.VOICE_MODE_PROMPT_TEMPLATE != null}\n\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\tif (e.detail) {\n\t\t\t\t\t\t\t\ttaskConfig.VOICE_MODE_PROMPT_TEMPLATE = '';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttaskConfig.VOICE_MODE_PROMPT_TEMPLATE = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{#if taskConfig.VOICE_MODE_PROMPT_TEMPLATE != null}\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Voice Mode Prompt')}</div>\n\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\n\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tbind:value={taskConfig.VOICE_MODE_PROMPT_TEMPLATE}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Follow Up Generation')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Switch bind:state={taskConfig.ENABLE_FOLLOW_UP_GENERATION} />\n\t\t\t\t</div>\n\n\t\t\t\t{#if taskConfig.ENABLE_FOLLOW_UP_GENERATION}\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Follow Up Generation Prompt')}</div>\n\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\n\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tbind:value={taskConfig.FOLLOW_UP_GENERATION_PROMPT_TEMPLATE}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Tags Generation')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Switch bind:state={taskConfig.ENABLE_TAGS_GENERATION} />\n\t\t\t\t</div>\n\n\t\t\t\t{#if taskConfig.ENABLE_TAGS_GENERATION}\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Tags Generation Prompt')}</div>\n\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\n\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tbind:value={taskConfig.TAGS_GENERATION_PROMPT_TEMPLATE}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Retrieval Query Generation')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Switch bind:state={taskConfig.ENABLE_RETRIEVAL_QUERY_GENERATION} />\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Web Search Query Generation')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Switch bind:state={taskConfig.ENABLE_SEARCH_QUERY_GENERATION} />\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Query Generation Prompt')}</div>\n\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\n\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\tbind:value={taskConfig.QUERY_GENERATION_PROMPT_TEMPLATE}\n\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t{$i18n.t('Autocomplete Generation')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Tooltip content={$i18n.t('Enable autocomplete generation for chat messages')}>\n\t\t\t\t\t\t<Switch bind:state={taskConfig.ENABLE_AUTOCOMPLETE_GENERATION} />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\n\t\t\t\t{#if taskConfig.ENABLE_AUTOCOMPLETE_GENERATION}\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Autocomplete Generation Input Max Length')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\tcontent={$i18n.t('Character limit for autocomplete generation input')}\n\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"w-full outline-hidden bg-transparent\"\n\t\t\t\t\t\t\t\tbind:value={taskConfig.AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('-1 for no limit, or a positive integer for a specific limit')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Image Prompt Generation Prompt')}</div>\n\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\n\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\tbind:value={taskConfig.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE}\n\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Tools Function Calling Prompt')}</div>\n\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\n\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\tbind:value={taskConfig.TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE}\n\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"mb-3.5\">\n\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('UI')}</div>\n\n\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t\t\t\t{$i18n.t('Banners')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tif (banners.length === 0 || banners.at(-1).content !== '') {\n\t\t\t\t\t\t\t\t\tbanners = [\n\t\t\t\t\t\t\t\t\t\t...banners,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tid: uuidv4(),\n\t\t\t\t\t\t\t\t\t\t\ttype: '',\n\t\t\t\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\t\t\t\t\t\tdismissible: true,\n\t\t\t\t\t\t\t\t\t\t\ttimestamp: Math.floor(Date.now() / 1000)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td=\"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Banners bind:banners />\n\t\t\t\t</div>\n\n\t\t\t\t{#if $user?.role === 'admin'}\n\t\t\t\t\t<PromptSuggestions bind:promptSuggestions />\n\n\t\t\t\t\t{#if promptSuggestions.length > 0}\n\t\t\t\t\t\t<div class=\"text-xs text-left w-full mt-2\">\n\t\t\t\t\t\t\t{$i18n.t('Adjusting these settings will apply changes universally to all users.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"flex justify-end text-sm font-medium\">\n\t\t\t<button\n\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\t\ttype=\"submit\"\n\t\t\t>\n\t\t\t\t{$i18n.t('Save')}\n\t\t\t</button>\n\t\t</div>\n\t</form>\n{:else}\n\t<div class=\" h-full w-full flex justify-center items-center\">\n\t\t<Spinner className=\"size-5\" />\n\t</div>\n{/if}\n","<script lang=\"ts\">\n\timport Sortable from 'sortablejs';\n\n\timport { createEventDispatcher, getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport { models } from '$lib/stores';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport EllipsisVertical from '$lib/components/icons/EllipsisVertical.svelte';\n\n\texport let modelIds = [];\n\n\tlet sortable = null;\n\tlet modelListElement = null;\n\n\tconst positionChangeHandler = () => {\n\t\tconst modelList = Array.from(modelListElement.children).map((child) =>\n\t\t\tchild.id.replace('model-item-', '')\n\t\t);\n\n\t\tmodelIds = modelList;\n\t};\n\n\t$: if (modelIds) {\n\t\tinit();\n\t}\n\n\tconst init = () => {\n\t\tif (sortable) {\n\t\t\tsortable.destroy();\n\t\t}\n\n\t\tif (modelListElement) {\n\t\t\tsortable = new Sortable(modelListElement, {\n\t\t\t\tanimation: 150,\n\t\t\t\thandle: '.model-item-handle',\n\t\t\t\tonUpdate: async (event) => {\n\t\t\t\t\tpositionChangeHandler();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n</script>\n\n{#if modelIds.length > 0}\n\t<div class=\"flex flex-col -translate-x-1\" bind:this={modelListElement}>\n\t\t{#each modelIds as modelId, modelIdx (`${modelId}-${modelIdx}`)}\n\t\t\t<div class=\" flex gap-2 w-full justify-between items-center\" id=\"model-item-{modelId}\">\n\t\t\t\t<Tooltip content={modelId} placement=\"top-start\">\n\t\t\t\t\t<div class=\"flex items-center gap-1\">\n\t\t\t\t\t\t<EllipsisVertical className=\"size-4 cursor-move model-item-handle\" />\n\n\t\t\t\t\t\t<div class=\" text-sm flex-1 py-1 rounded-lg\">\n\t\t\t\t\t\t\t{#if $models.find((model) => model.id === modelId)}\n\t\t\t\t\t\t\t\t{$models.find((model) => model.id === modelId).name}\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t{modelId}\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Tooltip>\n\t\t\t</div>\n\t\t{/each}\n\t</div>\n{:else}\n\t<div class=\"text-gray-500 text-xs text-center py-2\">\n\t\t{$i18n.t('No models found')}\n\t</div>\n{/if}\n","<script lang=\"ts\">\n\timport { getContext } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport Minus from '$lib/components/icons/Minus.svelte';\n\n\texport let title = '';\n\texport let models = [];\n\texport let modelIds = [];\n\n\tlet selectedModelId = '';\n</script>\n\n<div>\n\t<div class=\"flex flex-col w-full\">\n\t\t<div class=\"mb-1 flex justify-between\">\n\t\t\t<div class=\"text-xs text-gray-500\">{title}</div>\n\t\t</div>\n\n\t\t<div class=\"flex items-center -mr-1\">\n\t\t\t<select\n\t\t\t\tclass=\"dark:bg-gray-900 w-full py-1 text-sm rounded-lg bg-transparent {selectedModelId\n\t\t\t\t\t? ''\n\t\t\t\t\t: 'text-gray-500'} placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\n\t\t\t\tbind:value={selectedModelId}\n\t\t\t\ton:change={() => {\n\t\t\t\t\tif (selectedModelId && !modelIds.includes(selectedModelId)) {\n\t\t\t\t\t\tmodelIds = [...modelIds, selectedModelId];\n\t\t\t\t\t}\n\t\t\t\t\tselectedModelId = '';\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<option value=\"\">{$i18n.t('Select a model')}</option>\n\t\t\t\t{#each models as model}\n\t\t\t\t\t{#if !modelIds.includes(model.id)}\n\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\">{model.name}</option>\n\t\t\t\t\t{/if}\n\t\t\t\t{/each}\n\t\t\t</select>\n\t\t</div>\n\n\t\t<!-- <hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" /> -->\n\n\t\t{#if modelIds.length > 0}\n\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t{#each modelIds as modelId, modelIdx}\n\t\t\t\t\t<div class=\" flex gap-2 w-full justify-between items-center\">\n\t\t\t\t\t\t<div class=\" text-sm flex-1 py-1 rounded-lg\">\n\t\t\t\t\t\t\t{models.find((model) => model.id === modelId)?.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tmodelIds = modelIds.filter((_, idx) => idx !== modelIdx);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Minus strokeWidth=\"2\" className=\"size-3.5\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"text-gray-500 text-xs text-center py-2\">\n\t\t\t\t{$i18n.t('No models selected')}\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</div>\n","<script>\n\timport { createEventDispatcher, getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport { models } from '$lib/stores';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport Minus from '$lib/components/icons/Minus.svelte';\n\timport PencilSolid from '$lib/components/icons/PencilSolid.svelte';\n\timport { toast } from 'svelte-sonner';\n\timport AccessControl from '$lib/components/workspace/common/AccessControl.svelte';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport { WEBUI_BASE_URL } from '$lib/constants';\n\n\texport let show = false;\n\texport let edit = false;\n\n\texport let model = null;\n\n\tlet name = '';\n\tlet id = '';\n\n\t$: if (name) {\n\t\tgenerateId();\n\t}\n\n\tconst generateId = () => {\n\t\tif (!edit) {\n\t\t\tid = name\n\t\t\t\t.toLowerCase()\n\t\t\t\t.replace(/[^a-z0-9]/g, '-')\n\t\t\t\t.replace(/-+/g, '-')\n\t\t\t\t.replace(/^-|-$/g, '');\n\t\t}\n\t};\n\n\tlet profileImageUrl = `${WEBUI_BASE_URL}/favicon.png`;\n\tlet description = '';\n\n\tlet selectedModelId = '';\n\tlet modelIds = [];\n\tlet filterMode = 'include';\n\n\tlet accessControl = {};\n\n\tlet imageInputElement;\n\tlet loading = false;\n\tlet showDeleteConfirmDialog = false;\n\n\tconst addModelHandler = () => {\n\t\tif (selectedModelId) {\n\t\t\tmodelIds = [...modelIds, selectedModelId];\n\t\t\tselectedModelId = '';\n\t\t}\n\t};\n\n\tconst submitHandler = () => {\n\t\tloading = true;\n\n\t\tif (!name || !id) {\n\t\t\tloading = false;\n\t\t\ttoast.error($i18n.t('Name and ID are required, please fill them out'));\n\t\t\treturn;\n\t\t}\n\n\t\tif (!edit) {\n\t\t\tif ($models.find((model) => model.name === name)) {\n\t\t\t\tloading = false;\n\t\t\t\tname = '';\n\t\t\t\ttoast.error($i18n.t('Model name already exists, please choose a different one'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tconst model = {\n\t\t\tid: id,\n\t\t\tname: name,\n\t\t\tmeta: {\n\t\t\t\tprofile_image_url: profileImageUrl,\n\t\t\t\tdescription: description || null,\n\t\t\t\tmodel_ids: modelIds.length > 0 ? modelIds : null,\n\t\t\t\tfilter_mode: modelIds.length > 0 ? (filterMode ? filterMode : null) : null,\n\t\t\t\taccess_control: accessControl\n\t\t\t}\n\t\t};\n\n\t\tdispatch('submit', model);\n\t\tloading = false;\n\t\tshow = false;\n\n\t\tname = '';\n\t\tid = '';\n\t\tprofileImageUrl = `${WEBUI_BASE_URL}/favicon.png`;\n\t\tdescription = '';\n\t\tmodelIds = [];\n\t\tselectedModelId = '';\n\t};\n\n\tconst initModel = () => {\n\t\tif (model) {\n\t\t\tname = model.name;\n\t\t\tid = model.id;\n\t\t\tprofileImageUrl = model.meta.profile_image_url;\n\t\t\tdescription = model.meta.description;\n\t\t\tmodelIds = model.meta.model_ids || [];\n\t\t\tfilterMode = model.meta?.filter_mode ?? 'include';\n\t\t\taccessControl = 'access_control' in model.meta ? model.meta.access_control : {};\n\t\t}\n\t};\n\n\t$: if (show) {\n\t\tinitModel();\n\t}\n\n\tonMount(() => {\n\t\tinitModel();\n\t});\n</script>\n\n<ConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\ton:confirm={() => {\n\t\tdispatch('delete', model);\n\t\tshow = false;\n\t}}\n/>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center font-primary\">\n\t\t\t\t{#if edit}\n\t\t\t\t\t{$i18n.t('Edit Arena Model')}\n\t\t\t\t{:else}\n\t\t\t\t\t{$i18n.t('Add Arena Model')}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"px-1\">\n\t\t\t\t\t\t<div class=\"flex justify-center pb-3\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tbind:this={imageInputElement}\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\thidden\n\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\t\tconst files = e.target.files ?? [];\n\t\t\t\t\t\t\t\t\tlet reader = new FileReader();\n\t\t\t\t\t\t\t\t\treader.onload = (event) => {\n\t\t\t\t\t\t\t\t\t\tlet originalImageUrl = `${event.target.result}`;\n\n\t\t\t\t\t\t\t\t\t\tconst img = new Image();\n\t\t\t\t\t\t\t\t\t\timg.src = originalImageUrl;\n\n\t\t\t\t\t\t\t\t\t\timg.onload = function () {\n\t\t\t\t\t\t\t\t\t\t\tconst canvas = document.createElement('canvas');\n\t\t\t\t\t\t\t\t\t\t\tconst ctx = canvas.getContext('2d');\n\n\t\t\t\t\t\t\t\t\t\t\t// Calculate the aspect ratio of the image\n\t\t\t\t\t\t\t\t\t\t\tconst aspectRatio = img.width / img.height;\n\n\t\t\t\t\t\t\t\t\t\t\t// Calculate the new width and height to fit within 250x250\n\t\t\t\t\t\t\t\t\t\t\tlet newWidth, newHeight;\n\t\t\t\t\t\t\t\t\t\t\tif (aspectRatio > 1) {\n\t\t\t\t\t\t\t\t\t\t\t\tnewWidth = 250 * aspectRatio;\n\t\t\t\t\t\t\t\t\t\t\t\tnewHeight = 250;\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tnewWidth = 250;\n\t\t\t\t\t\t\t\t\t\t\t\tnewHeight = 250 / aspectRatio;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Set the canvas size\n\t\t\t\t\t\t\t\t\t\t\tcanvas.width = 250;\n\t\t\t\t\t\t\t\t\t\t\tcanvas.height = 250;\n\n\t\t\t\t\t\t\t\t\t\t\t// Calculate the position to center the image\n\t\t\t\t\t\t\t\t\t\t\tconst offsetX = (250 - newWidth) / 2;\n\t\t\t\t\t\t\t\t\t\t\tconst offsetY = (250 - newHeight) / 2;\n\n\t\t\t\t\t\t\t\t\t\t\t// Draw the image on the canvas\n\t\t\t\t\t\t\t\t\t\t\tctx.drawImage(img, offsetX, offsetY, newWidth, newHeight);\n\n\t\t\t\t\t\t\t\t\t\t\t// Get the base64 representation of the compressed image\n\t\t\t\t\t\t\t\t\t\t\tconst compressedSrc = canvas.toDataURL('image/webp', 0.8);\n\n\t\t\t\t\t\t\t\t\t\t\t// Display the compressed image\n\t\t\t\t\t\t\t\t\t\t\tprofileImageUrl = compressedSrc;\n\n\t\t\t\t\t\t\t\t\t\t\te.target.files = null;\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tfiles.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t['image/gif', 'image/webp', 'image/jpeg', 'image/png'].includes(\n\t\t\t\t\t\t\t\t\t\t\tfiles[0]['type']\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\treader.readAsDataURL(files[0]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"relative rounded-full w-fit h-fit shrink-0\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\timageInputElement.click();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={profileImageUrl}\n\t\t\t\t\t\t\t\t\tclass=\"size-16 rounded-full object-cover shrink-0\"\n\t\t\t\t\t\t\t\t\talt=\"Profile\"\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"my-auto text-white\">\n\t\t\t\t\t\t\t\t\t\t<PencilSolid className=\"size-4\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-0.5 text-xs text-gray-500\">{$i18n.t('Name')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tbind:value={name}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Model Name')}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-0.5 text-xs text-gray-500\">{$i18n.t('ID')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tbind:value={id}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Model ID')}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tdisabled={edit}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex flex-col w-full mt-2\">\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Description')}</div>\n\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tbind:value={description}\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter description')}\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\n\n\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t<AccessControl bind:accessControl />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\n\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t<div class=\"mb-1 flex justify-between\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">{$i18n.t('Models')}</div>\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\" text-xs text-gray-500\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tfilterMode = filterMode === 'include' ? 'exclude' : 'include';\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{#if filterMode === 'include'}\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Include')}\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Exclude')}\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if modelIds.length > 0}\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t{#each modelIds as modelId, modelIdx}\n\t\t\t\t\t\t\t\t\t\t<div class=\" flex gap-2 w-full justify-between items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" text-sm flex-1 py-1 rounded-lg\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$models.find((model) => model.id === modelId)?.name}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodelIds = modelIds.filter((_, idx) => idx !== modelIdx);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Minus strokeWidth=\"2\" className=\"size-3.5\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<div class=\"text-gray-500 text-xs text-center py-2\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Leave empty to include all models or select specific models')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\n\n\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-full py-1 text-sm rounded-lg bg-transparent {selectedModelId\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: 'text-gray-500'} placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\n\t\t\t\t\t\t\t\tbind:value={selectedModelId}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Select a model')}</option>\n\t\t\t\t\t\t\t\t{#each $models.filter((m) => m?.owned_by !== 'arena') as model}\n\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\">{model.name}</option>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\taddModelHandler();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Plus className=\"size-3.5\" strokeWidth=\"2\" />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium gap-1.5\">\n\t\t\t\t\t\t{#if edit}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tshowDeleteConfirmDialog = true;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Delete')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Save')}\n\n\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\timport { getContext, createEventDispatcher } from 'svelte';\n\tconst dispatch = createEventDispatcher();\n\tconst i18n = getContext('i18n');\n\n\timport Cog6 from '$lib/components/icons/Cog6.svelte';\n\timport ArenaModelModal from './ArenaModelModal.svelte';\n\timport { WEBUI_API_BASE_URL } from '$lib/constants';\n\texport let model;\n\n\tlet showModel = false;\n</script>\n\n<ArenaModelModal\n\tbind:show={showModel}\n\tedit={true}\n\t{model}\n\ton:submit={async (e) => {\n\t\tdispatch('edit', e.detail);\n\t}}\n\ton:delete={async () => {\n\t\tdispatch('delete');\n\t}}\n/>\n\n<div class=\"py-0.5\">\n\t<div class=\"flex justify-between items-center mb-1\">\n\t\t<div class=\"flex flex-col flex-1\">\n\t\t\t<div class=\"flex gap-2.5 items-center\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={`${WEBUI_API_BASE_URL}/models/model/profile/image?id=${model.id}`}\n\t\t\t\t\talt={model.name}\n\t\t\t\t\tclass=\"size-8 rounded-full object-cover shrink-0\"\n\t\t\t\t/>\n\n\t\t\t\t<div class=\"w-full flex flex-col\">\n\t\t\t\t\t<div class=\"flex items-center gap-1\">\n\t\t\t\t\t\t<div class=\" line-clamp-1\">\n\t\t\t\t\t\t\t{model.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex items-center gap-1\">\n\t\t\t\t\t\t<div class=\" text-xs w-full text-gray-500 bg-transparent line-clamp-1\">\n\t\t\t\t\t\t\t{model?.meta?.description ?? model.id}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"flex items-center\">\n\t\t\t<button\n\t\t\t\tclass=\"self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\ttype=\"button\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshowModel = true;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Cog6 />\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n","<script>\n\timport { toast } from 'svelte-sonner';\n\n\timport { createEventDispatcher, getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\timport { models } from '$lib/stores';\n\timport { deleteAllModels } from '$lib/apis/models';\n\timport { getModelsConfig, setModelsConfig } from '$lib/apis/configs';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport ModelList from './ModelList.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Minus from '$lib/components/icons/Minus.svelte';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport ChevronUp from '$lib/components/icons/ChevronUp.svelte';\n\timport ChevronDown from '$lib/components/icons/ChevronDown.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport ModelSelector from './ModelSelector.svelte';\n\timport Model from '../Evaluations/Model.svelte';\n\n\texport let show = false;\n\texport let initHandler = () => {};\n\n\tlet config = null;\n\n\tlet selectedModelId = '';\n\tlet defaultModelIds = [];\n\n\tlet selectedPinnedModelId = '';\n\tlet defaultPinnedModelIds = [];\n\n\tlet modelIds = [];\n\n\tlet sortKey = '';\n\tlet sortOrder = '';\n\n\tlet loading = false;\n\tlet showResetModal = false;\n\n\t$: if (show) {\n\t\tinit();\n\t}\n\tconst init = async () => {\n\t\tconfig = await getModelsConfig(localStorage.token);\n\n\t\tif (config?.DEFAULT_MODELS) {\n\t\t\tdefaultModelIds = (config?.DEFAULT_MODELS).split(',').filter((id) => id);\n\t\t} else {\n\t\t\tdefaultModelIds = [];\n\t\t}\n\n\t\tif (config?.DEFAULT_PINNED_MODELS) {\n\t\t\tdefaultPinnedModelIds = (config?.DEFAULT_PINNED_MODELS).split(',').filter((id) => id);\n\t\t} else {\n\t\t\tdefaultPinnedModelIds = [];\n\t\t}\n\n\t\tconst modelOrderList = config.MODEL_ORDER_LIST || [];\n\t\tconst allModelIds = $models.map((model) => model.id);\n\n\t\t// Create a Set for quick lookup of ordered IDs\n\t\tconst orderedSet = new Set(modelOrderList);\n\n\t\tmodelIds = [\n\t\t\t// Add all IDs from MODEL_ORDER_LIST that exist in allModelIds\n\t\t\t...modelOrderList.filter((id) => orderedSet.has(id) && allModelIds.includes(id)),\n\t\t\t// Add remaining IDs not in MODEL_ORDER_LIST, sorted alphabetically\n\t\t\t...allModelIds.filter((id) => !orderedSet.has(id)).sort((a, b) => a.localeCompare(b))\n\t\t];\n\n\t\tsortKey = '';\n\t\tsortOrder = '';\n\t};\n\tconst submitHandler = async () => {\n\t\tloading = true;\n\n\t\tconst res = await setModelsConfig(localStorage.token, {\n\t\t\tDEFAULT_MODELS: defaultModelIds.join(','),\n\t\t\tDEFAULT_PINNED_MODELS: defaultPinnedModelIds.join(','),\n\t\t\tMODEL_ORDER_LIST: modelIds\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Models configuration saved successfully'));\n\t\t\tinitHandler();\n\t\t\tshow = false;\n\t\t} else {\n\t\t\ttoast.error($i18n.t('Failed to save models configuration'));\n\t\t}\n\n\t\tloading = false;\n\t};\n\n\tonMount(async () => {\n\t\tinit();\n\t});\n</script>\n\n<ConfirmDialog\n\ttitle={$i18n.t('Reset All Models')}\n\tmessage={$i18n.t('This will delete all models including custom models and cannot be undone.')}\n\tbind:show={showResetModal}\n\tonConfirm={async () => {\n\t\tconst res = deleteAllModels(localStorage.token);\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('All models deleted successfully'));\n\t\t\tinitHandler();\n\t\t}\n\t}}\n/>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center font-primary\">\n\t\t\t\t{$i18n.t('Settings')}\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t{#if config}\n\t\t\t\t\t<form\n\t\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"mb-1 flex gap-2\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tsortKey = 'model';\n\n\t\t\t\t\t\t\t\t\t\tif (sortOrder === 'asc') {\n\t\t\t\t\t\t\t\t\t\t\tsortOrder = 'desc';\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsortOrder = 'asc';\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tmodelIds = modelIds\n\t\t\t\t\t\t\t\t\t\t\t.filter((id) => id !== '')\n\t\t\t\t\t\t\t\t\t\t\t.sort((a, b) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst nameA = $models.find((model) => model.id === a)?.name || a;\n\t\t\t\t\t\t\t\t\t\t\t\tconst nameB = $models.find((model) => model.id === b)?.name || b;\n\t\t\t\t\t\t\t\t\t\t\t\treturn sortOrder === 'desc'\n\t\t\t\t\t\t\t\t\t\t\t\t\t? nameA.localeCompare(nameB)\n\t\t\t\t\t\t\t\t\t\t\t\t\t: nameB.localeCompare(nameA);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">{$i18n.t('Reorder Models')}</div>\n\n\t\t\t\t\t\t\t\t\t{#if sortKey === 'model'}\n\t\t\t\t\t\t\t\t\t\t<span class=\"font-normal self-center\">\n\t\t\t\t\t\t\t\t\t\t\t{#if sortOrder === 'asc'}\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-3\" />\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-3\" />\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-3\" />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<ModelList bind:modelIds />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\n\n\t\t\t\t\t\t<ModelSelector\n\t\t\t\t\t\t\ttitle={$i18n.t('Default Models')}\n\t\t\t\t\t\t\tmodels={$models}\n\t\t\t\t\t\t\tbind:modelIds={defaultModelIds}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\n\n\t\t\t\t\t\t<ModelSelector\n\t\t\t\t\t\t\ttitle={$i18n.t('Default Pinned Models')}\n\t\t\t\t\t\t\tmodels={$models}\n\t\t\t\t\t\t\tbind:modelIds={defaultPinnedModelIds}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div class=\"flex justify-between pt-3 text-sm font-medium gap-1.5\">\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('This will delete all models including custom models')}>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tshowResetModal = true;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<!-- {$i18n.t('Delete All Models')} -->\n\t\t\t\t\t\t\t\t\t{$i18n.t('Reset All Models')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Save')}\n\n\t\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t{:else}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Spinner className=\"size-5\" />\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport { WEBUI_NAME, models, MODEL_DOWNLOAD_POOL, user, config, settings } from '$lib/stores';\n\timport { splitStream } from '$lib/utils';\n\n\timport {\n\t\tcreateModel,\n\t\tdeleteModel,\n\t\tdownloadModel,\n\t\tgetOllamaUrls,\n\t\tgetOllamaVersion,\n\t\tpullModel,\n\t\tuploadModel,\n\t\tgetOllamaConfig,\n\t\tgetOllamaModels\n\t} from '$lib/apis/ollama';\n\timport { getModels } from '$lib/apis';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport ModelDeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\n\tlet modelUploadInputElement: HTMLInputElement;\n\tlet showModelDeleteConfirm = false;\n\n\tlet loading = true;\n\n\t// Models\n\texport let urlIdx: number | null = null;\n\n\tlet ollamaModels = [];\n\n\tlet updateModelId = null;\n\tlet updateProgress = null;\n\tlet updateModelsControllers = {};\n\tlet updateCancelled = false;\n\tlet showExperimentalOllama = false;\n\n\tconst MAX_PARALLEL_DOWNLOADS = 3;\n\n\tlet modelLoading = false;\n\tlet modelTag = '';\n\n\tlet createModelLoading = false;\n\tlet createModelName = '';\n\tlet createModelObject = '';\n\n\tlet createModelDigest = '';\n\tlet createModelPullProgress = null;\n\n\tlet digest = '';\n\tlet pullProgress = null;\n\n\tlet modelUploadMode = 'file';\n\tlet modelInputFile: File[] | null = null;\n\tlet modelFileUrl = '';\n\tlet modelFileContent = `TEMPLATE \"\"\"{{ .System }}\\nUSER: {{ .Prompt }}\\nASSISTANT: \"\"\"\\nPARAMETER num_ctx 4096\\nPARAMETER stop \"</s>\"\\nPARAMETER stop \"USER:\"\\nPARAMETER stop \"ASSISTANT:\"`;\n\tlet modelFileDigest = '';\n\n\tlet uploadProgress = null;\n\tlet uploadMessage = '';\n\n\tlet deleteModelTag = '';\n\n\tconst updateModelsHandler = async () => {\n\t\tupdateCancelled = false;\n\t\ttoast.info('Checking for model updates...');\n\n\t\tfor (const model of ollamaModels) {\n\t\t\tif (updateCancelled) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconsole.debug(model);\n\n\t\t\tupdateModelId = model.id;\n\t\t\tconst [res, controller] = await pullModel(localStorage.token, model.id, urlIdx).catch(\n\t\t\t\t(error) => {\n\t\t\t\t\tif (error.name !== 'AbortError') {\n\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t}\n\t\t\t\t\treturn [null, null];\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tupdateModelsControllers = {\n\t\t\t\t...updateModelsControllers,\n\t\t\t\t[model.id]: controller\n\t\t\t};\n\n\t\t\tif (res) {\n\t\t\t\tconst reader = res.body\n\t\t\t\t\t.pipeThrough(new TextDecoderStream())\n\t\t\t\t\t.pipeThrough(splitStream('\\n'))\n\t\t\t\t\t.getReader();\n\n\t\t\t\twhile (true) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst { value, done } = await reader.read();\n\t\t\t\t\t\tif (done) break;\n\n\t\t\t\t\t\tlet lines = value.split('\\n');\n\n\t\t\t\t\t\tfor (const line of lines) {\n\t\t\t\t\t\t\tif (line !== '') {\n\t\t\t\t\t\t\t\tlet data = JSON.parse(line);\n\n\t\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\t\t\t\tthrow data.error;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (data.detail) {\n\t\t\t\t\t\t\t\t\tthrow data.detail;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (data.status) {\n\t\t\t\t\t\t\t\t\tif (data.digest) {\n\t\t\t\t\t\t\t\t\t\tupdateProgress = 0;\n\t\t\t\t\t\t\t\t\t\tif (data.completed) {\n\t\t\t\t\t\t\t\t\t\t\tupdateProgress = Math.round((data.completed / data.total) * 1000) / 10;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tupdateProgress = 100;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tif (err.name !== 'AbortError') {\n\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdelete updateModelsControllers[model.id];\n\t\t\tupdateModelsControllers = { ...updateModelsControllers };\n\t\t}\n\n\t\tif (updateCancelled) {\n\t\t\ttoast.info('Model update cancelled');\n\t\t} else {\n\t\t\ttoast.success('All models are up to date');\n\t\t}\n\t\tupdateModelId = null;\n\t\tupdateProgress = null;\n\t};\n\n\tconst pullModelHandler = async () => {\n\t\tconst sanitizedModelTag = modelTag.trim().replace(/^ollama\\s+(run|pull)\\s+/, '');\n\t\tconsole.log($MODEL_DOWNLOAD_POOL);\n\t\tif ($MODEL_DOWNLOAD_POOL[sanitizedModelTag]) {\n\t\t\ttoast.error(\n\t\t\t\t$i18n.t(`Model '{{modelTag}}' is already in queue for downloading.`, {\n\t\t\t\t\tmodelTag: sanitizedModelTag\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tif (Object.keys($MODEL_DOWNLOAD_POOL).length === MAX_PARALLEL_DOWNLOADS) {\n\t\t\ttoast.error(\n\t\t\t\t$i18n.t('Maximum of 3 models can be downloaded simultaneously. Please try again later.')\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tmodelLoading = true;\n\t\tconst [res, controller] = await pullModel(localStorage.token, sanitizedModelTag, urlIdx).catch(\n\t\t\t(error) => {\n\t\t\t\tif (error.name !== 'AbortError') {\n\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t}\n\t\t\t\treturn [null, null];\n\t\t\t}\n\t\t);\n\n\t\tif (res) {\n\t\t\tconst reader = res.body\n\t\t\t\t.pipeThrough(new TextDecoderStream())\n\t\t\t\t.pipeThrough(splitStream('\\n'))\n\t\t\t\t.getReader();\n\n\t\t\tMODEL_DOWNLOAD_POOL.set({\n\t\t\t\t...$MODEL_DOWNLOAD_POOL,\n\t\t\t\t[sanitizedModelTag]: {\n\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\n\t\t\t\t\tabortController: controller,\n\t\t\t\t\treader,\n\t\t\t\t\tdone: false\n\t\t\t\t}\n\t\t\t});\n\n\t\t\twhile (true) {\n\t\t\t\ttry {\n\t\t\t\t\tconst { value, done } = await reader.read();\n\t\t\t\t\tif (done) break;\n\n\t\t\t\t\tlet lines = value.split('\\n');\n\n\t\t\t\t\tfor (const line of lines) {\n\t\t\t\t\t\tif (line !== '') {\n\t\t\t\t\t\t\tlet data = JSON.parse(line);\n\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\t\t\tthrow data.error;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (data.detail) {\n\t\t\t\t\t\t\t\tthrow data.detail;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (data.status) {\n\t\t\t\t\t\t\t\tif (data.digest) {\n\t\t\t\t\t\t\t\t\tlet downloadProgress = 0;\n\t\t\t\t\t\t\t\t\tif (data.completed) {\n\t\t\t\t\t\t\t\t\t\tdownloadProgress = Math.round((data.completed / data.total) * 1000) / 10;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tdownloadProgress = 100;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tMODEL_DOWNLOAD_POOL.set({\n\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL,\n\t\t\t\t\t\t\t\t\t\t[sanitizedModelTag]: {\n\t\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\n\t\t\t\t\t\t\t\t\t\t\tpullProgress: downloadProgress,\n\t\t\t\t\t\t\t\t\t\t\tdigest: data.digest\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tMODEL_DOWNLOAD_POOL.set({\n\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL,\n\t\t\t\t\t\t\t\t\t\t[sanitizedModelTag]: {\n\t\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\n\t\t\t\t\t\t\t\t\t\t\tdone: data.status === 'success'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (err.name !== 'AbortError') {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\tif (typeof err !== 'string') {\n\t\t\t\t\t\t\terr = err.message;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttoast.error(`${err}`);\n\t\t\t\t\t\t// opts.callback({ success: false, error, modelName: opts.modelName });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconsole.log($MODEL_DOWNLOAD_POOL[sanitizedModelTag]);\n\n\t\t\tif ($MODEL_DOWNLOAD_POOL[sanitizedModelTag]?.done) {\n\t\t\t\ttoast.success(\n\t\t\t\t\t$i18n.t(`Model '{{modelName}}' has been successfully downloaded.`, {\n\t\t\t\t\t\tmodelName: sanitizedModelTag\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\tmodels.set(\n\t\t\t\t\tawait getModels(\n\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\ttoast.error($i18n.t('Download canceled'));\n\t\t\t}\n\n\t\t\tdelete $MODEL_DOWNLOAD_POOL[sanitizedModelTag];\n\n\t\t\tMODEL_DOWNLOAD_POOL.set({\n\t\t\t\t...$MODEL_DOWNLOAD_POOL\n\t\t\t});\n\t\t}\n\n\t\tmodelTag = '';\n\t\tmodelLoading = false;\n\t};\n\n\tconst uploadModelHandler = async () => {\n\t\tmodelLoading = true;\n\n\t\tlet uploaded = false;\n\t\tlet fileResponse = null;\n\t\tlet name = '';\n\n\t\tif (modelUploadMode === 'file') {\n\t\t\tconst file = modelInputFile ? modelInputFile[0] : null;\n\n\t\t\tif (file) {\n\t\t\t\tuploadMessage = 'Uploading...';\n\n\t\t\t\tfileResponse = await uploadModel(localStorage.token, file, urlIdx).catch((error) => {\n\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\treturn null;\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tuploadProgress = 0;\n\t\t\tfileResponse = await downloadModel(localStorage.token, modelFileUrl, urlIdx).catch(\n\t\t\t\t(error) => {\n\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (fileResponse && fileResponse.ok) {\n\t\t\tconst reader = fileResponse.body\n\t\t\t\t.pipeThrough(new TextDecoderStream())\n\t\t\t\t.pipeThrough(splitStream('\\n'))\n\t\t\t\t.getReader();\n\n\t\t\twhile (true) {\n\t\t\t\tconst { value, done } = await reader.read();\n\t\t\t\tif (done) break;\n\n\t\t\t\ttry {\n\t\t\t\t\tlet lines = value.split('\\n');\n\n\t\t\t\t\tfor (const line of lines) {\n\t\t\t\t\t\tif (line !== '') {\n\t\t\t\t\t\t\tlet data = JSON.parse(line.replace(/^data: /, ''));\n\n\t\t\t\t\t\t\tif (data.progress) {\n\t\t\t\t\t\t\t\tif (uploadMessage) {\n\t\t\t\t\t\t\t\t\tuploadMessage = '';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuploadProgress = data.progress;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\t\t\tthrow data.error;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (data.done) {\n\t\t\t\t\t\t\t\tmodelFileDigest = data.blob;\n\t\t\t\t\t\t\t\tname = data.name;\n\t\t\t\t\t\t\t\tuploaded = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tconst error = await fileResponse?.json();\n\t\t\ttoast.error(error?.detail ?? error);\n\t\t}\n\n\t\tif (uploaded) {\n\t\t\tconst res = await createModel(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t`${name}:latest`,\n\t\t\t\t`FROM @${modelFileDigest}\\n${modelFileContent}`\n\t\t\t);\n\n\t\t\tif (res && res.ok) {\n\t\t\t\tconst reader = res.body\n\t\t\t\t\t.pipeThrough(new TextDecoderStream())\n\t\t\t\t\t.pipeThrough(splitStream('\\n'))\n\t\t\t\t\t.getReader();\n\n\t\t\t\twhile (true) {\n\t\t\t\t\tconst { value, done } = await reader.read();\n\t\t\t\t\tif (done) break;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlet lines = value.split('\\n');\n\n\t\t\t\t\t\tfor (const line of lines) {\n\t\t\t\t\t\t\tif (line !== '') {\n\t\t\t\t\t\t\t\tconsole.log(line);\n\t\t\t\t\t\t\t\tlet data = JSON.parse(line);\n\t\t\t\t\t\t\t\tconsole.log(data);\n\n\t\t\t\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\t\t\t\tthrow data.error;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (data.detail) {\n\t\t\t\t\t\t\t\t\tthrow data.detail;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (data.status) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t!data.digest &&\n\t\t\t\t\t\t\t\t\t\t!data.status.includes('writing') &&\n\t\t\t\t\t\t\t\t\t\t!data.status.includes('sha256')\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\ttoast.success(data.status);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (data.digest) {\n\t\t\t\t\t\t\t\t\t\t\tdigest = data.digest;\n\n\t\t\t\t\t\t\t\t\t\t\tif (data.completed) {\n\t\t\t\t\t\t\t\t\t\t\t\tpullProgress = Math.round((data.completed / data.total) * 1000) / 10;\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tpullProgress = 100;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\ttoast.error(`${err}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmodelFileUrl = '';\n\n\t\tif (modelUploadInputElement) {\n\t\t\tmodelUploadInputElement.value = '';\n\t\t}\n\t\tmodelInputFile = null;\n\t\tmodelLoading = false;\n\t\tuploadProgress = null;\n\n\t\tmodels.set(\n\t\t\tawait getModels(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t)\n\t\t);\n\t};\n\n\tconst deleteModelHandler = async () => {\n\t\tconst res = await deleteModel(localStorage.token, deleteModelTag, urlIdx).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t(`Deleted {{deleteModelTag}}`, { deleteModelTag }));\n\t\t}\n\n\t\tdeleteModelTag = '';\n\t\tmodels.set(\n\t\t\tawait getModels(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t)\n\t\t);\n\n\t\tollamaModels = await getOllamaModels(localStorage.token, urlIdx).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\t};\n\n\tconst cancelUpdateModelHandler = async (model: string) => {\n\t\tconst controller = updateModelsControllers[model];\n\t\tif (controller) {\n\t\t\tcontroller.abort();\n\t\t\tupdateCancelled = true;\n\t\t}\n\t};\n\n\tconst cancelModelPullHandler = async (model: string) => {\n\t\tconst { reader, abortController } = $MODEL_DOWNLOAD_POOL[model];\n\t\tif (abortController) {\n\t\t\tabortController.abort();\n\t\t}\n\t\tif (reader) {\n\t\t\tawait reader.cancel();\n\t\t\tdelete $MODEL_DOWNLOAD_POOL[model];\n\t\t\tMODEL_DOWNLOAD_POOL.set({\n\t\t\t\t...$MODEL_DOWNLOAD_POOL\n\t\t\t});\n\t\t\tawait deleteModel(localStorage.token, model);\n\t\t\ttoast.success($i18n.t('{{model}} download has been canceled', { model: model }));\n\t\t}\n\t};\n\n\tconst createModelHandler = async () => {\n\t\tcreateModelLoading = true;\n\n\t\tlet modelObject = {};\n\t\t// parse createModelObject\n\t\ttry {\n\t\t\tmodelObject = JSON.parse(createModelObject);\n\t\t} catch (error) {\n\t\t\ttoast.error(`${error}`);\n\t\t\tcreateModelLoading = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst res = await createModel(\n\t\t\tlocalStorage.token,\n\t\t\t{\n\t\t\t\tmodel: createModelName,\n\t\t\t\t...modelObject\n\t\t\t},\n\t\t\turlIdx\n\t\t).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res && res.ok) {\n\t\t\tconst reader = res.body\n\t\t\t\t.pipeThrough(new TextDecoderStream())\n\t\t\t\t.pipeThrough(splitStream('\\n'))\n\t\t\t\t.getReader();\n\n\t\t\twhile (true) {\n\t\t\t\tconst { value, done } = await reader.read();\n\t\t\t\tif (done) break;\n\n\t\t\t\ttry {\n\t\t\t\t\tlet lines = value.split('\\n');\n\n\t\t\t\t\tfor (const line of lines) {\n\t\t\t\t\t\tif (line !== '') {\n\t\t\t\t\t\t\tconsole.log(line);\n\t\t\t\t\t\t\tlet data = JSON.parse(line);\n\t\t\t\t\t\t\tconsole.log(data);\n\n\t\t\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\t\t\tthrow data.error;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (data.detail) {\n\t\t\t\t\t\t\t\tthrow data.detail;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (data.status) {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t!data.digest &&\n\t\t\t\t\t\t\t\t\t!data.status.includes('writing') &&\n\t\t\t\t\t\t\t\t\t!data.status.includes('sha256')\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\ttoast.success(data.status);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (data.digest) {\n\t\t\t\t\t\t\t\t\t\tcreateModelDigest = data.digest;\n\n\t\t\t\t\t\t\t\t\t\tif (data.completed) {\n\t\t\t\t\t\t\t\t\t\t\tcreateModelPullProgress =\n\t\t\t\t\t\t\t\t\t\t\t\tMath.round((data.completed / data.total) * 1000) / 10;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tcreateModelPullProgress = 100;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t\ttoast.error(`${err}`);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmodels.set(\n\t\t\tawait getModels(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t)\n\t\t);\n\n\t\tcreateModelLoading = false;\n\n\t\tcreateModelName = '';\n\t\tcreateModelObject = '';\n\t\tcreateModelDigest = '';\n\t\tcreateModelPullProgress = null;\n\t};\n\n\tconst init = async () => {\n\t\tloading = true;\n\t\tollamaModels = await getOllamaModels(localStorage.token, urlIdx).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (ollamaModels) {\n\t\t\tloading = false;\n\t\t}\n\t};\n\n\t$: if (urlIdx !== null) {\n\t\tinit();\n\t}\n</script>\n\n<ModelDeleteConfirmDialog\n\tbind:show={showModelDeleteConfirm}\n\ton:confirm={() => {\n\t\tdeleteModelHandler();\n\t}}\n/>\n\n{#if !loading}\n\t<div class=\" flex flex-col w-full\">\n\t\t<div>\n\t\t\t<div class=\"space-y-2\">\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium flex items-center gap-1.5\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{$i18n.t('Pull a model from Ollama.com')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Tooltip content=\"Update All Models\" placement=\"top\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"flex gap-2 items-center bg-transparent rounded-lg transition\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tupdateModelsHandler();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter model tag (e.g. {{modelTag}})', {\n\t\t\t\t\t\t\t\t\tmodelTag: 'mistral:7b'\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tbind:value={modelTag}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Tooltip content={$i18n.t('Pull Model')} placement=\"top\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tpullModelHandler();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdisabled={modelLoading || modelTag.trim() === ''}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if modelLoading}\n\t\t\t\t\t\t\t\t\t<div class=\"self-center\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\n\t\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\n\t\t\t\t\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</style>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\n\t\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t{$i18n.t('To access the available model names for downloading,')}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclass=\" text-gray-500 dark:text-gray-300 font-medium underline\"\n\t\t\t\t\t\t\thref=\"https://ollama.com/library\"\n\t\t\t\t\t\t\ttarget=\"_blank\">{$i18n.t('click here.')}</a\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if updateModelId}\n\t\t\t\t\t\t<div class=\"text-xs flex justify-between items-center\">\n\t\t\t\t\t\t\t<div>Updating \"{updateModelId}\" {updateProgress ? `(${updateProgress}%)` : ''}</div>\n\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Cancel')}>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"text-gray-800 dark:text-gray-100\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tcancelUpdateModelHandler(updateModelId);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-gray-800 dark:text-white\"\n\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\twidth=\"24\"\n\t\t\t\t\t\t\t\t\t\theight=\"24\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M6 18 17.94 6M18 18 6.06 6\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t{#if Object.keys($MODEL_DOWNLOAD_POOL).length > 0}\n\t\t\t\t\t\t{#each Object.keys($MODEL_DOWNLOAD_POOL) as model}\n\t\t\t\t\t\t\t{#if 'pullProgress' in $MODEL_DOWNLOAD_POOL[model]}\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t<div class=\"font-medium mb-1\">{model}</div>\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-row justify-between space-x-4 pr-2\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: {Math.max(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t15,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$MODEL_DOWNLOAD_POOL[model].pullProgress ?? 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}%\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$MODEL_DOWNLOAD_POOL[model].pullProgress ?? 0}%\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Cancel')}>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-gray-800 dark:text-gray-100\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcancelModelPullHandler(model);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-gray-800 dark:text-white\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M6 18 17.94 6M18 18 6.06 6\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{#if 'digest' in $MODEL_DOWNLOAD_POOL[model]}\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$MODEL_DOWNLOAD_POOL[model].digest}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Delete a model')}</div>\n\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"flex-1 mr-2 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclass=\"w-full py-2 px-4 text-sm outline-hidden bg-transparent\"\n\t\t\t\t\t\t\t\tbind:value={deleteModelTag}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\" disabled selected>{$i18n.t('Select a model')}</option>\n\n\t\t\t\t\t\t\t\t{#each ollamaModels as model}\n\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\"\n\t\t\t\t\t\t\t\t\t\t>{model.name + ' (' + (model.size / 1024 ** 3).toFixed(1) + ' GB)'}</option\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete Model')} placement=\"top\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tshowModelDeleteConfirm = true;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdisabled={deleteModelTag === ''}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z\"\n\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Create a model')}</div>\n\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t<div class=\"flex-1 mr-2 flex flex-col gap-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter model tag (e.g. {{modelTag}})', {\n\t\t\t\t\t\t\t\t\tmodelTag: 'my-modelfile'\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tbind:value={createModelName}\n\t\t\t\t\t\t\t\tdisabled={createModelLoading}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tbind:value={createModelObject}\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none scrollbar-hidden\"\n\t\t\t\t\t\t\t\trows=\"6\"\n\t\t\t\t\t\t\t\tplaceholder={`e.g. {\"model\": \"my-modelfile\", \"from\": \"ollama:7b\"})`}\n\t\t\t\t\t\t\t\tdisabled={createModelLoading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex self-start\">\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Create Model')} placement=\"top\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tcreateModelHandler();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisabled={createModelLoading ||\n\t\t\t\t\t\t\t\t\t\tcreateModelName.trim() === '' ||\n\t\t\t\t\t\t\t\t\t\tcreateModelObject.trim() === ''}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if createModelDigest !== ''}\n\t\t\t\t\t\t<div class=\"flex flex-col mt-1\">\n\t\t\t\t\t\t\t<div class=\"font-medium mb-1\">{createModelTag}</div>\n\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t<div class=\"flex flex-row justify-between space-x-4 pr-2\">\n\t\t\t\t\t\t\t\t\t<div class=\" flex-1\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: {Math.max(15, createModelPullProgress ?? 0)}%\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{createModelPullProgress ?? 0}%\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{#if createModelDigest}\n\t\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\n\t\t\t\t\t\t\t\t\t\t{createModelDigest}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"pt-1\">\n\t\t\t\t\t<div class=\"flex justify-between items-center text-xs\">\n\t\t\t\t\t\t<div class=\" text-sm font-medium\">{$i18n.t('Experimental')}</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" text-xs font-medium text-gray-500\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshowExperimentalOllama = !showExperimentalOllama;\n\t\t\t\t\t\t\t}}>{showExperimentalOllama ? $i18n.t('Hide') : $i18n.t('Show')}</button\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{#if showExperimentalOllama}\n\t\t\t\t\t<form\n\t\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\t\tuploadModelHandler();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\" mb-2 flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\"  text-sm font-medium\">{$i18n.t('Upload a GGUF model')}</div>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tif (modelUploadMode === 'file') {\n\t\t\t\t\t\t\t\t\t\tmodelUploadMode = 'url';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tmodelUploadMode = 'file';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if modelUploadMode === 'file'}\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('File Mode')}</span>\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('URL Mode')}</span>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex w-full mb-1.5\">\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t{#if modelUploadMode === 'file'}\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1 {modelInputFile && modelInputFile.length > 0 ? 'mr-2' : ''}\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tid=\"model-upload-input\"\n\t\t\t\t\t\t\t\t\t\t\tbind:this={modelUploadInputElement}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\t\tbind:files={modelInputFile}\n\t\t\t\t\t\t\t\t\t\t\ton:change={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(modelInputFile);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\taccept=\".gguf,.safetensors\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\thidden\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850\"\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tmodelUploadInputElement.click();\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{#if modelInputFile && modelInputFile.length > 0}\n\t\t\t\t\t\t\t\t\t\t\t\t{modelInputFile[0].name}\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to select')}\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1 {modelFileUrl !== '' ? 'mr-2' : ''}\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden {modelFileUrl !==\n\t\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t\t\t\t? 'mr-2'\n\t\t\t\t\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tbind:value={modelFileUrl}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Type Hugging Face Resolve (Download) URL')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if (modelUploadMode === 'file' && modelInputFile && modelInputFile.length > 0) || (modelUploadMode === 'url' && modelFileUrl !== '')}\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Upload Model')} placement=\"top\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition\"\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tdisabled={modelLoading}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{#if modelLoading}\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"self-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</style>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if (modelUploadMode === 'file' && modelInputFile && modelInputFile.length > 0) || (modelUploadMode === 'url' && modelFileUrl !== '')}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" my-2.5 text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Modelfile Content')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\tbind:value={modelFileContent}\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none\"\n\t\t\t\t\t\t\t\t\t\trows=\"6\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<div class=\" mt-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('To access the GGUF models available for downloading,')}\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclass=\" text-gray-500 dark:text-gray-300 font-medium underline\"\n\t\t\t\t\t\t\t\thref=\"https://huggingface.co/models?search=gguf\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\">{$i18n.t('click here.')}</a\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if uploadMessage}\n\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t<div class=\" mb-2 text-xs\">{$i18n.t('Upload Progress')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"w-full rounded-full dark:bg-gray-800\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\n\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100%\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{uploadMessage}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\n\t\t\t\t\t\t\t\t\t{modelFileDigest}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if uploadProgress !== null}\n\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t<div class=\" mb-2 text-xs\">{$i18n.t('Upload Progress')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"w-full rounded-full dark:bg-gray-800\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\n\t\t\t\t\t\t\t\t\t\tstyle=\"width: {Math.max(15, uploadProgress ?? 0)}%\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{uploadProgress ?? 0}%\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\n\t\t\t\t\t\t\t\t\t{modelFileDigest}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</form>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{:else if ollamaModels === null}\n\t<div class=\"flex justify-center items-center w-full h-full text-xs py-3\">\n\t\t{$i18n.t('Failed to fetch models')}\n\t</div>\n{:else}\n\t<div class=\"flex justify-center items-center w-full h-full py-3\">\n\t\t<Spinner className=\"size-5\" />\n\t</div>\n{/if}\n","<script>\n\timport { getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport ManageOllama from './ManageOllama.svelte';\n\n\texport let ollamaConfig = null;\n\n\tlet selectedUrlIdx = 0;\n</script>\n\n{#if ollamaConfig}\n\t<div class=\"flex-1 mb-2.5 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850\">\n\t\t<select\n\t\t\tclass=\"w-full py-2 px-4 text-sm outline-hidden bg-transparent\"\n\t\t\tbind:value={selectedUrlIdx}\n\t\t\tplaceholder={$i18n.t('Select an Ollama instance')}\n\t\t>\n\t\t\t{#each ollamaConfig.OLLAMA_BASE_URLS as url, idx}\n\t\t\t\t<option value={idx}>{url}</option>\n\t\t\t{/each}\n\t\t</select>\n\t</div>\n\n\t<ManageOllama urlIdx={selectedUrlIdx} />\n{/if}\n","<script>\n\timport { toast } from 'svelte-sonner';\n\n\timport { createEventDispatcher, getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\timport { user } from '$lib/stores';\n\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport ManageOllama from './Manage/ManageOllama.svelte';\n\timport { getOllamaConfig } from '$lib/apis/ollama';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport ManageMultipleOllama from './Manage/ManageMultipleOllama.svelte';\n\n\texport let show = false;\n\n\tlet selected = null;\n\tlet ollamaConfig = null;\n\n\tonMount(async () => {\n\t\tif ($user?.role === 'admin') {\n\t\t\tawait Promise.all([\n\t\t\t\t(async () => {\n\t\t\t\t\tollamaConfig = await getOllamaConfig(localStorage.token);\n\t\t\t\t})()\n\t\t\t]);\n\n\t\t\tif (ollamaConfig) {\n\t\t\t\tselected = 'ollama';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tselected = '';\n\t\t}\n\t});\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-100 px-5 pt-4\">\n\t\t\t<div class=\" text-lg font-medium self-center font-primary\">\n\t\t\t\t{$i18n.t('Manage Models')}\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-3 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t{#if selected === ''}\n\t\t\t\t\t<div class=\" py-5 text-gray-400 text-xs\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{$i18n.t('No inference engine with management support found')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else if selected !== null}\n\t\t\t\t\t<div class=\" flex w-full flex-col\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"min-w-fit p-1.5 {selected === 'ollama'\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselected = 'ollama';\n\t\t\t\t\t\t\t\t}}>{$i18n.t('Ollama')}</button\n\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t<!-- <button\n\t\t\t\t\t\t\t\tclass=\"min-w-fit p-1.5 {selected === 'llamacpp'\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselected = 'llamacpp';\n\t\t\t\t\t\t\t\t}}>{$i18n.t('Llama.cpp')}</button\n\t\t\t\t\t\t\t> -->\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\" px-1.5 py-1\">\n\t\t\t\t\t\t\t{#if selected === 'ollama'}\n\t\t\t\t\t\t\t\t<ManageMultipleOllama {ollamaConfig} />\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\" py-5\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\timport { DropdownMenu } from 'bits-ui';\n\timport { flyAndScale } from '$lib/utils/transitions';\n\timport { getContext } from 'svelte';\n\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\n\timport Pencil from '$lib/components/icons/Pencil.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Tags from '$lib/components/chat/Tags.svelte';\n\timport Share from '$lib/components/icons/Share.svelte';\n\timport ArchiveBox from '$lib/components/icons/ArchiveBox.svelte';\n\timport DocumentDuplicate from '$lib/components/icons/DocumentDuplicate.svelte';\n\timport Download from '$lib/components/icons/Download.svelte';\n\timport ArrowUpCircle from '$lib/components/icons/ArrowUpCircle.svelte';\n\timport Pin from '$lib/components/icons/Pin.svelte';\n\timport PinSlash from '$lib/components/icons/PinSlash.svelte';\n\n\timport { config, settings } from '$lib/stores';\n\timport Link from '$lib/components/icons/Link.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let user;\n\texport let model;\n\n\texport let exportHandler: Function;\n\texport let hideHandler: Function;\n\texport let pinModelHandler: Function;\n\texport let copyLinkHandler: Function;\n\texport let cloneHandler: Function;\n\n\texport let onClose: Function;\n\n\tlet show = false;\n</script>\n\n<Dropdown\n\tbind:show\n\ton:change={(e) => {\n\t\tif (e.detail === false) {\n\t\t\tonClose();\n\t\t}\n\t}}\n>\n\t<Tooltip content={$i18n.t('More')}>\n\t\t<slot />\n\t</Tooltip>\n\n\t<div slot=\"content\">\n\t\t<DropdownMenu.Content\n\t\t\tclass=\"w-full max-w-[170px] rounded-xl p-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-sm\"\n\t\t\tsideOffset={-2}\n\t\t\tside=\"bottom\"\n\t\t\talign=\"start\"\n\t\t\ttransition={flyAndScale}\n\t\t>\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex  gap-2  items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\thideHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{#if model?.meta?.hidden ?? false}\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\td=\"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t{:else}\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\td=\"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\td=\"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t{#if model?.meta?.hidden ?? false}\n\t\t\t\t\t\t{$i18n.t('Show Model')}\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{$i18n.t('Hide Model')}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex  gap-2  items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tpinModelHandler(model?.id);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{#if ($settings?.pinnedModels ?? []).includes(model?.id)}\n\t\t\t\t\t<PinSlash />\n\t\t\t\t{:else}\n\t\t\t\t\t<Pin />\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t{#if ($settings?.pinnedModels ?? []).includes(model?.id)}\n\t\t\t\t\t\t{$i18n.t('Hide from Sidebar')}\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{$i18n.t('Keep in Sidebar')}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tcopyLinkHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Link />\n\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Copy Link')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tcloneHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DocumentDuplicate />\n\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Clone')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\texportHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Download />\n\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Export')}</div>\n\t\t\t</DropdownMenu.Item>\n\t\t</DropdownMenu.Content>\n\t</div>\n</Dropdown>\n","<script lang=\"ts\">\n\timport { marked } from 'marked';\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\n\timport { onMount, getContext, tick } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport { WEBUI_NAME, config, mobile, models as _models, settings, user } from '$lib/stores';\n\timport {\n\t\tcreateNewModel,\n\t\tdeleteAllModels,\n\t\tgetBaseModels,\n\t\ttoggleModelById,\n\t\tupdateModelById,\n\t\timportModels\n\t} from '$lib/apis/models';\n\timport { copyToClipboard } from '$lib/utils';\n\timport { page } from '$app/stores';\n\timport { updateUserSettings } from '$lib/apis/users';\n\n\timport { getModels } from '$lib/apis';\n\timport Search from '$lib/components/icons/Search.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\n\timport ModelEditor from '$lib/components/workspace/Models/ModelEditor.svelte';\n\timport { toast } from 'svelte-sonner';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport Cog6 from '$lib/components/icons/Cog6.svelte';\n\timport ConfigureModelsModal from './Models/ConfigureModelsModal.svelte';\n\timport Wrench from '$lib/components/icons/Wrench.svelte';\n\timport Download from '$lib/components/icons/Download.svelte';\n\timport ManageModelsModal from './Models/ManageModelsModal.svelte';\n\timport ModelMenu from '$lib/components/admin/Settings/Models/ModelMenu.svelte';\n\timport EllipsisHorizontal from '$lib/components/icons/EllipsisHorizontal.svelte';\n\timport EyeSlash from '$lib/components/icons/EyeSlash.svelte';\n\timport Eye from '$lib/components/icons/Eye.svelte';\n\timport { WEBUI_API_BASE_URL, WEBUI_BASE_URL } from '$lib/constants';\n\timport { goto } from '$app/navigation';\n\n\tlet shiftKey = false;\n\n\tlet modelsImportInProgress = false;\n\tlet importFiles;\n\tlet modelsImportInputElement: HTMLInputElement;\n\n\tlet models = null;\n\n\tlet workspaceModels = null;\n\tlet baseModels = null;\n\n\tlet filteredModels = [];\n\tlet selectedModelId = null;\n\n\tlet showConfigModal = false;\n\tlet showManageModal = false;\n\n\t$: if (models) {\n\t\tfilteredModels = models\n\t\t\t.filter((m) => searchValue === '' || m.name.toLowerCase().includes(searchValue.toLowerCase()))\n\t\t\t.sort((a, b) => {\n\t\t\t\t// // Check if either model is inactive and push them to the bottom\n\t\t\t\t// if ((a.is_active ?? true) !== (b.is_active ?? true)) {\n\t\t\t\t// \treturn (b.is_active ?? true) - (a.is_active ?? true);\n\t\t\t\t// }\n\t\t\t\t// If both models' active states are the same, sort alphabetically\n\t\t\t\treturn (a?.name ?? a?.id ?? '').localeCompare(b?.name ?? b?.id ?? '');\n\t\t\t});\n\t}\n\n\tlet searchValue = '';\n\n\tconst downloadModels = async (models) => {\n\t\tlet blob = new Blob([JSON.stringify(models)], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tsaveAs(blob, `models-export-${Date.now()}.json`);\n\t};\n\n\tconst init = async () => {\n\t\tmodels = null;\n\n\t\tworkspaceModels = await getBaseModels(localStorage.token);\n\t\tbaseModels = await getModels(localStorage.token, null, true);\n\n\t\tmodels = baseModels.map((m) => {\n\t\t\tconst workspaceModel = workspaceModels.find((wm) => wm.id === m.id);\n\n\t\t\tif (workspaceModel) {\n\t\t\t\treturn {\n\t\t\t\t\t...m,\n\t\t\t\t\t...workspaceModel\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t...m,\n\t\t\t\t\tid: m.id,\n\t\t\t\t\tname: m.name,\n\n\t\t\t\t\tis_active: true\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t};\n\n\tconst upsertModelHandler = async (model) => {\n\t\tmodel.base_model_id = null;\n\n\t\tif (workspaceModels.find((m) => m.id === model.id)) {\n\t\t\tconst res = await updateModelById(localStorage.token, model.id, model).catch((error) => {\n\t\t\t\treturn null;\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\ttoast.success($i18n.t('Model updated successfully'));\n\t\t\t}\n\t\t} else {\n\t\t\tconst res = await createNewModel(localStorage.token, {\n\t\t\t\tmeta: {},\n\t\t\t\tid: model.id,\n\t\t\t\tname: model.name,\n\t\t\t\tbase_model_id: null,\n\t\t\t\tparams: {},\n\t\t\t\taccess_control: {},\n\t\t\t\t...model\n\t\t\t}).catch((error) => {\n\t\t\t\treturn null;\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\ttoast.success($i18n.t('Model updated successfully'));\n\t\t\t}\n\t\t}\n\t\tawait init();\n\n\t\t_models.set(\n\t\t\tawait getModels(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t)\n\t\t);\n\t};\n\n\tconst toggleModelHandler = async (model) => {\n\t\tif (!Object.keys(model).includes('base_model_id')) {\n\t\t\tawait createNewModel(localStorage.token, {\n\t\t\t\tid: model.id,\n\t\t\t\tname: model.name,\n\t\t\t\tbase_model_id: null,\n\t\t\t\tmeta: {},\n\t\t\t\tparams: {},\n\t\t\t\taccess_control: {},\n\t\t\t\tis_active: model.is_active\n\t\t\t}).catch((error) => {\n\t\t\t\treturn null;\n\t\t\t});\n\t\t} else {\n\t\t\tawait toggleModelById(localStorage.token, model.id);\n\t\t}\n\n\t\t// await init();\n\t\t_models.set(\n\t\t\tawait getModels(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t)\n\t\t);\n\t};\n\n\tconst hideModelHandler = async (model) => {\n\t\tmodel.meta = {\n\t\t\t...model.meta,\n\t\t\thidden: !(model?.meta?.hidden ?? false)\n\t\t};\n\n\t\tconsole.debug(model);\n\n\t\ttoast.success(\n\t\t\tmodel.meta.hidden\n\t\t\t\t? $i18n.t(`Model {{name}} is now hidden`, {\n\t\t\t\t\t\tname: model.id\n\t\t\t\t\t})\n\t\t\t\t: $i18n.t(`Model {{name}} is now visible`, {\n\t\t\t\t\t\tname: model.id\n\t\t\t\t\t})\n\t\t);\n\n\t\tupsertModelHandler(model);\n\t};\n\n\tconst copyLinkHandler = async (model) => {\n\t\tconst baseUrl = window.location.origin;\n\t\tconst res = await copyToClipboard(`${baseUrl}/?model=${encodeURIComponent(model.id)}`);\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Copied link to clipboard'));\n\t\t} else {\n\t\t\ttoast.error($i18n.t('Failed to copy link'));\n\t\t}\n\t};\n\n\tconst cloneHandler = async (model) => {\n\t\tsessionStorage.model = JSON.stringify({\n\t\t\t...model,\n\t\t\tbase_model_id: model.id,\n\t\t\tid: `${model.id}-clone`,\n\t\t\tname: `${model.name} (Clone)`\n\t\t});\n\t\tgoto('/workspace/models/create');\n\t};\n\n\tconst exportModelHandler = async (model) => {\n\t\tlet blob = new Blob([JSON.stringify([model])], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tsaveAs(blob, `${model.id}-${Date.now()}.json`);\n\t};\n\n\tconst pinModelHandler = async (modelId) => {\n\t\tlet pinnedModels = $settings?.pinnedModels ?? [];\n\n\t\tif (pinnedModels.includes(modelId)) {\n\t\t\tpinnedModels = pinnedModels.filter((id) => id !== modelId);\n\t\t} else {\n\t\t\tpinnedModels = [...new Set([...pinnedModels, modelId])];\n\t\t}\n\n\t\tsettings.set({ ...$settings, pinnedModels: pinnedModels });\n\t\tawait updateUserSettings(localStorage.token, { ui: $settings });\n\t};\n\n\tonMount(async () => {\n\t\tawait init();\n\t\tconst id = $page.url.searchParams.get('id');\n\n\t\tif (id) {\n\t\t\tselectedModelId = id;\n\t\t}\n\n\t\tconst onKeyDown = (event) => {\n\t\t\tif (event.key === 'Shift') {\n\t\t\t\tshiftKey = true;\n\t\t\t}\n\t\t};\n\n\t\tconst onKeyUp = (event) => {\n\t\t\tif (event.key === 'Shift') {\n\t\t\t\tshiftKey = false;\n\t\t\t}\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tshiftKey = false;\n\t\t};\n\n\t\twindow.addEventListener('keydown', onKeyDown);\n\t\twindow.addEventListener('keyup', onKeyUp);\n\t\twindow.addEventListener('blur-sm', onBlur);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keydown', onKeyDown);\n\t\t\twindow.removeEventListener('keyup', onKeyUp);\n\t\t\twindow.removeEventListener('blur-sm', onBlur);\n\t\t};\n\t});\n</script>\n\n<ConfigureModelsModal bind:show={showConfigModal} initHandler={init} />\n<ManageModelsModal bind:show={showManageModal} />\n\n{#if models !== null}\n\t{#if selectedModelId === null}\n\t\t<div class=\"flex flex-col gap-1 mt-1.5 mb-2\">\n\t\t\t<div class=\"flex justify-between items-center\">\n\t\t\t\t<div class=\"flex items-center md:self-center text-xl font-medium px-0.5 gap-2\">\n\t\t\t\t\t{$i18n.t('Models')}\n\t\t\t\t\t<span class=\"text-lg font-medium text-gray-500 dark:text-gray-300\"\n\t\t\t\t\t\t>{filteredModels.length}</span\n\t\t\t\t\t>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"flex items-center gap-1.5\">\n\t\t\t\t\t<Tooltip content={$i18n.t('Manage Models')}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" p-1 rounded-full flex gap-1 items-center\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshowManageModal = true;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Download />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t<Tooltip content={$i18n.t('Settings')}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" p-1 rounded-full flex gap-1 items-center\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshowConfigModal = true;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Cog6 />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\" flex flex-1 items-center w-full space-x-2\">\n\t\t\t\t<div class=\"flex flex-1 items-center\">\n\t\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t\t<Search className=\"size-3.5\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\" w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\t\t\tbind:value={searchValue}\n\t\t\t\t\t\tplaceholder={$i18n.t('Search Models')}\n\t\t\t\t\t/>\n\t\t\t\t\t{#if searchValue}\n\t\t\t\t\t\t<div class=\"self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tsearchValue = '';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<XMark className=\"size-3\" strokeWidth=\"2\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\" my-2 mb-5\" id=\"model-list\">\n\t\t\t{#if models.length > 0}\n\t\t\t\t{#each filteredModels as model, modelIdx (`${model.id}-${modelIdx}`)}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\" flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-lg transition {model\n\t\t\t\t\t\t\t?.meta?.hidden\n\t\t\t\t\t\t\t? 'opacity-50 dark:opacity-50'\n\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\tid=\"model-item-{model.id}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" flex flex-1 text-left space-x-3.5 cursor-pointer w-full\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tselectedModelId = model.id;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\" self-center w-8\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\" rounded-full object-cover {(model?.is_active ?? true)\n\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t: 'opacity-50 dark:opacity-50'} \"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={`${WEBUI_API_BASE_URL}/models/model/profile/image?id=${model.id}`}\n\t\t\t\t\t\t\t\t\t\talt=\"modelfile profile\"\n\t\t\t\t\t\t\t\t\t\tclass=\" rounded-full w-full h-auto object-cover\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\" flex-1 self-center {(model?.is_active ?? true) ? '' : 'text-gray-500'}\">\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tcontent={marked.parse(\n\t\t\t\t\t\t\t\t\t\t!!model?.meta?.description\n\t\t\t\t\t\t\t\t\t\t\t? model?.meta?.description\n\t\t\t\t\t\t\t\t\t\t\t: model?.ollama?.digest\n\t\t\t\t\t\t\t\t\t\t\t\t? `${model?.ollama?.digest} **(${model?.ollama?.modified_at})**`\n\t\t\t\t\t\t\t\t\t\t\t\t: model.id\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tclassName=\" w-fit\"\n\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"  font-semibold line-clamp-1\">{model.name}</div>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t<div class=\" text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500\">\n\t\t\t\t\t\t\t\t\t<span class=\" line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t{!!model?.meta?.description\n\t\t\t\t\t\t\t\t\t\t\t? model?.meta?.description\n\t\t\t\t\t\t\t\t\t\t\t: model?.ollama?.digest\n\t\t\t\t\t\t\t\t\t\t\t\t? `${model.id} (${model?.ollama?.digest})`\n\t\t\t\t\t\t\t\t\t\t\t\t: model.id}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<div class=\"flex flex-row gap-0.5 items-center self-center\">\n\t\t\t\t\t\t\t{#if shiftKey}\n\t\t\t\t\t\t\t\t<Tooltip content={model?.meta?.hidden ? $i18n.t('Show') : $i18n.t('Hide')}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\thideModelHandler(model);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{#if model?.meta?.hidden}\n\t\t\t\t\t\t\t\t\t\t\t<EyeSlash />\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t<Eye />\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tselectedModelId = model.id;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\td=\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<ModelMenu\n\t\t\t\t\t\t\t\t\tuser={$user}\n\t\t\t\t\t\t\t\t\t{model}\n\t\t\t\t\t\t\t\t\texportHandler={() => {\n\t\t\t\t\t\t\t\t\t\texportModelHandler(model);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thideHandler={() => {\n\t\t\t\t\t\t\t\t\t\thideModelHandler(model);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tpinModelHandler={() => {\n\t\t\t\t\t\t\t\t\t\tpinModelHandler(model.id);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcopyLinkHandler={() => {\n\t\t\t\t\t\t\t\t\t\tcopyLinkHandler(model);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcloneHandler={() => {\n\t\t\t\t\t\t\t\t\t\tcloneHandler(model);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClose={() => {}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<EllipsisHorizontal className=\"size-5\" />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</ModelMenu>\n\n\t\t\t\t\t\t\t\t<div class=\"ml-1\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={(model?.is_active ?? true) ? $i18n.t('Enabled') : $i18n.t('Disabled')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\t\tbind:state={model.is_active}\n\t\t\t\t\t\t\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleModelHandler(model);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t{:else}\n\t\t\t\t<div class=\"flex flex-col items-center justify-center w-full h-20\">\n\t\t\t\t\t<div class=\"text-gray-500 dark:text-gray-400 text-xs\">\n\t\t\t\t\t\t{$i18n.t('No models found')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t{#if $user?.role === 'admin'}\n\t\t\t<div class=\" flex justify-end w-full mb-3\">\n\t\t\t\t<div class=\"flex space-x-1\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"models-import-input\"\n\t\t\t\t\t\tbind:this={modelsImportInputElement}\n\t\t\t\t\t\tbind:files={importFiles}\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\".json\"\n\t\t\t\t\t\thidden\n\t\t\t\t\t\ton:change={() => {\n\t\t\t\t\t\t\tif (importFiles.length > 0) {\n\t\t\t\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\t\t\t\treader.onload = async (event) => {\n\t\t\t\t\t\t\t\t\tmodelsImportInProgress = true;\n\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tconst models = JSON.parse(String(event.target.result));\n\t\t\t\t\t\t\t\t\t\tconst res = await importModels(localStorage.token, models);\n\n\t\t\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Models imported successfully'));\n\t\t\t\t\t\t\t\t\t\t\tawait init();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\ttoast.error($i18n.t('Failed to import models'));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\ttoast.error(e?.detail ?? $i18n.t('Invalid JSON file'));\n\t\t\t\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tmodelsImportInProgress = false;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\treader.readAsText(importFiles[0]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\n\t\t\t\t\t\tdisabled={modelsImportInProgress}\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tmodelsImportInputElement.click();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if modelsImportInProgress}\n\t\t\t\t\t\t\t<Spinner className=\"size-3\" />\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">\n\t\t\t\t\t\t\t{$i18n.t('Import Presets')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\" self-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-3.5 h-3.5\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z\"\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\n\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\tdownloadModels(models);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">\n\t\t\t\t\t\t\t{$i18n.t('Export Presets')} ({models.length})\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\" self-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-3.5 h-3.5\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z\"\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t{:else}\n\t\t<ModelEditor\n\t\t\tedit\n\t\t\tmodel={models.find((m) => m.id === selectedModelId)}\n\t\t\tpreset={false}\n\t\t\tonSubmit={(model) => {\n\t\t\t\tconsole.log(model);\n\t\t\t\tupsertModelHandler(model);\n\t\t\t\tselectedModelId = null;\n\t\t\t}}\n\t\t\tonBack={() => {\n\t\t\t\tselectedModelId = null;\n\t\t\t}}\n\t\t/>\n\t{/if}\n{:else}\n\t<div class=\" h-full w-full flex justify-center items-center\">\n\t\t<Spinner className=\"size-5\" />\n\t</div>\n{/if}\n","<script lang=\"ts\">\n\timport { getContext, tick } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\timport Cog6 from '$lib/components/icons/Cog6.svelte';\n\timport AddConnectionModal from '$lib/components/AddConnectionModal.svelte';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\n\timport { connect } from 'socket.io-client';\n\n\texport let onDelete = () => {};\n\texport let onSubmit = () => {};\n\n\texport let pipeline = false;\n\n\texport let url = '';\n\texport let key = '';\n\texport let config = {};\n\n\tlet showConfigModal = false;\n\tlet showDeleteConfirmDialog = false;\n</script>\n\n<ConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\ton:confirm={() => {\n\t\tonDelete();\n\t}}\n/>\n\n<AddConnectionModal\n\tedit\n\tbind:show={showConfigModal}\n\tconnection={{\n\t\turl,\n\t\tkey,\n\t\tconfig\n\t}}\n\tonDelete={() => {\n\t\tshowDeleteConfirmDialog = true;\n\t}}\n\tonSubmit={(connection) => {\n\t\turl = connection.url;\n\t\tkey = connection.key;\n\t\tconfig = connection.config;\n\t\tonSubmit(connection);\n\t}}\n/>\n\n<div class=\"flex w-full gap-2 items-center\">\n\t<Tooltip\n\t\tclassName=\"w-full relative\"\n\t\tcontent={$i18n.t(`WebUI will make requests to \"{{url}}/chat/completions\"`, {\n\t\t\turl\n\t\t})}\n\t\tplacement=\"top-start\"\n\t>\n\t\t{#if !(config?.enable ?? true)}\n\t\t\t<div\n\t\t\t\tclass=\"absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10\"\n\t\t\t></div>\n\t\t{/if}\n\t\t<div class=\"flex w-full gap-2\">\n\t\t\t<div class=\"flex-1 relative\">\n\t\t\t\t<input\n\t\t\t\t\tclass=\" outline-hidden w-full bg-transparent {pipeline ? 'pr-8' : ''}\"\n\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\tbind:value={url}\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\treadonly={true}\n\t\t\t\t/>\n\n\t\t\t\t{#if pipeline}\n\t\t\t\t\t<div class=\" absolute top-0.5 right-2.5\">\n\t\t\t\t\t\t<Tooltip content=\"Pipelines\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td=\"M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td=\"m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td=\"m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</Tooltip>\n\n\t<div class=\"flex gap-1\">\n\t\t<Tooltip content={$i18n.t('Configure')} className=\"self-start\">\n\t\t\t<button\n\t\t\t\tclass=\"self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshowConfigModal = true;\n\t\t\t\t}}\n\t\t\t\ttype=\"button\"\n\t\t\t>\n\t\t\t\t<Cog6 />\n\t\t\t</button>\n\t\t</Tooltip>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport ManageOllama from '../Models/Manage/ManageOllama.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\n\texport let show = false;\n\texport let urlIdx: number | null = null;\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2\">\n\t\t\t<div\n\t\t\t\tclass=\"flex w-full justify-between items-center text-lg font-medium self-center font-primary\"\n\t\t\t>\n\t\t\t\t<div class=\" shrink-0\">\n\t\t\t\t\t{$i18n.t('Manage Ollama')}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<ManageOllama {urlIdx} />\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\timport { getContext, tick } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\timport AddConnectionModal from '$lib/components/AddConnectionModal.svelte';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\n\timport Cog6 from '$lib/components/icons/Cog6.svelte';\n\timport Wrench from '$lib/components/icons/Wrench.svelte';\n\timport ManageOllamaModal from './ManageOllamaModal.svelte';\n\timport Download from '$lib/components/icons/Download.svelte';\n\n\texport let onDelete = () => {};\n\texport let onSubmit = () => {};\n\n\texport let url = '';\n\texport let idx = 0;\n\texport let config = {};\n\n\tlet showManageModal = false;\n\tlet showConfigModal = false;\n\tlet showDeleteConfirmDialog = false;\n</script>\n\n<AddConnectionModal\n\tollama\n\tedit\n\tbind:show={showConfigModal}\n\tconnection={{\n\t\turl,\n\t\tkey: config?.key ?? '',\n\t\tconfig: config\n\t}}\n\tonDelete={() => {\n\t\tshowDeleteConfirmDialog = true;\n\t}}\n\tonSubmit={(connection) => {\n\t\turl = connection.url;\n\t\tconfig = { ...connection.config, key: connection.key };\n\t\tonSubmit(connection);\n\t}}\n/>\n\n<ConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\ton:confirm={() => {\n\t\tonDelete();\n\t\tshowConfigModal = false;\n\t}}\n/>\n\n<ManageOllamaModal bind:show={showManageModal} urlIdx={idx} />\n\n<div class=\"flex gap-1.5\">\n\t<Tooltip\n\t\tclassName=\"w-full relative\"\n\t\tcontent={$i18n.t(`WebUI will make requests to \"{{url}}/api/chat\"`, {\n\t\t\turl\n\t\t})}\n\t\tplacement=\"top-start\"\n\t>\n\t\t{#if !(config?.enable ?? true)}\n\t\t\t<div\n\t\t\t\tclass=\"absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10\"\n\t\t\t></div>\n\t\t{/if}\n\n\t\t<input\n\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden\"\n\t\t\tplaceholder={$i18n.t('Enter URL (e.g. http://localhost:11434)')}\n\t\t\tbind:value={url}\n\t\t\treadonly={true}\n\t\t/>\n\t</Tooltip>\n\n\t<div class=\"flex gap-1\">\n\t\t<Tooltip content={$i18n.t('Manage')} className=\"self-start\">\n\t\t\t<button\n\t\t\t\tclass=\"self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshowManageModal = true;\n\t\t\t\t}}\n\t\t\t\ttype=\"button\"\n\t\t\t>\n\t\t\t\t<Download />\n\t\t\t</button>\n\t\t</Tooltip>\n\n\t\t<Tooltip content={$i18n.t('Configure')} className=\"self-start\">\n\t\t\t<button\n\t\t\t\tclass=\"self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshowConfigModal = true;\n\t\t\t\t}}\n\t\t\t\ttype=\"button\"\n\t\t\t>\n\t\t\t\t<Cog6 />\n\t\t\t</button>\n\t\t</Tooltip>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { createEventDispatcher, onMount, getContext, tick } from 'svelte';\n\n\tconst dispatch = createEventDispatcher();\n\n\timport { getOllamaConfig, updateOllamaConfig } from '$lib/apis/ollama';\n\timport { getOpenAIConfig, updateOpenAIConfig, getOpenAIModels } from '$lib/apis/openai';\n\timport { getModels as _getModels, getBackendConfig } from '$lib/apis';\n\timport { getConnectionsConfig, setConnectionsConfig } from '$lib/apis/configs';\n\n\timport { config, models, settings, user } from '$lib/stores';\n\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\n\timport OpenAIConnection from './Connections/OpenAIConnection.svelte';\n\timport AddConnectionModal from '$lib/components/AddConnectionModal.svelte';\n\timport OllamaConnection from './Connections/OllamaConnection.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tconst getModels = async () => {\n\t\tconst models = await _getModels(\n\t\t\tlocalStorage.token,\n\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null),\n\t\t\tfalse,\n\t\t\ttrue\n\t\t);\n\t\treturn models;\n\t};\n\n\t// External\n\tlet OLLAMA_BASE_URLS = [''];\n\tlet OLLAMA_API_CONFIGS = {};\n\n\tlet OPENAI_API_KEYS = [''];\n\tlet OPENAI_API_BASE_URLS = [''];\n\tlet OPENAI_API_CONFIGS = {};\n\n\tlet ENABLE_OPENAI_API: null | boolean = null;\n\tlet ENABLE_OLLAMA_API: null | boolean = null;\n\n\tlet connectionsConfig = null;\n\n\tlet pipelineUrls = {};\n\tlet showAddOpenAIConnectionModal = false;\n\tlet showAddOllamaConnectionModal = false;\n\n\tconst updateOpenAIHandler = async () => {\n\t\tif (ENABLE_OPENAI_API !== null) {\n\t\t\t// Remove trailing slashes\n\t\t\tOPENAI_API_BASE_URLS = OPENAI_API_BASE_URLS.map((url) => url.replace(/\\/$/, ''));\n\n\t\t\t// Check if API KEYS length is same than API URLS length\n\t\t\tif (OPENAI_API_KEYS.length !== OPENAI_API_BASE_URLS.length) {\n\t\t\t\t// if there are more keys than urls, remove the extra keys\n\t\t\t\tif (OPENAI_API_KEYS.length > OPENAI_API_BASE_URLS.length) {\n\t\t\t\t\tOPENAI_API_KEYS = OPENAI_API_KEYS.slice(0, OPENAI_API_BASE_URLS.length);\n\t\t\t\t}\n\n\t\t\t\t// if there are more urls than keys, add empty keys\n\t\t\t\tif (OPENAI_API_KEYS.length < OPENAI_API_BASE_URLS.length) {\n\t\t\t\t\tconst diff = OPENAI_API_BASE_URLS.length - OPENAI_API_KEYS.length;\n\t\t\t\t\tfor (let i = 0; i < diff; i++) {\n\t\t\t\t\t\tOPENAI_API_KEYS.push('');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst res = await updateOpenAIConfig(localStorage.token, {\n\t\t\t\tENABLE_OPENAI_API: ENABLE_OPENAI_API,\n\t\t\t\tOPENAI_API_BASE_URLS: OPENAI_API_BASE_URLS,\n\t\t\t\tOPENAI_API_KEYS: OPENAI_API_KEYS,\n\t\t\t\tOPENAI_API_CONFIGS: OPENAI_API_CONFIGS\n\t\t\t}).catch((error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\ttoast.success($i18n.t('OpenAI API settings updated'));\n\t\t\t\tawait models.set(await getModels());\n\t\t\t}\n\t\t}\n\t};\n\n\tconst updateOllamaHandler = async () => {\n\t\tif (ENABLE_OLLAMA_API !== null) {\n\t\t\t// Remove trailing slashes\n\t\t\tOLLAMA_BASE_URLS = OLLAMA_BASE_URLS.map((url) => url.replace(/\\/$/, ''));\n\n\t\t\tconst res = await updateOllamaConfig(localStorage.token, {\n\t\t\t\tENABLE_OLLAMA_API: ENABLE_OLLAMA_API,\n\t\t\t\tOLLAMA_BASE_URLS: OLLAMA_BASE_URLS,\n\t\t\t\tOLLAMA_API_CONFIGS: OLLAMA_API_CONFIGS\n\t\t\t}).catch((error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\ttoast.success($i18n.t('Ollama API settings updated'));\n\t\t\t\tawait models.set(await getModels());\n\t\t\t}\n\t\t}\n\t};\n\n\tconst updateConnectionsHandler = async () => {\n\t\tconst res = await setConnectionsConfig(localStorage.token, connectionsConfig).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Connections settings updated'));\n\t\t\tawait models.set(await getModels());\n\t\t\tawait config.set(await getBackendConfig());\n\t\t}\n\t};\n\n\tconst addOpenAIConnectionHandler = async (connection) => {\n\t\tOPENAI_API_BASE_URLS = [...OPENAI_API_BASE_URLS, connection.url];\n\t\tOPENAI_API_KEYS = [...OPENAI_API_KEYS, connection.key];\n\t\tOPENAI_API_CONFIGS[OPENAI_API_BASE_URLS.length - 1] = connection.config;\n\n\t\tawait updateOpenAIHandler();\n\t};\n\n\tconst addOllamaConnectionHandler = async (connection) => {\n\t\tOLLAMA_BASE_URLS = [...OLLAMA_BASE_URLS, connection.url];\n\t\tOLLAMA_API_CONFIGS[OLLAMA_BASE_URLS.length - 1] = {\n\t\t\t...connection.config,\n\t\t\tkey: connection.key\n\t\t};\n\n\t\tawait updateOllamaHandler();\n\t};\n\n\tonMount(async () => {\n\t\tif ($user?.role === 'admin') {\n\t\t\tlet ollamaConfig = {};\n\t\t\tlet openaiConfig = {};\n\n\t\t\tawait Promise.all([\n\t\t\t\t(async () => {\n\t\t\t\t\tollamaConfig = await getOllamaConfig(localStorage.token);\n\t\t\t\t})(),\n\t\t\t\t(async () => {\n\t\t\t\t\topenaiConfig = await getOpenAIConfig(localStorage.token);\n\t\t\t\t})(),\n\t\t\t\t(async () => {\n\t\t\t\t\tconnectionsConfig = await getConnectionsConfig(localStorage.token);\n\t\t\t\t})()\n\t\t\t]);\n\n\t\t\tENABLE_OPENAI_API = openaiConfig.ENABLE_OPENAI_API;\n\t\t\tENABLE_OLLAMA_API = ollamaConfig.ENABLE_OLLAMA_API;\n\n\t\t\tOPENAI_API_BASE_URLS = openaiConfig.OPENAI_API_BASE_URLS;\n\t\t\tOPENAI_API_KEYS = openaiConfig.OPENAI_API_KEYS;\n\t\t\tOPENAI_API_CONFIGS = openaiConfig.OPENAI_API_CONFIGS;\n\n\t\t\tOLLAMA_BASE_URLS = ollamaConfig.OLLAMA_BASE_URLS;\n\t\t\tOLLAMA_API_CONFIGS = ollamaConfig.OLLAMA_API_CONFIGS;\n\n\t\t\tif (ENABLE_OPENAI_API) {\n\t\t\t\t// get url and idx\n\t\t\t\tfor (const [idx, url] of OPENAI_API_BASE_URLS.entries()) {\n\t\t\t\t\tif (!OPENAI_API_CONFIGS[idx]) {\n\t\t\t\t\t\t// Legacy support, url as key\n\t\t\t\t\t\tOPENAI_API_CONFIGS[idx] = OPENAI_API_CONFIGS[url] || {};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tOPENAI_API_BASE_URLS.forEach(async (url, idx) => {\n\t\t\t\t\tOPENAI_API_CONFIGS[idx] = OPENAI_API_CONFIGS[idx] || {};\n\t\t\t\t\tif (!(OPENAI_API_CONFIGS[idx]?.enable ?? true)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst res = await getOpenAIModels(localStorage.token, idx);\n\t\t\t\t\tif (res.pipelines) {\n\t\t\t\t\t\tpipelineUrls[url] = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (ENABLE_OLLAMA_API) {\n\t\t\t\tfor (const [idx, url] of OLLAMA_BASE_URLS.entries()) {\n\t\t\t\t\tif (!OLLAMA_API_CONFIGS[idx]) {\n\t\t\t\t\t\tOLLAMA_API_CONFIGS[idx] = OLLAMA_API_CONFIGS[url] || {};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tconst submitHandler = async () => {\n\t\tupdateOpenAIHandler();\n\t\tupdateOllamaHandler();\n\n\t\tdispatch('save');\n\n\t\tawait config.set(await getBackendConfig());\n\t};\n</script>\n\n<AddConnectionModal\n\tbind:show={showAddOpenAIConnectionModal}\n\tonSubmit={addOpenAIConnectionHandler}\n/>\n\n<AddConnectionModal\n\tollama\n\tbind:show={showAddOllamaConnectionModal}\n\tonSubmit={addOllamaConnectionHandler}\n/>\n\n<form class=\"flex flex-col h-full justify-between text-sm\" on:submit|preventDefault={submitHandler}>\n\t<div class=\" overflow-y-scroll scrollbar-hidden h-full\">\n\t\t{#if ENABLE_OPENAI_API !== null && ENABLE_OLLAMA_API !== null && connectionsConfig !== null}\n\t\t\t<div class=\"mb-3.5\">\n\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('General')}</div>\n\n\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t<div class=\"mt-2 space-y-2\">\n\t\t\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\n\t\t\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('OpenAI API')}</div>\n\n\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\tbind:state={ENABLE_OPENAI_API}\n\t\t\t\t\t\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\t\t\t\t\t\tupdateOpenAIHandler();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if ENABLE_OPENAI_API}\n\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between items-center\">\n\t\t\t\t\t\t\t\t\t<div class=\"font-medium text-xs\">{$i18n.t('Manage OpenAI API Connections')}</div>\n\n\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t(`Add Connection`)}>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass=\"px-1\"\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tshowAddOpenAIConnectionModal = true;\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Plus />\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col gap-1.5 mt-1.5\">\n\t\t\t\t\t\t\t\t\t{#each OPENAI_API_BASE_URLS as url, idx}\n\t\t\t\t\t\t\t\t\t\t<OpenAIConnection\n\t\t\t\t\t\t\t\t\t\t\tbind:url={OPENAI_API_BASE_URLS[idx]}\n\t\t\t\t\t\t\t\t\t\t\tbind:key={OPENAI_API_KEYS[idx]}\n\t\t\t\t\t\t\t\t\t\t\tbind:config={OPENAI_API_CONFIGS[idx]}\n\t\t\t\t\t\t\t\t\t\t\tpipeline={pipelineUrls[url] ? true : false}\n\t\t\t\t\t\t\t\t\t\t\tonSubmit={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tupdateOpenAIHandler();\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_BASE_URLS = OPENAI_API_BASE_URLS.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t(url, urlIdx) => idx !== urlIdx\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_KEYS = OPENAI_API_KEYS.filter((key, keyIdx) => idx !== keyIdx);\n\n\t\t\t\t\t\t\t\t\t\t\t\tlet newConfig = {};\n\t\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_BASE_URLS.forEach((url, newIdx) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewConfig[newIdx] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_CONFIGS[newIdx < idx ? newIdx : newIdx + 1];\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_CONFIGS = newConfig;\n\t\t\t\t\t\t\t\t\t\t\t\tupdateOpenAIHandler();\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\" my-2\">\n\t\t\t\t\t<div class=\"flex justify-between items-center text-sm mb-2\">\n\t\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('Ollama API')}</div>\n\n\t\t\t\t\t\t<div class=\"mt-1\">\n\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\tbind:state={ENABLE_OLLAMA_API}\n\t\t\t\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\t\t\t\tupdateOllamaHandler();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if ENABLE_OLLAMA_API}\n\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t<div class=\"flex justify-between items-center\">\n\t\t\t\t\t\t\t\t<div class=\"font-medium text-xs\">{$i18n.t('Manage Ollama API Connections')}</div>\n\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t(`Add Connection`)}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"px-1\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tshowAddOllamaConnectionModal = true;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Plus />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex w-full gap-1.5\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1 flex flex-col gap-1.5 mt-1.5\">\n\t\t\t\t\t\t\t\t\t{#each OLLAMA_BASE_URLS as url, idx}\n\t\t\t\t\t\t\t\t\t\t<OllamaConnection\n\t\t\t\t\t\t\t\t\t\t\tbind:url={OLLAMA_BASE_URLS[idx]}\n\t\t\t\t\t\t\t\t\t\t\tbind:config={OLLAMA_API_CONFIGS[idx]}\n\t\t\t\t\t\t\t\t\t\t\t{idx}\n\t\t\t\t\t\t\t\t\t\t\tonSubmit={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tupdateOllamaHandler();\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tOLLAMA_BASE_URLS = OLLAMA_BASE_URLS.filter((url, urlIdx) => idx !== urlIdx);\n\n\t\t\t\t\t\t\t\t\t\t\t\tlet newConfig = {};\n\t\t\t\t\t\t\t\t\t\t\t\tOLLAMA_BASE_URLS.forEach((url, newIdx) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewConfig[newIdx] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOLLAMA_API_CONFIGS[newIdx < idx ? newIdx : newIdx + 1];\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tOLLAMA_API_CONFIGS = newConfig;\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t{$i18n.t('Trouble accessing Ollama?')}\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium underline\"\n\t\t\t\t\t\t\t\t\thref=\"https://github.com/open-webui/open-webui#troubleshooting\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Click here for help.')}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\n\t\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('Direct Connections')}</div>\n\n\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tbind:state={connectionsConfig.ENABLE_DIRECT_CONNECTIONS}\n\t\t\t\t\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\t\t\t\t\tupdateConnectionsHandler();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t'Direct Connections allow users to connect to their own OpenAI compatible API endpoints.'\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\n\t\t\t\t\t\t<div class=\" text-xs font-medium\">{$i18n.t('Cache Base Model List')}</div>\n\n\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tbind:state={connectionsConfig.ENABLE_BASE_MODELS_CACHE}\n\t\t\t\t\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\t\t\t\t\tupdateConnectionsHandler();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t'Base Model List Cache speeds up access by fetching base models only at startup or on settings savefaster, but may not show recent base model changes.'\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"flex h-full justify-center\">\n\t\t\t\t<div class=\"my-auto\">\n\t\t\t\t\t<Spinner className=\"size-6\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ttype=\"submit\"\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\n\timport { onMount, getContext, createEventDispatcher } from 'svelte';\n\n\tconst dispatch = createEventDispatcher();\n\n\timport {\n\t\tgetQuerySettings,\n\t\tupdateQuerySettings,\n\t\tresetVectorDB,\n\t\tgetEmbeddingConfig,\n\t\tupdateEmbeddingConfig,\n\t\tgetRerankingConfig,\n\t\tupdateRerankingConfig,\n\t\tgetRAGConfig,\n\t\tupdateRAGConfig\n\t} from '$lib/apis/retrieval';\n\n\timport { reindexKnowledgeFiles } from '$lib/apis/knowledge';\n\timport { deleteAllFiles } from '$lib/apis/files';\n\n\timport ResetUploadDirConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport ResetVectorDBConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport ReindexKnowledgeFilesConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Textarea from '$lib/components/common/Textarea.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet updateEmbeddingModelLoading = false;\n\tlet updateRerankingModelLoading = false;\n\n\tlet showResetConfirm = false;\n\tlet showResetUploadDirConfirm = false;\n\tlet showReindexConfirm = false;\n\n\tlet RAG_EMBEDDING_ENGINE = '';\n\tlet RAG_EMBEDDING_MODEL = '';\n\tlet RAG_EMBEDDING_BATCH_SIZE = 1;\n\tlet ENABLE_ASYNC_EMBEDDING = true;\n\n\tlet rerankingModel = '';\n\n\tlet OpenAIUrl = '';\n\tlet OpenAIKey = '';\n\n\tlet AzureOpenAIUrl = '';\n\tlet AzureOpenAIKey = '';\n\tlet AzureOpenAIVersion = '';\n\n\tlet OllamaUrl = '';\n\tlet OllamaKey = '';\n\n\tlet querySettings = {\n\t\ttemplate: '',\n\t\tr: 0.0,\n\t\tk: 4,\n\t\tk_reranker: 4,\n\t\thybrid: false\n\t};\n\n\tlet RAGConfig = null;\n\n\tconst embeddingModelUpdateHandler = async () => {\n\t\tif (RAG_EMBEDDING_ENGINE === '' && RAG_EMBEDDING_MODEL.split('/').length - 1 > 1) {\n\t\t\ttoast.error(\n\t\t\t\t$i18n.t(\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tif (RAG_EMBEDDING_ENGINE === 'ollama' && RAG_EMBEDDING_MODEL === '') {\n\t\t\ttoast.error(\n\t\t\t\t$i18n.t(\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tif (RAG_EMBEDDING_ENGINE === 'openai' && RAG_EMBEDDING_MODEL === '') {\n\t\t\ttoast.error(\n\t\t\t\t$i18n.t(\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tRAG_EMBEDDING_ENGINE === 'azure_openai' &&\n\t\t\t(AzureOpenAIKey === '' || AzureOpenAIUrl === '' || AzureOpenAIVersion === '')\n\t\t) {\n\t\t\ttoast.error($i18n.t('OpenAI URL/Key required.'));\n\t\t\treturn;\n\t\t}\n\n\t\tconsole.debug('Update embedding model attempt:', {\n\t\t\tRAG_EMBEDDING_ENGINE,\n\t\t\tRAG_EMBEDDING_MODEL,\n\t\t\tRAG_EMBEDDING_BATCH_SIZE,\n\t\t\tENABLE_ASYNC_EMBEDDING\n\t\t});\n\n\t\tupdateEmbeddingModelLoading = true;\n\t\tconst res = await updateEmbeddingConfig(localStorage.token, {\n\t\t\tRAG_EMBEDDING_ENGINE: RAG_EMBEDDING_ENGINE,\n\t\t\tRAG_EMBEDDING_MODEL: RAG_EMBEDDING_MODEL,\n\t\t\tRAG_EMBEDDING_BATCH_SIZE: RAG_EMBEDDING_BATCH_SIZE,\n\t\t\tENABLE_ASYNC_EMBEDDING: ENABLE_ASYNC_EMBEDDING,\n\t\t\tollama_config: {\n\t\t\t\tkey: OllamaKey,\n\t\t\t\turl: OllamaUrl\n\t\t\t},\n\t\t\topenai_config: {\n\t\t\t\tkey: OpenAIKey,\n\t\t\t\turl: OpenAIUrl\n\t\t\t},\n\t\t\tazure_openai_config: {\n\t\t\t\tkey: AzureOpenAIKey,\n\t\t\t\turl: AzureOpenAIUrl,\n\t\t\t\tversion: AzureOpenAIVersion\n\t\t\t}\n\t\t}).catch(async (error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\tawait setEmbeddingConfig();\n\t\t\treturn null;\n\t\t});\n\t\tupdateEmbeddingModelLoading = false;\n\n\t\tif (res) {\n\t\t\tconsole.debug('embeddingModelUpdateHandler:', res);\n\t\t}\n\t};\n\n\tconst submitHandler = async () => {\n\t\tif (\n\t\t\tRAGConfig.CONTENT_EXTRACTION_ENGINE === 'external' &&\n\t\t\tRAGConfig.EXTERNAL_DOCUMENT_LOADER_URL === ''\n\t\t) {\n\t\t\ttoast.error($i18n.t('External Document Loader URL required.'));\n\t\t\treturn;\n\t\t}\n\t\tif (RAGConfig.CONTENT_EXTRACTION_ENGINE === 'tika' && RAGConfig.TIKA_SERVER_URL === '') {\n\t\t\ttoast.error($i18n.t('Tika Server URL required.'));\n\t\t\treturn;\n\t\t}\n\t\tif (RAGConfig.CONTENT_EXTRACTION_ENGINE === 'docling' && RAGConfig.DOCLING_SERVER_URL === '') {\n\t\t\ttoast.error($i18n.t('Docling Server URL required.'));\n\t\t\treturn;\n\t\t}\n\t\tif (\n\t\t\tRAGConfig.CONTENT_EXTRACTION_ENGINE === 'datalab_marker' &&\n\t\t\tRAGConfig.DATALAB_MARKER_ADDITIONAL_CONFIG &&\n\t\t\tRAGConfig.DATALAB_MARKER_ADDITIONAL_CONFIG.trim() !== ''\n\t\t) {\n\t\t\ttry {\n\t\t\t\tJSON.parse(RAGConfig.DATALAB_MARKER_ADDITIONAL_CONFIG);\n\t\t\t} catch (e) {\n\t\t\t\ttoast.error($i18n.t('Invalid JSON format in Additional Config'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tRAGConfig.CONTENT_EXTRACTION_ENGINE === 'document_intelligence' &&\n\t\t\tRAGConfig.DOCUMENT_INTELLIGENCE_ENDPOINT === ''\n\t\t) {\n\t\t\ttoast.error($i18n.t('Document Intelligence endpoint required.'));\n\t\t\treturn;\n\t\t}\n\t\tif (\n\t\t\tRAGConfig.CONTENT_EXTRACTION_ENGINE === 'mistral_ocr' &&\n\t\t\tRAGConfig.MISTRAL_OCR_API_KEY === ''\n\t\t) {\n\t\t\ttoast.error($i18n.t('Mistral OCR API Key required.'));\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tRAGConfig.CONTENT_EXTRACTION_ENGINE === 'mineru' &&\n\t\t\tRAGConfig.MINERU_API_MODE === 'cloud' &&\n\t\t\tRAGConfig.MINERU_API_KEY === ''\n\t\t) {\n\t\t\ttoast.error($i18n.t('MinerU API Key required for Cloud API mode.'));\n\t\t\treturn;\n\t\t}\n\n\t\tif (!RAGConfig.BYPASS_EMBEDDING_AND_RETRIEVAL) {\n\t\t\tawait embeddingModelUpdateHandler();\n\t\t}\n\n\t\tif (RAGConfig.DOCLING_PARAMS) {\n\t\t\ttry {\n\t\t\t\tJSON.parse(RAGConfig.DOCLING_PARAMS);\n\t\t\t} catch (e) {\n\t\t\t\ttoast.error(\n\t\t\t\t\t$i18n.t('Invalid JSON format in {{NAME}}', {\n\t\t\t\t\t\tNAME: $i18n.t('Docling Parameters')\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (RAGConfig.MINERU_PARAMS) {\n\t\t\ttry {\n\t\t\t\tJSON.parse(RAGConfig.MINERU_PARAMS);\n\t\t\t} catch (e) {\n\t\t\t\ttoast.error($i18n.t('Invalid JSON format in MinerU Parameters'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tconst res = await updateRAGConfig(localStorage.token, {\n\t\t\t...RAGConfig,\n\t\t\tALLOWED_FILE_EXTENSIONS: RAGConfig.ALLOWED_FILE_EXTENSIONS.split(',')\n\t\t\t\t.map((ext) => ext.trim())\n\t\t\t\t.filter((ext) => ext !== ''),\n\t\t\tDOCLING_PARAMS:\n\t\t\t\ttypeof RAGConfig.DOCLING_PARAMS === 'string' && RAGConfig.DOCLING_PARAMS.trim() !== ''\n\t\t\t\t\t? JSON.parse(RAGConfig.DOCLING_PARAMS)\n\t\t\t\t\t: {},\n\t\t\tMINERU_PARAMS:\n\t\t\t\ttypeof RAGConfig.MINERU_PARAMS === 'string' && RAGConfig.MINERU_PARAMS.trim() !== ''\n\t\t\t\t\t? JSON.parse(RAGConfig.MINERU_PARAMS)\n\t\t\t\t\t: {}\n\t\t});\n\t\tdispatch('save');\n\t};\n\n\tconst setEmbeddingConfig = async () => {\n\t\tconst embeddingConfig = await getEmbeddingConfig(localStorage.token);\n\n\t\tif (embeddingConfig) {\n\t\t\tRAG_EMBEDDING_ENGINE = embeddingConfig.RAG_EMBEDDING_ENGINE;\n\t\t\tRAG_EMBEDDING_MODEL = embeddingConfig.RAG_EMBEDDING_MODEL;\n\t\t\tRAG_EMBEDDING_BATCH_SIZE = embeddingConfig.RAG_EMBEDDING_BATCH_SIZE ?? 1;\n\t\t\tENABLE_ASYNC_EMBEDDING = embeddingConfig.ENABLE_ASYNC_EMBEDDING ?? true;\n\n\t\t\tOpenAIKey = embeddingConfig.openai_config.key;\n\t\t\tOpenAIUrl = embeddingConfig.openai_config.url;\n\n\t\t\tOllamaKey = embeddingConfig.ollama_config.key;\n\t\t\tOllamaUrl = embeddingConfig.ollama_config.url;\n\n\t\t\tAzureOpenAIKey = embeddingConfig.azure_openai_config.key;\n\t\t\tAzureOpenAIUrl = embeddingConfig.azure_openai_config.url;\n\t\t\tAzureOpenAIVersion = embeddingConfig.azure_openai_config.version;\n\t\t}\n\t};\n\tonMount(async () => {\n\t\tawait setEmbeddingConfig();\n\n\t\tconst config = await getRAGConfig(localStorage.token);\n\t\tconfig.ALLOWED_FILE_EXTENSIONS = (config?.ALLOWED_FILE_EXTENSIONS ?? []).join(', ');\n\n\t\tconfig.DOCLING_PARAMS =\n\t\t\ttypeof config.DOCLING_PARAMS === 'object'\n\t\t\t\t? JSON.stringify(config.DOCLING_PARAMS ?? {}, null, 2)\n\t\t\t\t: config.DOCLING_PARAMS;\n\n\t\tconfig.MINERU_PARAMS =\n\t\t\ttypeof config.MINERU_PARAMS === 'object'\n\t\t\t\t? JSON.stringify(config.MINERU_PARAMS ?? {}, null, 2)\n\t\t\t\t: config.MINERU_PARAMS;\n\n\t\tRAGConfig = config;\n\t});\n</script>\n\n<ResetUploadDirConfirmDialog\n\tbind:show={showResetUploadDirConfirm}\n\ton:confirm={async () => {\n\t\tconst res = await deleteAllFiles(localStorage.token).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Success'));\n\t\t}\n\t}}\n/>\n\n<ResetVectorDBConfirmDialog\n\tbind:show={showResetConfirm}\n\ton:confirm={() => {\n\t\tconst res = resetVectorDB(localStorage.token).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Success'));\n\t\t}\n\t}}\n/>\n\n<ReindexKnowledgeFilesConfirmDialog\n\tbind:show={showReindexConfirm}\n\ton:confirm={async () => {\n\t\tconst res = await reindexKnowledgeFiles(localStorage.token).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Success'));\n\t\t}\n\t}}\n/>\n\n<form\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\ton:submit|preventDefault={() => {\n\t\tsubmitHandler();\n\t}}\n>\n\t{#if RAGConfig}\n\t\t<div class=\" space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5\">\n\t\t\t<div class=\"\">\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('General')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"mb-2.5 flex flex-col w-full justify-between\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between mb-1\">\n\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t{$i18n.t('Content Extraction Engine')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.CONTENT_EXTRACTION_ENGINE}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default')}</option>\n\t\t\t\t\t\t\t\t\t<option value=\"external\">{$i18n.t('External')}</option>\n\t\t\t\t\t\t\t\t\t<option value=\"tika\">{$i18n.t('Tika')}</option>\n\t\t\t\t\t\t\t\t\t<option value=\"docling\">{$i18n.t('Docling')}</option>\n\t\t\t\t\t\t\t\t\t<option value=\"datalab_marker\">{$i18n.t('Datalab Marker API')}</option>\n\t\t\t\t\t\t\t\t\t<option value=\"document_intelligence\">{$i18n.t('Document Intelligence')}</option>\n\t\t\t\t\t\t\t\t\t<option value=\"mistral_ocr\">{$i18n.t('Mistral OCR')}</option>\n\t\t\t\t\t\t\t\t\t<option value=\"mineru\">{$i18n.t('MinerU')}</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if RAGConfig.CONTENT_EXTRACTION_ENGINE === ''}\n\t\t\t\t\t\t\t<div class=\"flex w-full mt-1\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1 flex justify-between\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('PDF Extract Images (OCR)')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.PDF_EXTRACT_IMAGES} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if RAGConfig.CONTENT_EXTRACTION_ENGINE === 'datalab_marker'}\n\t\t\t\t\t\t\t<div class=\"my-0.5 flex gap-2 pr-2\">\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t'API Base URL for Datalab Marker service. Defaults to: https://www.datalab.to/api/v1/marker'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Datalab Marker API Base URL')}\n\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.DATALAB_MARKER_API_BASE_URL}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"my-0.5 flex gap-2 pr-2\">\n\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Datalab Marker API Key')}\n\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.DATALAB_MARKER_API_KEY}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col gap-2 mt-2\">\n\t\t\t\t\t\t\t\t<div class=\" flex flex-col w-full justify-between\">\n\t\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Additional Config')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full items-center relative\">\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t'Additional configuration options for marker. This should be a JSON string with key-value pairs. For example, \\'{\"key\": \"value\"}\\'. Supported keys include: disable_links, keep_pageheader_in_output, keep_pagefooter_in_output, filter_blank_pages, drop_repeated_text, layout_coverage_threshold, merge_threshold, height_tolerance, gap_threshold, image_threshold, min_line_length, level_count, default_level'\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.DATALAB_MARKER_ADDITIONAL_CONFIG}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter JSON config (e.g., {\"disable_links\": true})')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex justify-between w-full mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Significantly improves accuracy by using an LLM to enhance tables, forms, inline math, and layout detection. Will increase latency. Defaults to False.'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Use LLM')}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.DATALAB_MARKER_USE_LLM} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex justify-between w-full mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t('Skip the cache and re-run the inference. Defaults to False.')}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Skip Cache')}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.DATALAB_MARKER_SKIP_CACHE} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex justify-between w-full mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Force OCR on all pages of the PDF. This can lead to worse results if you have good text in your PDFs. Defaults to False.'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Force OCR')}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.DATALAB_MARKER_FORCE_OCR} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex justify-between w-full mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Whether to paginate the output. Each page will be separated by a horizontal rule and page number. Defaults to False.'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Paginate')}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.DATALAB_MARKER_PAGINATE} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex justify-between w-full mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Strip existing OCR text from the PDF and re-run OCR. Ignored if Force OCR is enabled. Defaults to False.'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Strip Existing OCR')}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.DATALAB_MARKER_STRIP_EXISTING_OCR} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex justify-between w-full mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Disable image extraction from the PDF. If Use LLM is enabled, images will be automatically captioned. Defaults to False.'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Disable Image Extraction')}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.DATALAB_MARKER_DISABLE_IMAGE_EXTRACTION} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex justify-between w-full mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Format the lines in the output. Defaults to False. If set to True, the lines will be formatted to detect inline math and styles.'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Format Lines')}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.DATALAB_MARKER_FORMAT_LINES} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex justify-between w-full mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\"The output format for the text. Can be 'json', 'markdown', or 'html'. Defaults to 'markdown'.\"\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Output Format')}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.DATALAB_MARKER_OUTPUT_FORMAT}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"markdown\">{$i18n.t('Markdown')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"json\">{$i18n.t('JSON')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"html\">{$i18n.t('HTML')}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if RAGConfig.CONTENT_EXTRACTION_ENGINE === 'external'}\n\t\t\t\t\t\t\t<div class=\"my-0.5 flex gap-2 pr-2\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter External Document Loader URL')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.EXTERNAL_DOCUMENT_LOADER_URL}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter External Document Loader API Key')}\n\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.EXTERNAL_DOCUMENT_LOADER_API_KEY}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if RAGConfig.CONTENT_EXTRACTION_ENGINE === 'tika'}\n\t\t\t\t\t\t\t<div class=\"flex w-full mt-1\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Tika Server URL')}\n\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.TIKA_SERVER_URL}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if RAGConfig.CONTENT_EXTRACTION_ENGINE === 'docling'}\n\t\t\t\t\t\t\t<div class=\"my-0.5 flex gap-2 pr-2\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Docling Server URL')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.DOCLING_SERVER_URL}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Docling API Key')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.DOCLING_API_KEY}\n\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col gap-2 mt-2\">\n\t\t\t\t\t\t\t\t<div class=\" flex flex-col w-full justify-between\">\n\t\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Parameters')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full items-center relative\">\n\t\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.DOCLING_PARAMS}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter additional parameters in JSON format')}\n\t\t\t\t\t\t\t\t\t\t\tminSize={100}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if RAGConfig.CONTENT_EXTRACTION_ENGINE === 'document_intelligence'}\n\t\t\t\t\t\t\t<div class=\"my-0.5 flex gap-2 pr-2\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Document Intelligence Endpoint')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.DOCUMENT_INTELLIGENCE_ENDPOINT}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Document Intelligence Key')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.DOCUMENT_INTELLIGENCE_KEY}\n\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"my-0.5 flex flex-col w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Document Intelligence Model')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Document Intelligence Model')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.DOCUMENT_INTELLIGENCE_MODEL}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if RAGConfig.CONTENT_EXTRACTION_ENGINE === 'mistral_ocr'}\n\t\t\t\t\t\t\t<div class=\"my-0.5 flex gap-2 pr-2\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Mistral API Base URL')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.MISTRAL_OCR_API_BASE_URL}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Mistral API Key')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.MISTRAL_OCR_API_KEY}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if RAGConfig.CONTENT_EXTRACTION_ENGINE === 'mineru'}\n\t\t\t\t\t\t\t<!-- API Mode Selection -->\n\t\t\t\t\t\t\t<div class=\"flex w-full mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1 flex justify-between\">\n\t\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('API Mode')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.MINERU_API_MODE}\n\t\t\t\t\t\t\t\t\t\ton:change={() => {\n\t\t\t\t\t\t\t\t\t\t\t// Auto-update URL when switching modes if it's empty or matches the opposite mode's default\n\t\t\t\t\t\t\t\t\t\t\tconst cloudUrl = 'https://mineru.net/api/v4';\n\t\t\t\t\t\t\t\t\t\t\tconst localUrl = 'http://localhost:8000';\n\n\t\t\t\t\t\t\t\t\t\t\tif (RAGConfig.MINERU_API_MODE === 'cloud') {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!RAGConfig.MINERU_API_URL || RAGConfig.MINERU_API_URL === localUrl) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tRAGConfig.MINERU_API_URL = cloudUrl;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!RAGConfig.MINERU_API_URL || RAGConfig.MINERU_API_URL === cloudUrl) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tRAGConfig.MINERU_API_URL = localUrl;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"local\">{$i18n.t('local')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"cloud\">{$i18n.t('cloud')}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- API URL -->\n\t\t\t\t\t\t\t<div class=\"flex w-full mt-2\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\tplaceholder={RAGConfig.MINERU_API_MODE === 'cloud'\n\t\t\t\t\t\t\t\t\t\t? $i18n.t('https://mineru.net/api/v4')\n\t\t\t\t\t\t\t\t\t\t: $i18n.t('http://localhost:8000')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.MINERU_API_URL}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex w-full mt-2\">\n\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter MinerU API Key')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.MINERU_API_KEY}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex w-full mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1 flex justify-between\">\n\t\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('API Timeout')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-16 text-sm bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.MINERU_API_TIMEOUT}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"60\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Parameters -->\n\t\t\t\t\t\t\t<div class=\"flex flex-col justify-between w-full mt-2\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Advanced parameters for MinerU parsing (enable_ocr, enable_formula, enable_table, language, model_version, page_ranges)'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Parameters')}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"mt-1.5\">\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.MINERU_PARAMS}\n\t\t\t\t\t\t\t\t\t\tplaceholder={`{\\n  \"enable_ocr\": false,\\n  \"enable_formula\": true,\\n  \"enable_table\": true,\\n  \"language\": \"en\",\\n  \"model_version\": \"pipeline\",\\n  \"page_ranges\": \"\"\\n}`}\n\t\t\t\t\t\t\t\t\t\tminSize={100}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Full Context Mode')} placement=\"top-start\">\n\t\t\t\t\t\t\t\t{$i18n.t('Bypass Embedding and Retrieval')}\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tcontent={RAGConfig.BYPASS_EMBEDDING_AND_RETRIEVAL\n\t\t\t\t\t\t\t\t\t? $i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Inject the entire content as context for comprehensive processing, this is recommended for complex queries.'\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t: $i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.BYPASS_EMBEDDING_AND_RETRIEVAL} />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if !RAGConfig.BYPASS_EMBEDDING_AND_RETRIEVAL}\n\t\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Text Splitter')}</div>\n\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.TEXT_SPLITTER}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default')} ({$i18n.t('Character')})</option>\n\t\t\t\t\t\t\t\t\t<option value=\"token\">{$i18n.t('Token')} ({$i18n.t('Tiktoken')})</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t'Split documents by markdown headers before applying character/token splitting.'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Markdown Header Text Splitter')}\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.ENABLE_MARKDOWN_HEADER_TEXT_SPLITTER} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" flex gap-1.5 w-full\">\n\t\t\t\t\t\t\t\t<div class=\"  w-full justify-between\">\n\t\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Chunk Size')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"self-center\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Chunk Size')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.CHUNK_SIZE}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Chunk Overlap')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"self-center\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Chunk Overlap')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.CHUNK_OVERLAP}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if RAGConfig.ENABLE_MARKDOWN_HEADER_TEXT_SPLITTER}\n\t\t\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t\t<div class=\" flex gap-1.5 w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium min-w-fit mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Chunks smaller than this threshold will be merged with neighboring chunks when possible. Set to 0 to disable merging.'\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Chunk Min Size Target')}\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"self-center\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Chunk Min Size Target')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.CHUNK_MIN_SIZE_TARGET}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t{#if !RAGConfig.BYPASS_EMBEDDING_AND_RETRIEVAL}\n\t\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Embedding')}</div>\n\n\t\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t\t<div class=\"  mb-2.5 flex flex-col w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Embedding Model Engine')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\tbind:value={RAG_EMBEDDING_ENGINE}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select an embedding model engine')}\n\t\t\t\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tif (e.target.value === 'ollama') {\n\t\t\t\t\t\t\t\t\t\t\t\tRAG_EMBEDDING_MODEL = '';\n\t\t\t\t\t\t\t\t\t\t\t} else if (e.target.value === 'openai') {\n\t\t\t\t\t\t\t\t\t\t\t\tRAG_EMBEDDING_MODEL = 'text-embedding-3-small';\n\t\t\t\t\t\t\t\t\t\t\t} else if (e.target.value === 'azure_openai') {\n\t\t\t\t\t\t\t\t\t\t\t\tRAG_EMBEDDING_MODEL = 'text-embedding-3-small';\n\t\t\t\t\t\t\t\t\t\t\t} else if (e.target.value === '') {\n\t\t\t\t\t\t\t\t\t\t\t\tRAG_EMBEDDING_MODEL = 'sentence-transformers/all-MiniLM-L6-v2';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default (SentenceTransformers)')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"ollama\">{$i18n.t('Ollama')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('OpenAI')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"azure_openai\">{$i18n.t('Azure OpenAI')}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if RAG_EMBEDDING_ENGINE === 'openai'}\n\t\t\t\t\t\t\t\t<div class=\"my-0.5 flex gap-2 pr-2\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\t\t\tbind:value={OpenAIUrl}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={OpenAIKey}\n\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{:else if RAG_EMBEDDING_ENGINE === 'ollama'}\n\t\t\t\t\t\t\t\t<div class=\"my-0.5 flex gap-2 pr-2\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\t\t\tbind:value={OllamaUrl}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={OllamaKey}\n\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{:else if RAG_EMBEDDING_ENGINE === 'azure_openai'}\n\t\t\t\t\t\t\t\t<div class=\"my-0.5 flex flex-col gap-2 pr-2 w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={AzureOpenAIUrl}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={AzureOpenAIKey} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Version')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={AzureOpenAIVersion}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"  mb-2.5 flex flex-col w-full\">\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Embedding Model')}</div>\n\n\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t{#if RAG_EMBEDDING_ENGINE === 'ollama'}\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={RAG_EMBEDDING_MODEL}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Set embedding model')}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Set embedding model (e.g. {{model}})', {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodel: RAG_EMBEDDING_MODEL.slice(-40)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={RAG_EMBEDDING_MODEL}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t{#if RAG_EMBEDDING_ENGINE === ''}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-transparent text-gray-800 dark:bg-transparent dark:text-gray-100 rounded-lg transition\"\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tembeddingModelUpdateHandler();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={updateEmbeddingModelLoading}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{#if updateEmbeddingModelLoading}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"self-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mt-1 mb-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t\t'After updating or changing the embedding model, you must reindex the knowledge base for the changes to take effect. You can do this using the \"Reindex\" button below.'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t{$i18n.t('Embedding Batch Size')}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tbind:value={RAG_EMBEDDING_BATCH_SIZE}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tclass=\" bg-transparent text-center w-14 outline-none\"\n\t\t\t\t\t\t\t\t\tmin=\"-2\"\n\t\t\t\t\t\t\t\t\tmax=\"16000\"\n\t\t\t\t\t\t\t\t\tstep=\"1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if RAG_EMBEDDING_ENGINE === 'ollama' || RAG_EMBEDDING_ENGINE === 'openai' || RAG_EMBEDDING_ENGINE === 'azure_openai'}\n\t\t\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Runs embedding tasks concurrently to speed up processing. Turn off if rate limits become an issue.'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Async Embedding Processing')}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t\t<Switch bind:state={ENABLE_ASYNC_EMBEDDING} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Retrieval')}</div>\n\n\t\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Full Context Mode')}</div>\n\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tcontent={RAGConfig.RAG_FULL_CONTEXT\n\t\t\t\t\t\t\t\t\t\t? $i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t'Inject the entire content as context for comprehensive processing, this is recommended for complex queries.'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t: $i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t'Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.'\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.RAG_FULL_CONTEXT} />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if !RAGConfig.RAG_FULL_CONTEXT}\n\t\t\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Hybrid Search')}</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.ENABLE_RAG_HYBRID_SEARCH} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if RAGConfig.ENABLE_RAG_HYBRID_SEARCH === true}\n\t\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Enrich Hybrid Search Text')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t'Adds filenames, titles, sections, and snippets into the BM25 text to improve lexical recall.'\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.ENABLE_RAG_HYBRID_SEARCH_ENRICHED_TEXTS} />\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"  mb-2.5 flex flex-col w-full justify-between\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Reranking Engine')}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.RAG_RERANKING_ENGINE}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a reranking model engine')}\n\t\t\t\t\t\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.target.value === 'external') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRAGConfig.RAG_RERANKING_MODEL = '';\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (e.target.value === '') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRAGConfig.RAG_RERANKING_MODEL = 'BAAI/bge-reranker-v2-m3';\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default (SentenceTransformers)')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"external\">{$i18n.t('External')}</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{#if RAGConfig.RAG_RERANKING_ENGINE === 'external'}\n\t\t\t\t\t\t\t\t\t\t<div class=\"my-0.5 flex gap-2 pr-2\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.RAG_EXTERNAL_RERANKER_URL}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.RAG_EXTERNAL_RERANKER_API_KEY}\n\t\t\t\t\t\t\t\t\t\t\t\trequired={false}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"  mb-2.5 flex flex-col w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Reranking Model')}</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Set reranking model (e.g. {{model}})', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodel: 'BAAI/bge-reranker-v2-m3'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.RAG_RERANKING_MODEL}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Top K')}</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Top K')}\n\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.TOP_K}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if RAGConfig.ENABLE_RAG_HYBRID_SEARCH === true}\n\t\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">{$i18n.t('Top K Reranker')}</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Top K Reranker')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.TOP_K_RERANKER}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#if RAGConfig.ENABLE_RAG_HYBRID_SEARCH === true}\n\t\t\t\t\t\t\t\t<div class=\"  mb-2.5 flex flex-col w-full justify-between\">\n\t\t\t\t\t\t\t\t\t<div class=\" flex w-full justify-between\">\n\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Relevance Threshold')}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Score')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.RELEVANCE_THRESHOLD}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0.0\"\n\t\t\t\t\t\t\t\t\t\t\t\ttitle={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'The score should be a value between 0.0 (0%) and 1.0 (100%).'\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#if RAGConfig.ENABLE_RAG_HYBRID_SEARCH === true}\n\t\t\t\t\t\t\t\t<div class=\" mb-2.5 py-0.5 w-full justify-between\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'The Weight of BM25 Hybrid Search. 0 more semantic, 1 more lexical. Default 0.5'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"inline-tooltip\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('BM25 Weight')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition shrink-0 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tRAGConfig.HYBRID_BM25_WEIGHT =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(RAGConfig?.HYBRID_BM25_WEIGHT ?? null) === null ? 0.5 : null;\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{#if (RAGConfig?.HYBRID_BM25_WEIGHT ?? null) === null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('Default')} </span>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('Custom')} </span>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t\t{#if (RAGConfig?.HYBRID_BM25_WEIGHT ?? null) !== null}\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex mt-0.5 space-x-2\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"steps-range\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax=\"1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"0.05\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.HYBRID_BM25_WEIGHT}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"py-0.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" text-left text-xs font-small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('semantic')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" text-right text-xs font-small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('lexical')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.HYBRID_BM25_WEIGHT}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\" bg-transparent text-center w-14\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax=\"1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"any\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<div class=\"  mb-2.5 flex flex-col w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('RAG Template')}</div>\n\t\t\t\t\t\t\t<div class=\"flex w-full items-center relative\">\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.RAG_TEMPLATE}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Files')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Allowed File Extensions')}</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t'Allowed file extensions for upload. Separate multiple extensions with commas. Leave empty for all file types.'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('e.g. pdf, docx, txt')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.ALLOWED_FILE_EXTENSIONS}\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Max Upload Size')}</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t'The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Leave empty for unlimited')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.FILE_MAX_SIZE}\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Max Upload Count')}</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t'The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Leave empty for unlimited')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.FILE_MAX_COUNT}\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Image Compression Width')}</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t'The width in pixels to compress images to. Leave empty for no compression.'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Leave empty for no compression')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.FILE_IMAGE_COMPRESSION_WIDTH}\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Image Compression Height')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t'The height in pixels to compress images to. Leave empty for no compression.'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Leave empty for no compression')}\n\t\t\t\t\t\t\t\t\tbind:value={RAGConfig.FILE_IMAGE_COMPRESSION_HEIGHT}\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Integration')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Google Drive')}</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.ENABLE_GOOGLE_DRIVE_INTEGRATION} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('OneDrive')}</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Switch bind:state={RAGConfig.ENABLE_ONEDRIVE_INTEGRATION} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Danger Zone')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Reset Upload Directory')}</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"text-xs\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tshowResetUploadDirConfirm = true;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Reset')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Reset Vector Storage/Knowledge')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"text-xs\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tshowResetConfirm = true;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Reset')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Reindex Knowledge Base Vectors')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"text-xs\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tshowReindexConfirm = true;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Reindex')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t<button\n\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\t\ttype=\"submit\"\n\t\t\t>\n\t\t\t\t{$i18n.t('Save')}\n\t\t\t</button>\n\t\t</div>\n\t{:else}\n\t\t<div class=\"flex items-center justify-center h-full\">\n\t\t\t<Spinner className=\"size-5\" />\n\t\t</div>\n\t{/if}\n</form>\n","<script lang=\"ts\">\n\timport { getRAGConfig, updateRAGConfig } from '$lib/apis/retrieval';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\n\timport { models } from '$lib/stores';\n\timport { onMount, getContext } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let saveHandler: Function;\n\n\tlet webSearchEngines = [\n\t\t'ollama_cloud',\n\t\t'perplexity_search',\n\t\t'searxng',\n\t\t'yacy',\n\t\t'google_pse',\n\t\t'brave',\n\t\t'kagi',\n\t\t'mojeek',\n\t\t'bocha',\n\t\t'serpstack',\n\t\t'serper',\n\t\t'serply',\n\t\t'searchapi',\n\t\t'serpapi',\n\t\t'duckduckgo',\n\t\t'tavily',\n\t\t'jina',\n\t\t'bing',\n\t\t'exa',\n\t\t'perplexity',\n\t\t'sougou',\n\t\t'firecrawl',\n\t\t'external'\n\t];\n\tlet webLoaderEngines = ['playwright', 'firecrawl', 'tavily', 'external'];\n\n\tlet webConfig = null;\n\n\tconst submitHandler = async () => {\n\t\t// Convert domain filter string to array before sending\n\t\tif (\n\t\t\ttypeof webConfig.WEB_SEARCH_DOMAIN_FILTER_LIST === 'string' &&\n\t\t\twebConfig.WEB_SEARCH_DOMAIN_FILTER_LIST\n\t\t) {\n\t\t\twebConfig.WEB_SEARCH_DOMAIN_FILTER_LIST = webConfig.WEB_SEARCH_DOMAIN_FILTER_LIST.split(',')\n\t\t\t\t.map((domain) => domain.trim())\n\t\t\t\t.filter((domain) => domain.length > 0);\n\t\t} else if (!Array.isArray(webConfig.WEB_SEARCH_DOMAIN_FILTER_LIST)) {\n\t\t\twebConfig.WEB_SEARCH_DOMAIN_FILTER_LIST = [];\n\t\t}\n\n\t\t// Convert Youtube loader language string to array before sending\n\t\tif (\n\t\t\ttypeof webConfig.YOUTUBE_LOADER_LANGUAGE === 'string' &&\n\t\t\twebConfig.YOUTUBE_LOADER_LANGUAGE\n\t\t) {\n\t\t\twebConfig.YOUTUBE_LOADER_LANGUAGE = webConfig.YOUTUBE_LOADER_LANGUAGE.split(',')\n\t\t\t\t.map((lang) => lang.trim())\n\t\t\t\t.filter((lang) => lang.length > 0);\n\t\t} else if (!Array.isArray(webConfig.YOUTUBE_LOADER_LANGUAGE)) {\n\t\t\twebConfig.YOUTUBE_LOADER_LANGUAGE = [];\n\t\t}\n\n\t\t// Convert numeric timeout values to strings (backend expects strings)\n\t\tif (typeof webConfig.FIRECRAWL_TIMEOUT === 'number') {\n\t\t\twebConfig.FIRECRAWL_TIMEOUT = webConfig.FIRECRAWL_TIMEOUT.toString();\n\t\t}\n\t\tif (typeof webConfig.PLAYWRIGHT_TIMEOUT === 'number') {\n\t\t\twebConfig.PLAYWRIGHT_TIMEOUT = webConfig.PLAYWRIGHT_TIMEOUT.toString();\n\t\t}\n\n\t\tconst res = await updateRAGConfig(localStorage.token, {\n\t\t\tweb: webConfig\n\t\t});\n\n\t\t// Convert arrays back to strings for display\n\t\tif (Array.isArray(webConfig.WEB_SEARCH_DOMAIN_FILTER_LIST)) {\n\t\t\twebConfig.WEB_SEARCH_DOMAIN_FILTER_LIST = webConfig.WEB_SEARCH_DOMAIN_FILTER_LIST.join(',');\n\t\t}\n\t\tif (Array.isArray(webConfig.YOUTUBE_LOADER_LANGUAGE)) {\n\t\t\twebConfig.YOUTUBE_LOADER_LANGUAGE = webConfig.YOUTUBE_LOADER_LANGUAGE.join(',');\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tconst res = await getRAGConfig(localStorage.token);\n\n\t\tif (res) {\n\t\t\twebConfig = res.web;\n\n\t\t\t// Convert array back to comma-separated string for display\n\t\t\tif (Array.isArray(webConfig?.WEB_SEARCH_DOMAIN_FILTER_LIST)) {\n\t\t\t\twebConfig.WEB_SEARCH_DOMAIN_FILTER_LIST = webConfig.WEB_SEARCH_DOMAIN_FILTER_LIST.join(',');\n\t\t\t} else if (!webConfig.WEB_SEARCH_DOMAIN_FILTER_LIST) {\n\t\t\t\twebConfig.WEB_SEARCH_DOMAIN_FILTER_LIST = '';\n\t\t\t}\n\n\t\t\tif (Array.isArray(webConfig?.YOUTUBE_LOADER_LANGUAGE)) {\n\t\t\t\twebConfig.YOUTUBE_LOADER_LANGUAGE = webConfig.YOUTUBE_LOADER_LANGUAGE.join(',');\n\t\t\t} else if (!webConfig.YOUTUBE_LOADER_LANGUAGE) {\n\t\t\t\twebConfig.YOUTUBE_LOADER_LANGUAGE = '';\n\t\t\t}\n\n\t\t\t// Convert timeout strings to numbers for number input fields\n\t\t\tif (webConfig.FIRECRAWL_TIMEOUT && typeof webConfig.FIRECRAWL_TIMEOUT === 'string') {\n\t\t\t\tconst parsed = parseInt(webConfig.FIRECRAWL_TIMEOUT);\n\t\t\t\tif (!isNaN(parsed)) {\n\t\t\t\t\twebConfig.FIRECRAWL_TIMEOUT = parsed;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (webConfig.PLAYWRIGHT_TIMEOUT && typeof webConfig.PLAYWRIGHT_TIMEOUT === 'string') {\n\t\t\t\tconst parsed = parseInt(webConfig.PLAYWRIGHT_TIMEOUT);\n\t\t\t\tif (!isNaN(parsed)) {\n\t\t\t\t\twebConfig.PLAYWRIGHT_TIMEOUT = parsed;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n</script>\n\n<form\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\ton:submit|preventDefault={async () => {\n\t\tawait submitHandler();\n\t\tsaveHandler();\n\t}}\n>\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\n\t\t{#if webConfig}\n\t\t\t<div class=\"\">\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('General')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Web Search')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Switch bind:state={webConfig.ENABLE_WEB_SEARCH} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Web Search Engine')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\tbind:value={webConfig.WEB_SEARCH_ENGINE}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a engine')}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option disabled selected value=\"\">{$i18n.t('Select a engine')}</option>\n\t\t\t\t\t\t\t\t{#each webSearchEngines as engine}\n\t\t\t\t\t\t\t\t\t{#if engine === 'duckduckgo' || engine === 'ddgs'}\n\t\t\t\t\t\t\t\t\t\t<option value={engine}>DDGS</option>\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<option value={engine}>{engine}</option>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if webConfig.WEB_SEARCH_ENGINE !== ''}\n\t\t\t\t\t\t{#if webConfig.WEB_SEARCH_ENGINE === 'ollama_cloud'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Ollama Cloud API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Ollama Cloud API Key')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.OLLAMA_CLOUD_WEB_SEARCH_API_KEY}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'perplexity_search'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Perplexity Search API URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Perplexity Search API URL')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.PERPLEXITY_SEARCH_API_URL}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Perplexity API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Perplexity API Key')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.PERPLEXITY_API_KEY}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'searxng'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-left text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Searxng Query URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Searxng Query URL')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.SEARXNG_QUERY_URL}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-left text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Searxng search language (all, en, es, de, fr, etc.)')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Searxng search language')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.SEARXNG_LANGUAGE}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'yacy'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Yacy Instance URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Yacy URL (e.g. http://yacy.example.com:8090)')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.YACY_QUERY_URL}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Yacy Username')}\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Yacy Username')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.YACY_USERNAME}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Yacy Password')}\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Yacy Password')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.YACY_PASSWORD}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'google_pse'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Google PSE API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Google PSE API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.GOOGLE_PSE_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"mt-1.5\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Google PSE Engine Id')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Google PSE Engine Id')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.GOOGLE_PSE_ENGINE_ID}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'brave'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Brave Search API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Brave Search API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.BRAVE_SEARCH_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'kagi'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Kagi Search API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Kagi Search API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.KAGI_SEARCH_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'mojeek'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Mojeek Search API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Mojeek Search API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.MOJEEK_SEARCH_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'bocha'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Bocha Search API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Bocha Search API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.BOCHA_SEARCH_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'serpstack'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Serpstack API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Serpstack API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.SERPSTACK_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'serper'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Serper API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Serper API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.SERPER_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'serply'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Serply API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Serply API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.SERPLY_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'tavily'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Tavily API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Tavily API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.TAVILY_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'searchapi'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('SearchApi API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter SearchApi API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.SEARCHAPI_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"mt-1.5\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('SearchApi Engine')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter SearchApi Engine')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.SEARCHAPI_ENGINE}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'serpapi'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('SerpApi API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter SerpApi API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.SERPAPI_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"mt-1.5\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('SerpApi Engine')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter SerpApi Engine')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.SERPAPI_ENGINE}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'jina'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Jina API Base URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jina API Base URL')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.JINA_API_BASE_URL}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Jina API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jina API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.JINA_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'bing'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Bing Search V7 Endpoint')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Bing Search V7 Endpoint')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.BING_SEARCH_V7_ENDPOINT}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Bing Search V7 Subscription Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Bing Search V7 Subscription Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.BING_SEARCH_V7_SUBSCRIPTION_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'exa'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Exa API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Exa API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.EXA_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'perplexity'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Perplexity API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Perplexity API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.PERPLEXITY_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Perplexity Model')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tlist=\"perplexity-model-list\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.PERPLEXITY_MODEL}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<datalist id=\"perplexity-model-list\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"sonar\">{$i18n.t('Sonar')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"sonar-pro\">{$i18n.t('Sonar Pro')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"sonar-reasoning\">{$i18n.t('Sonar Reasoning')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"sonar-reasoning-pro\">{$i18n.t('Sonar Reasoning Pro')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"sonar-deep-research\">{$i18n.t('Sonar Deep Research')}</option>\n\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Perplexity Search Context Usage')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.PERPLEXITY_SEARCH_CONTEXT_USAGE}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"low\">{$i18n.t('Low')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"medium\">{$i18n.t('Medium')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"high\">{$i18n.t('High')}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'sougou'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Sougou Search API sID')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Sougou Search API sID')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.SOUGOU_API_SID}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Sougou Search API SK')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Sougou Search API SK')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.SOUGOU_API_SK}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'firecrawl'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Firecrawl API Base URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Firecrawl API Base URL')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.FIRECRAWL_API_BASE_URL}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Firecrawl API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Firecrawl API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.FIRECRAWL_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Firecrawl Timeout (s)')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Firecrawl Timeout')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.FIRECRAWL_TIMEOUT}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if webConfig.WEB_SEARCH_ENGINE === 'external'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('External Web Search URL')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter External Web Search URL')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.EXTERNAL_WEB_SEARCH_URL}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('External Web Search API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter External Web Search API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.EXTERNAL_WEB_SEARCH_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t{#if webConfig.WEB_SEARCH_ENGINE === 'duckduckgo'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('DDGS Backend')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.DDGS_BACKEND}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"auto\">{$i18n.t('Auto (Random)')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"bing\">{$i18n.t('Bing')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"brave\">{$i18n.t('Brave')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"duckduckgo\">{$i18n.t('DuckDuckGo')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"google\">{$i18n.t('Google')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"grokipedia\">{$i18n.t('Grokipedia')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"mojeek\">{$i18n.t('Mojeek')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"wikipedia\">{$i18n.t('Wikipedia')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"yahoo\">{$i18n.t('Yahoo')}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"yandex\">{$i18n.t('Yandex')}</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t{#if webConfig.ENABLE_WEB_SEARCH}\n\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Search Result Count')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Search Result Count')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.WEB_SEARCH_RESULT_COUNT}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\t'Limit concurrent search queries. 0 = unlimited (default). Set to 1 for sequential execution (recommended for APIs with strict rate limits like Brave free tier).'\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Concurrent Requests')}\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Concurrent Requests')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.WEB_SEARCH_CONCURRENT_REQUESTS}\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t<div class=\"  text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t{$i18n.t('Domain Filter List')}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t\t'Enter domains separated by commas (e.g., example.com,site.org,!excludedsite.com)'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tbind:value={webConfig.WEB_SEARCH_DOMAIN_FILTER_LIST}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Full Context Mode')} placement=\"top-start\">\n\t\t\t\t\t\t\t\t{$i18n.t('Bypass Embedding and Retrieval')}\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tcontent={webConfig.BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL\n\t\t\t\t\t\t\t\t\t? $i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Inject the entire content as context for comprehensive processing, this is recommended for complex queries.'\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t: $i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Switch bind:state={webConfig.BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL} />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Bypass Web Loader')} placement=\"top-start\">\n\t\t\t\t\t\t\t\t{$i18n.t('Bypass Web Loader')}\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Tooltip content={''}>\n\t\t\t\t\t\t\t\t<Switch bind:state={webConfig.BYPASS_WEB_SEARCH_WEB_LOADER} />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Trust Proxy Environment')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tcontent={webConfig.WEB_SEARCH_TRUST_ENV\n\t\t\t\t\t\t\t\t\t? $i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Use proxy designated by http_proxy and https_proxy environment variables to fetch page contents.'\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t: $i18n.t('Use no proxy to fetch page contents.')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Switch bind:state={webConfig.WEB_SEARCH_TRUST_ENV} />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Loader')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Web Loader Engine')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\tbind:value={webConfig.WEB_LOADER_ENGINE}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a engine')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default')}</option>\n\t\t\t\t\t\t\t\t{#each webLoaderEngines as engine}\n\t\t\t\t\t\t\t\t\t<option value={engine}>{engine}</option>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if webConfig.WEB_LOADER_ENGINE === '' || webConfig.WEB_LOADER_ENGINE === 'safe_web'}\n\t\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t{$i18n.t('Timeout')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Timeout')}\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.WEB_LOADER_TIMEOUT}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t{$i18n.t('Verify SSL Certificate')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t<Switch bind:state={webConfig.ENABLE_WEB_LOADER_SSL_VERIFICATION} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if webConfig.WEB_LOADER_ENGINE === 'playwright'}\n\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Playwright WebSocket URL')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Playwright WebSocket URL')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.PLAYWRIGHT_WS_URL}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Playwright Timeout (ms)')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Playwright Timeout')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.PLAYWRIGHT_TIMEOUT}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if webConfig.WEB_LOADER_ENGINE === 'firecrawl' && webConfig.WEB_SEARCH_ENGINE !== 'firecrawl'}\n\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Firecrawl API Base URL')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Firecrawl API Base URL')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.FIRECRAWL_API_BASE_URL}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Firecrawl API Key')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Firecrawl API Key')}\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.FIRECRAWL_API_KEY}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if webConfig.WEB_LOADER_ENGINE === 'tavily'}\n\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Tavily Extract Depth')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Tavily Extract Depth')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.TAVILY_EXTRACT_DEPTH}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if webConfig.WEB_SEARCH_ENGINE !== 'tavily'}\n\t\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Tavily API Key')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Tavily API Key')}\n\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.TAVILY_API_KEY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if webConfig.WEB_LOADER_ENGINE === 'external'}\n\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full flex-col\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('External Web Loader URL')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter External Web Loader URL')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.EXTERNAL_WEB_LOADER_URL}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('External Web Loader API Key')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter External Web Loader API Key')}\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.EXTERNAL_WEB_LOADER_API_KEY}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t<div class=\"mb-2.5 w-full\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\n\t\t\t\t\t\t\t{$i18n.t('Concurrent Requests')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Concurrent Requests')}\n\t\t\t\t\t\t\tbind:value={webConfig.WEB_LOADER_CONCURRENT_REQUESTS}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Youtube Language')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter language codes')}\n\t\t\t\t\t\t\t\tbind:value={webConfig.YOUTUBE_LOADER_LANGUAGE}\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"  mb-2.5 flex flex-col w-full justify-between\">\n\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">\n\t\t\t\t\t\t\t{$i18n.t('Youtube Proxy URL')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter proxy URL (e.g. https://user:password@host:port)')}\n\t\t\t\t\t\t\t\tbind:value={webConfig.YOUTUBE_LOADER_PROXY_URL}\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ttype=\"submit\"\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { models, settings, user, config } from '$lib/stores';\n\timport { createEventDispatcher, onMount, getContext, tick } from 'svelte';\n\n\tconst dispatch = createEventDispatcher();\n\timport { getModels } from '$lib/apis';\n\timport { getConfig, updateConfig } from '$lib/apis/evaluations';\n\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport Model from './Evaluations/Model.svelte';\n\timport ArenaModelModal from './Evaluations/ArenaModelModal.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet evaluationConfig = null;\n\tlet showAddModel = false;\n\n\tconst submitHandler = async () => {\n\t\tevaluationConfig = await updateConfig(localStorage.token, evaluationConfig).catch((err) => {\n\t\t\ttoast.error(err);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (evaluationConfig) {\n\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\tmodels.set(\n\t\t\t\tawait getModels(\n\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n\n\tconst addModelHandler = async (model) => {\n\t\tevaluationConfig.EVALUATION_ARENA_MODELS.push(model);\n\t\tevaluationConfig.EVALUATION_ARENA_MODELS = [...evaluationConfig.EVALUATION_ARENA_MODELS];\n\n\t\tawait submitHandler();\n\t\tmodels.set(\n\t\t\tawait getModels(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t)\n\t\t);\n\t};\n\n\tconst editModelHandler = async (model, modelIdx) => {\n\t\tevaluationConfig.EVALUATION_ARENA_MODELS[modelIdx] = model;\n\t\tevaluationConfig.EVALUATION_ARENA_MODELS = [...evaluationConfig.EVALUATION_ARENA_MODELS];\n\n\t\tawait submitHandler();\n\t\tmodels.set(\n\t\t\tawait getModels(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t)\n\t\t);\n\t};\n\n\tconst deleteModelHandler = async (modelIdx) => {\n\t\tevaluationConfig.EVALUATION_ARENA_MODELS = evaluationConfig.EVALUATION_ARENA_MODELS.filter(\n\t\t\t(m, mIdx) => mIdx !== modelIdx\n\t\t);\n\n\t\tawait submitHandler();\n\t\tmodels.set(\n\t\t\tawait getModels(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t)\n\t\t);\n\t};\n\n\tonMount(async () => {\n\t\tif ($user?.role === 'admin') {\n\t\t\tevaluationConfig = await getConfig(localStorage.token).catch((err) => {\n\t\t\t\ttoast.error(err);\n\t\t\t\treturn null;\n\t\t\t});\n\t\t}\n\t});\n</script>\n\n<ArenaModelModal\n\tbind:show={showAddModel}\n\ton:submit={async (e) => {\n\t\taddModelHandler(e.detail);\n\t}}\n/>\n\n<form\n\tclass=\"flex flex-col h-full justify-between text-sm\"\n\ton:submit|preventDefault={() => {\n\t\tsubmitHandler();\n\t\tdispatch('save');\n\t}}\n>\n\t<div class=\"overflow-y-scroll scrollbar-hidden h-full\">\n\t\t{#if evaluationConfig !== null}\n\t\t\t<div class=\"\">\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('General')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" text-xs font-medium\">{$i18n.t('Arena Models')}</div>\n\n\t\t\t\t\t\t<Tooltip content={$i18n.t(`Message rating should be enabled to use this feature`)}>\n\t\t\t\t\t\t\t<Switch bind:state={evaluationConfig.ENABLE_EVALUATION_ARENA_MODELS} />\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{#if evaluationConfig.ENABLE_EVALUATION_ARENA_MODELS}\n\t\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium flex justify-between items-center\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{$i18n.t('Manage')}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Add Arena Model')}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"p-1\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tshowAddModel = true;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Plus />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t\t<div class=\"flex flex-col gap-2\">\n\t\t\t\t\t\t\t{#if (evaluationConfig?.EVALUATION_ARENA_MODELS ?? []).length > 0}\n\t\t\t\t\t\t\t\t{#each evaluationConfig.EVALUATION_ARENA_MODELS as model, index}\n\t\t\t\t\t\t\t\t\t<Model\n\t\t\t\t\t\t\t\t\t\t{model}\n\t\t\t\t\t\t\t\t\t\ton:edit={(e) => {\n\t\t\t\t\t\t\t\t\t\t\teditModelHandler(e.detail, index);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ton:delete={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tdeleteModelHandler(index);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<div class=\" text-center text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t\t\t`Using the default arena model with all models. Click the plus button to add custom models.`\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"flex h-full justify-center\">\n\t\t\t\t<div class=\"my-auto\">\n\t\t\t\t\t<Spinner className=\"size-6\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ttype=\"submit\"\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { onMount, getContext } from 'svelte';\n\timport { getCodeExecutionConfig, setCodeExecutionConfig } from '$lib/apis/configs';\n\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Textarea from '$lib/components/common/Textarea.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let saveHandler: Function;\n\n\tlet config = null;\n\n\tlet engines = ['pyodide', 'jupyter'];\n\n\tconst submitHandler = async () => {\n\t\tconst res = await setCodeExecutionConfig(localStorage.token, config);\n\t};\n\n\tonMount(async () => {\n\t\tconst res = await getCodeExecutionConfig(localStorage.token);\n\n\t\tif (res) {\n\t\t\tconfig = res;\n\t\t}\n\t});\n</script>\n\n<form\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\ton:submit|preventDefault={async () => {\n\t\tawait submitHandler();\n\t\tsaveHandler();\n\t}}\n>\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\n\t\t{#if config}\n\t\t\t<div>\n\t\t\t\t<div class=\"mb-3.5\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('General')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\" flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t{$i18n.t('Enable Code Execution')}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Switch bind:state={config.ENABLE_CODE_EXECUTION} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Code Execution Engine')}</div>\n\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_ENGINE}\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a engine')}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option disabled selected value=\"\">{$i18n.t('Select a engine')}</option>\n\t\t\t\t\t\t\t\t\t{#each engines as engine}\n\t\t\t\t\t\t\t\t\t\t<option value={engine}>{engine}</option>\n\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if config.CODE_EXECUTION_ENGINE === 'jupyter'}\n\t\t\t\t\t\t\t<div class=\"text-gray-500 text-xs\">\n\t\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t\t'Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if config.CODE_EXECUTION_ENGINE === 'jupyter'}\n\t\t\t\t\t\t<div class=\"mb-2.5 flex flex-col gap-1.5 w-full\">\n\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\n\t\t\t\t\t\t\t\t{$i18n.t('Jupyter URL')}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter URL')}\n\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_JUPYTER_URL}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mb-2.5 flex flex-col gap-1.5 w-full\">\n\t\t\t\t\t\t\t<div class=\" flex gap-2 w-full items-center justify-between\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Jupyter Auth')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left\"\n\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_JUPYTER_AUTH}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select an auth method')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option selected value=\"\">{$i18n.t('None')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"token\">{$i18n.t('Token')}</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"password\">{$i18n.t('Password')}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if config.CODE_EXECUTION_JUPYTER_AUTH}\n\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t{#if config.CODE_EXECUTION_JUPYTER_AUTH === 'password'}\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter Password')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_JUPYTER_AUTH_PASSWORD}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter Token')}\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_JUPYTER_AUTH_TOKEN}\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex gap-2 w-full items-center justify-between\">\n\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\n\t\t\t\t\t\t\t\t{$i18n.t('Code Execution Timeout')}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter timeout in seconds')}>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_JUPYTER_TIMEOUT}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('e.g. 60')}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-3.5\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('Code Interpreter')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t<div class=\" flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t{$i18n.t('Enable Code Interpreter')}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Switch bind:state={config.ENABLE_CODE_INTERPRETER} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if config.ENABLE_CODE_INTERPRETER}\n\t\t\t\t\t\t<div class=\"mb-2.5\">\n\t\t\t\t\t\t\t<div class=\"  flex w-full justify-between\">\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Code Interpreter Engine')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_ENGINE}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a engine')}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option disabled selected value=\"\">{$i18n.t('Select a engine')}</option>\n\t\t\t\t\t\t\t\t\t\t{#each engines as engine}\n\t\t\t\t\t\t\t\t\t\t\t<option value={engine}>{engine}</option>\n\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if config.CODE_INTERPRETER_ENGINE === 'jupyter'}\n\t\t\t\t\t\t\t\t<div class=\"text-gray-500 text-xs\">\n\t\t\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t\t\t'Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if config.CODE_INTERPRETER_ENGINE === 'jupyter'}\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex flex-col gap-1.5 w-full\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Jupyter URL')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter URL')}\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_JUPYTER_URL}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex flex-col gap-1.5 w-full\">\n\t\t\t\t\t\t\t\t<div class=\"flex gap-2 w-full items-center justify-between\">\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Jupyter Auth')}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_JUPYTER_AUTH}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select an auth method')}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<option selected value=\"\">{$i18n.t('None')}</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"token\">{$i18n.t('Token')}</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"password\">{$i18n.t('Password')}</option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{#if config.CODE_INTERPRETER_JUPYTER_AUTH}\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t{#if config.CODE_INTERPRETER_JUPYTER_AUTH === 'password'}\n\t\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter Password')}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD}\n\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter Token')}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_JUPYTER_AUTH_TOKEN}\n\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex gap-2 w-full items-center justify-between\">\n\t\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Code Execution Timeout')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter timeout in seconds')}>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_JUPYTER_TIMEOUT}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('e.g. 60')}\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<hr class=\"border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"py-0.5 w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-2.5 text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Code Interpreter Prompt Template')}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_PROMPT_TEMPLATE}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ttype=\"submit\"\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { createEventDispatcher, onMount, getContext, tick } from 'svelte';\n\timport { getModels as _getModels } from '$lib/apis';\n\n\tconst dispatch = createEventDispatcher();\n\tconst i18n = getContext('i18n');\n\n\timport { models, settings, user } from '$lib/stores';\n\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport Connection from '$lib/components/chat/Settings/Tools/Connection.svelte';\n\n\timport AddToolServerModal from '$lib/components/AddToolServerModal.svelte';\n\timport { getToolServerConnections, setToolServerConnections } from '$lib/apis/configs';\n\n\texport let saveSettings: Function;\n\n\tlet servers = null;\n\tlet showConnectionModal = false;\n\n\tconst addConnectionHandler = async (server) => {\n\t\tservers = [...servers, server];\n\t\tawait updateHandler();\n\t};\n\n\tconst updateHandler = async () => {\n\t\tconst res = await setToolServerConnections(localStorage.token, {\n\t\t\tTOOL_SERVER_CONNECTIONS: servers\n\t\t}).catch((err) => {\n\t\t\ttoast.error($i18n.t('Failed to save connections'));\n\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Connections saved successfully'));\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tconst res = await getToolServerConnections(localStorage.token);\n\t\tservers = res.TOOL_SERVER_CONNECTIONS;\n\t});\n</script>\n\n<AddToolServerModal bind:show={showConnectionModal} onSubmit={addConnectionHandler} />\n\n<form\n\tclass=\"flex flex-col h-full justify-between text-sm\"\n\ton:submit|preventDefault={() => {\n\t\tupdateHandler();\n\t}}\n>\n\t<div class=\" overflow-y-scroll scrollbar-hidden h-full\">\n\t\t{#if servers !== null}\n\t\t\t<div class=\"\">\n\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t<div class=\" mt-0.5 mb-2.5 text-base font-medium\">{$i18n.t('General')}</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100/30 dark:border-gray-850/30 my-2\" />\n\n\t\t\t\t\t<div class=\"mb-2.5 flex flex-col w-full justify-between\">\n\t\t\t\t\t\t<!-- {$i18n.t(`Failed to connect to {{URL}} OpenAPI tool server`, {\n\t\t\t\t\t\t\tURL: 'server?.url'\n\t\t\t\t\t\t})} -->\n\t\t\t\t\t\t<div class=\"flex justify-between items-center mb-0.5\">\n\t\t\t\t\t\t\t<div class=\"font-medium\">{$i18n.t('Manage Tool Servers')}</div>\n\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t(`Add Connection`)}>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-1\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tshowConnectionModal = true;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Plus />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex flex-col gap-1\">\n\t\t\t\t\t\t\t{#each servers as server, idx}\n\t\t\t\t\t\t\t\t<Connection\n\t\t\t\t\t\t\t\t\tbind:connection={server}\n\t\t\t\t\t\t\t\t\tonSubmit={() => {\n\t\t\t\t\t\t\t\t\t\tupdateHandler();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonDelete={() => {\n\t\t\t\t\t\t\t\t\t\tservers = servers.filter((_, i) => i !== idx);\n\t\t\t\t\t\t\t\t\t\tupdateHandler();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"my-1.5\">\n\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t{$i18n.t('Connect to your own OpenAPI compatible external tool servers.')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- <div class=\"mb-2.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" text-xs font-medium\">{$i18n.t('Arena Models')}</div>\n\n\t\t\t\t\t\t<Tooltip content={$i18n.t(`Message rating should be enabled to use this feature`)}>\n\t\t\t\t\t\t\t<Switch bind:state={evaluationConfig.ENABLE_EVALUATION_ARENA_MODELS} />\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div> -->\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"flex h-full justify-center\">\n\t\t\t\t<div class=\"my-auto\">\n\t\t\t\t\t<Spinner className=\"size-6\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ttype=\"submit\"\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class={className}>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\td=\"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 17.25a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-.75Zm2.25-3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 .75-.75Zm3.75-1.5a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-5.25Z\"\n\t\tclip-rule=\"evenodd\"\n\t/>\n\t<path\n\t\td=\"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z\"\n\t/>\n</svg>\n","<script>\n\timport { getContext, tick, onMount } from 'svelte';\n\timport { page } from '$app/stores';\n\timport { goto } from '$app/navigation';\n\timport { toast } from 'svelte-sonner';\n\n\timport { config } from '$lib/stores';\n\timport { getBackendConfig } from '$lib/apis';\n\timport Database from './Settings/Database.svelte';\n\n\timport General from './Settings/General.svelte';\n\timport Pipelines from './Settings/Pipelines.svelte';\n\timport Audio from './Settings/Audio.svelte';\n\timport Images from './Settings/Images.svelte';\n\timport Interface from './Settings/Interface.svelte';\n\timport Models from './Settings/Models.svelte';\n\timport Connections from './Settings/Connections.svelte';\n\timport Documents from './Settings/Documents.svelte';\n\timport WebSearch from './Settings/WebSearch.svelte';\n\n\timport Evaluations from './Settings/Evaluations.svelte';\n\timport CodeExecution from './Settings/CodeExecution.svelte';\n\timport Tools from './Settings/Tools.svelte';\n\n\timport ChartBar from '../icons/ChartBar.svelte';\n\timport DocumentChartBar from '../icons/DocumentChartBar.svelte';\n\timport Search from '../icons/Search.svelte';\n\timport XMark from '../icons/XMark.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet selectedTab = 'general';\n\n\t// Get current tab from URL pathname, default to 'general'\n\t$: {\n\t\tconst pathParts = $page.url.pathname.split('/');\n\t\tconst tabFromPath = pathParts[pathParts.length - 1];\n\t\tselectedTab = [\n\t\t\t'general',\n\t\t\t'connections',\n\t\t\t'models',\n\t\t\t'evaluations',\n\t\t\t'tools',\n\t\t\t'documents',\n\t\t\t'web',\n\t\t\t'code-execution',\n\t\t\t'interface',\n\t\t\t'audio',\n\t\t\t'images',\n\t\t\t'pipelines',\n\t\t\t'db'\n\t\t].includes(tabFromPath)\n\t\t\t? tabFromPath\n\t\t\t: 'general';\n\t}\n\n\t$: if (selectedTab) {\n\t\t// scroll to selectedTab\n\t\tscrollToTab(selectedTab);\n\t}\n\n\tconst scrollToTab = (tabId) => {\n\t\tconst tabElement = document.getElementById(tabId);\n\t\tif (tabElement) {\n\t\t\ttabElement.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\n\t\t}\n\t};\n\n\tlet search = '';\n\tlet searchDebounceTimeout;\n\tlet filteredSettings = [];\n\n\tconst allSettings = [\n\t\t{\n\t\t\tid: 'general',\n\t\t\ttitle: 'General',\n\t\t\troute: '/admin/settings/general',\n\t\t\tkeywords: [\n\t\t\t\t'general',\n\t\t\t\t'admin',\n\t\t\t\t'settings',\n\t\t\t\t'version',\n\t\t\t\t'update',\n\t\t\t\t'language',\n\t\t\t\t'theme',\n\t\t\t\t'data',\n\t\t\t\t'users',\n\t\t\t\t'roles',\n\t\t\t\t'ldap',\n\t\t\t\t'authentication',\n\t\t\t\t'reverse proxy',\n\t\t\t\t'webhook',\n\t\t\t\t'community',\n\t\t\t\t'channels'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'connections',\n\t\t\ttitle: 'Connections',\n\t\t\troute: '/admin/settings/connections',\n\t\t\tkeywords: [\n\t\t\t\t'connections',\n\t\t\t\t'ollama',\n\t\t\t\t'openai',\n\t\t\t\t'api',\n\t\t\t\t'base url',\n\t\t\t\t'direct connections',\n\t\t\t\t'proxy',\n\t\t\t\t'key'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'models',\n\t\t\ttitle: 'Models',\n\t\t\troute: '/admin/settings/models',\n\t\t\tkeywords: [\n\t\t\t\t'models',\n\t\t\t\t'pull',\n\t\t\t\t'delete',\n\t\t\t\t'create',\n\t\t\t\t'edit',\n\t\t\t\t'modelfile',\n\t\t\t\t'gguf',\n\t\t\t\t'import',\n\t\t\t\t'export'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'evaluations',\n\t\t\ttitle: 'Evaluations',\n\t\t\troute: '/admin/settings/evaluations',\n\t\t\tkeywords: ['evaluations', 'feedback', 'rating', 'arena', 'leaderboard', 'preference']\n\t\t},\n\t\t{\n\t\t\tid: 'tools',\n\t\t\ttitle: 'External Tools',\n\t\t\troute: '/admin/settings/tools',\n\t\t\tkeywords: ['tools', 'plugins', 'extensions', 'functions', 'openapi', 'server']\n\t\t},\n\t\t{\n\t\t\tid: 'documents',\n\t\t\ttitle: 'Documents',\n\t\t\troute: '/admin/settings/documents',\n\t\t\tkeywords: [\n\t\t\t\t'documents',\n\t\t\t\t'files',\n\t\t\t\t'rag',\n\t\t\t\t'knowledge',\n\t\t\t\t'upload',\n\t\t\t\t'embedding',\n\t\t\t\t'vector db',\n\t\t\t\t'chunk',\n\t\t\t\t'overlap',\n\t\t\t\t'splitter',\n\t\t\t\t'pdf',\n\t\t\t\t'ocr',\n\t\t\t\t'tika',\n\t\t\t\t'docling',\n\t\t\t\t'unstructured'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'web',\n\t\t\ttitle: 'Web Search',\n\t\t\troute: '/admin/settings/web',\n\t\t\tkeywords: [\n\t\t\t\t'web search',\n\t\t\t\t'google',\n\t\t\t\t'bing',\n\t\t\t\t'duckduckgo',\n\t\t\t\t'serp',\n\t\t\t\t'searxng',\n\t\t\t\t'moojeh',\n\t\t\t\t'yacy',\n\t\t\t\t'serper',\n\t\t\t\t'serply',\n\t\t\t\t'tavily',\n\t\t\t\t'exa',\n\t\t\t\t'perplexity',\n\t\t\t\t'firecrawl'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'code-execution',\n\t\t\ttitle: 'Code Execution',\n\t\t\troute: '/admin/settings/code-execution',\n\t\t\tkeywords: ['code execution', 'python', 'sandbox', 'compiler', 'jupyter', 'interpreter']\n\t\t},\n\t\t{\n\t\t\tid: 'interface',\n\t\t\ttitle: 'Interface',\n\t\t\troute: '/admin/settings/interface',\n\t\t\tkeywords: [\n\t\t\t\t'interface',\n\t\t\t\t'ui',\n\t\t\t\t'appearance',\n\t\t\t\t'banners',\n\t\t\t\t'tasks',\n\t\t\t\t'prompt suggestions',\n\t\t\t\t'title generation',\n\t\t\t\t'tags'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'audio',\n\t\t\ttitle: 'Audio',\n\t\t\troute: '/admin/settings/audio',\n\t\t\tkeywords: [\n\t\t\t\t'audio',\n\t\t\t\t'voice',\n\t\t\t\t'speech',\n\t\t\t\t'tts',\n\t\t\t\t'stt',\n\t\t\t\t'whisper',\n\t\t\t\t'deepgram',\n\t\t\t\t'azure',\n\t\t\t\t'openai',\n\t\t\t\t'elevenlabs'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'images',\n\t\t\ttitle: 'Images',\n\t\t\troute: '/admin/settings/images',\n\t\t\tkeywords: [\n\t\t\t\t'images',\n\t\t\t\t'generation',\n\t\t\t\t'dalle',\n\t\t\t\t'stable diffusion',\n\t\t\t\t'comfyui',\n\t\t\t\t'automatic1111',\n\t\t\t\t'gemini'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'pipelines',\n\t\t\ttitle: 'Pipelines',\n\t\t\troute: '/admin/settings/pipelines',\n\t\t\tkeywords: ['pipelines', 'workflows', 'filters', 'valves', 'middleware']\n\t\t},\n\t\t{\n\t\t\tid: 'db',\n\t\t\ttitle: 'Database',\n\t\t\troute: '/admin/settings/db',\n\t\t\tkeywords: ['database', 'export', 'import', 'backup', 'chats', 'users']\n\t\t}\n\t];\n\n\tconst setFilteredSettings = () => {\n\t\tfilteredSettings = allSettings.filter((tab) => {\n\t\t\tconst searchTerm = search.toLowerCase().trim();\n\t\t\treturn (\n\t\t\t\tsearch === '' ||\n\t\t\t\ttab.title.toLowerCase().includes(searchTerm) ||\n\t\t\t\ttab.keywords.some((keyword) => keyword.includes(searchTerm))\n\t\t\t);\n\t\t});\n\t};\n\n\tconst searchDebounceHandler = () => {\n\t\tif (searchDebounceTimeout) {\n\t\t\tclearTimeout(searchDebounceTimeout);\n\t\t}\n\n\t\tsearchDebounceTimeout = setTimeout(() => {\n\t\t\tsetFilteredSettings();\n\t\t}, 100);\n\t};\n\n\tonMount(() => {\n\t\tconst containerElement = document.getElementById('admin-settings-tabs-container');\n\n\t\tif (containerElement) {\n\t\t\tcontainerElement.addEventListener('wheel', function (event) {\n\t\t\t\tif (event.deltaY !== 0) {\n\t\t\t\t\t// Adjust horizontal scroll position based on vertical scroll\n\t\t\t\t\tcontainerElement.scrollLeft += event.deltaY;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tsetFilteredSettings();\n\t\t// Scroll to the selected tab on mount\n\t\tscrollToTab(selectedTab);\n\t});\n</script>\n\n<div class=\"flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4\">\n\t<div\n\t\tid=\"admin-settings-tabs-container\"\n\t\tclass=\"tabs mx-[16px] lg:mx-0 lg:px-[16px] flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-50 dark:text-gray-200 text-sm font-medium text-left scrollbar-none\"\n\t>\n\t\t<div\n\t\t\tclass=\"hidden md:flex w-full rounded-full px-2.5 gap-2 bg-gray-100/80 dark:bg-gray-850/80 backdrop-blur-2xl my-1 -mx-1 mt-1.5\"\n\t\t\tid=\"settings-search\"\n\t\t>\n\t\t\t<div class=\"self-center rounded-l-xl bg-transparent\">\n\t\t\t\t<Search className=\"size-3.5\" strokeWidth=\"1.5\" />\n\t\t\t</div>\n\t\t\t<label class=\"sr-only\" for=\"search-input-settings-modal\">{$i18n.t('Search')}</label>\n\t\t\t<input\n\t\t\t\tclass=\"w-full py-1 text-sm bg-transparent dark:text-gray-300 outline-hidden\"\n\t\t\t\tbind:value={search}\n\t\t\t\tid=\"search-input-settings-modal\"\n\t\t\t\ton:input={searchDebounceHandler}\n\t\t\t\tplaceholder={$i18n.t('Search')}\n\t\t\t/>\n\t\t</div>\n\n\t\t<!-- {$i18n.t('General')} -->\n\t\t<!-- {$i18n.t('Connections')} -->\n\t\t<!-- {$i18n.t('Models')} -->\n\t\t<!-- {$i18n.t('Evaluations')} -->\n\t\t<!-- {$i18n.t('External Tools')} -->\n\t\t<!-- {$i18n.t('Documents')} -->\n\t\t<!-- {$i18n.t('Web Search')} -->\n\t\t<!-- {$i18n.t('Code Execution')} -->\n\t\t<!-- {$i18n.t('Interface')} -->\n\t\t<!-- {$i18n.t('Audio')} -->\n\t\t<!-- {$i18n.t('Images')} -->\n\t\t<!-- {$i18n.t('Pipelines')} -->\n\t\t<!-- {$i18n.t('Database')} -->\n\t\t{#each filteredSettings as tab (tab.id)}\n\t\t\t<button\n\t\t\t\tid={tab.id}\n\t\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition {selectedTab ===\n\t\t\t\ttab.id\n\t\t\t\t\t? ''\n\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tgoto(tab.route);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t{#if tab.id === 'general'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{:else if tab.id === 'connections'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{:else if tab.id === 'models'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{:else if tab.id === 'evaluations'}\n\t\t\t\t\t\t<DocumentChartBar />\n\t\t\t\t\t{:else if tab.id === 'tools'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M12 6.75a5.25 5.25 0 0 1 6.775-5.025.75.75 0 0 1 .313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 0 1 1.248.313 5.25 5.25 0 0 1-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 1 1 2.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0 1 12 6.75ZM4.117 19.125a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{:else if tab.id === 'documents'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path d=\"M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z\" />\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{:else if tab.id === 'web'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{:else if tab.id === 'code-execution'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm2.22 1.97a.75.75 0 0 0 0 1.06l.97.97-.97.97a.75.75 0 1 0 1.06 1.06l1.5-1.5a.75.75 0 0 0 0-1.06l-1.5-1.5a.75.75 0 0 0-1.06 0ZM8.75 8.5a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{:else if tab.id === 'interface'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{:else if tab.id === 'audio'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{:else if tab.id === 'images'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{:else if tab.id === 'pipelines'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{:else if tab.id === 'db'}\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path d=\"M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z\" />\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t\t<div class=\" self-center\">{$i18n.t(tab.title)}</div>\n\t\t\t</button>\n\t\t{/each}\n\t</div>\n\n\t<div\n\t\tclass=\"flex-1 mt-3 lg:mt-1 px-[16px] lg:pr-[16px] lg:pl-0 overflow-y-scroll scrollbar-hidden\"\n\t>\n\t\t{#if selectedTab === 'general'}\n\t\t\t<General\n\t\t\t\tsaveHandler={async () => {\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\n\t\t\t\t\tawait tick();\n\t\t\t\t\tawait config.set(await getBackendConfig());\n\t\t\t\t}}\n\t\t\t/>\n\t\t{:else if selectedTab === 'connections'}\n\t\t\t<Connections\n\t\t\t\ton:save={() => {\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\t\t}}\n\t\t\t/>\n\t\t{:else if selectedTab === 'models'}\n\t\t\t<Models />\n\t\t{:else if selectedTab === 'evaluations'}\n\t\t\t<Evaluations />\n\t\t{:else if selectedTab === 'tools'}\n\t\t\t<Tools />\n\t\t{:else if selectedTab === 'documents'}\n\t\t\t<Documents\n\t\t\t\ton:save={async () => {\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\n\t\t\t\t\tawait tick();\n\t\t\t\t\tawait config.set(await getBackendConfig());\n\t\t\t\t}}\n\t\t\t/>\n\t\t{:else if selectedTab === 'web'}\n\t\t\t<WebSearch\n\t\t\t\tsaveHandler={async () => {\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\n\t\t\t\t\tawait tick();\n\t\t\t\t\tawait config.set(await getBackendConfig());\n\t\t\t\t}}\n\t\t\t/>\n\t\t{:else if selectedTab === 'code-execution'}\n\t\t\t<CodeExecution\n\t\t\t\tsaveHandler={async () => {\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\n\t\t\t\t\tawait tick();\n\t\t\t\t\tawait config.set(await getBackendConfig());\n\t\t\t\t}}\n\t\t\t/>\n\t\t{:else if selectedTab === 'interface'}\n\t\t\t<Interface\n\t\t\t\ton:save={() => {\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\t\t}}\n\t\t\t/>\n\t\t{:else if selectedTab === 'audio'}\n\t\t\t<Audio\n\t\t\t\tsaveHandler={() => {\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\t\t}}\n\t\t\t/>\n\t\t{:else if selectedTab === 'images'}\n\t\t\t<Images\n\t\t\t\ton:save={() => {\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\t\t}}\n\t\t\t/>\n\t\t{:else if selectedTab === 'db'}\n\t\t\t<Database\n\t\t\t\tsaveHandler={() => {\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\t\t}}\n\t\t\t/>\n\t\t{:else if selectedTab === 'pipelines'}\n\t\t\t<Pipelines\n\t\t\t\tsaveHandler={() => {\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\t\t}}\n\t\t\t/>\n\t\t{/if}\n\t</div>\n</div>\n"],"names":["getConfig","token","error","res","IMAGES_API_BASE_URL","err","updateConfig","config","verifyConfigUrl","getImageGenerationModels","className","saveAs","fileSaver","i18n","getContext","saveHandler","$.prop","$$props","exportAllUserChats","blob","getAllUserChats","exportUsers","users","getAllUsers","headers","csv","user","header","onMount","$i18n","$.event","button_2","downloadDatabase","toast","button_3","button_4","$.untrack","_a","$config","input","e","file","reader","importConfig","button","button_1","exportConfig","form","$.preventDefault","updateAvailable","version","adminConfig","webhookUrl","groups","$.mutable_source","ENABLE_LDAP","LDAP_SERVER","checkForVersionUpdates","$.set","getVersionUpdates","WEBUI_VERSION","$.get","compareVersion","updateLdapServerHandler","updateLdapServer","updateHandler","updateWebhookUrl","updateAdminConfig","updateLdapConfig","_b","getAdminConfig","getWebhookUrl","getLdapServer","getGroups","ldapConfig","getLdapConfig","WEBUI_BUILD_HASH","DOMPurify","$$render","consequent_3","alternate","$.each","node_7","group","$$value","$.bind_value","$.mutate","input_1","input_5","input_6","input_7","input_8","input_9","input_12","input_11","input_3","input_4","input_10","consequent_9","input_13","showChangelog","$.bind_select_value","select","select_1","input_2","input_14","input_15","consequent_11","downloading","uploading","pipelineFiles","PIPELINES_LIST","selectedPipelinesUrlIdx","pipelines","valves","valves_spec","selectedPipelineIdx","pipelineDownloadUrl","pipeline","property","v","updatePipelineValves","setPipelines","models","getModels","_c","_d","$settings","getValves","idx","getPipelineValvesSpec","getPipelineValves","getPipelines","addPipelineHandler","downloadPipeline","uploadPipelineHandler","uploadPipeline","pipelineUploadInputElement","deletePipelineHandler","deletePipeline","getPipelinesList","node_2","$$array","consequent","consequent_1","alternate_1","consequent_2","alternate_2","tick","option","select_2","consequent_8","alternate_6","consequent_12","alternate_9","$.bind_files","consequent_14","alternate_11","dispatch","createEventDispatcher","TTS_OPENAI_API_BASE_URL","TTS_OPENAI_API_KEY","TTS_API_KEY","TTS_ENGINE","TTS_MODEL","TTS_VOICE","TTS_OPENAI_PARAMS","TTS_SPLIT_ON","TTS_RESPONSE_SPLIT","TTS_AZURE_SPEECH_REGION","TTS_AZURE_SPEECH_BASE_URL","TTS_AZURE_SPEECH_OUTPUT_FORMAT","STT_OPENAI_API_BASE_URL","STT_OPENAI_API_KEY","STT_ENGINE","STT_MODEL","STT_SUPPORTED_CONTENT_TYPES","STT_WHISPER_MODEL","STT_AZURE_API_KEY","STT_AZURE_REGION","STT_AZURE_LOCALES","STT_AZURE_BASE_URL","STT_AZURE_MAX_SPEAKERS","STT_DEEPGRAM_API_KEY","STT_MISTRAL_API_KEY","STT_MISTRAL_API_BASE_URL","STT_MISTRAL_USE_CHAT_COMPLETIONS","STT_WHISPER_MODEL_LOADING","voices","_getModels","getVoices","getVoicesLoop","a","b","_getVoices","updateConfigHandler","openaiParams","updateAudioConfig","getBackendConfig","sttModelUpdateHandler","getAudioConfig","$.bind_checked","consequent_5","consequent_6","consequent_4","alternate_3","alternate_4","alternate_5","consequent_7","node_19","voice","$.set_selected","option_12","datalist_2","datalist_3","model","input_16","input_17","datalist_4","datalist_5","input_18","input_19","datalist_6","input_20","input_21","consequent_13","alternate_7","alternate_8","consequent_10","alternate_10","split","select_3","show","value","lang","onChange","onSave","boilerplate","codeEditor","_content","$.user_effect","loading","showComfyUIWorkflowEditor","REQUIRED_WORKFLOW_NODES","showComfyUIEditWorkflowEditor","REQUIRED_EDIT_WORKFLOW_NODES","backendConfig","validateJSON","json","obj","node","id","$user","n","datalist","$.set_text","text_4","option_value","div_97","$$index_1","datalist_1","text_39","option_7_value","option_7","button_5","button_6","div_180","$$index_3","$.template_effect","$0","text_55","consequent_15","strokeWidth","banners","sortable","bannerListElement","positionChangeHandler","bannerIdOrder","child","index","banner","init","Sortable","event","div","bannerIdx","$.bind_this","taskConfig","promptSuggestions","updateInterfaceHandler","updateTaskConfig","p","setDefaultPromptSuggestions","updateBanners","_banners","setBanners","workspaceModels","baseModels","getTaskConfig","getBanners","getBaseModels","m","workspaceModel","wm","option_1_value","option_1","node_3","text_7","option_3_value","option_3","uuidv4","modelIds","modelListElement","modelList","modelId","modelIdx","$models","title","selectedModelId","div_5","_","edit","name","generateId","profileImageUrl","WEBUI_BASE_URL","description","filterMode","accessControl","imageInputElement","showDeleteConfirmDialog","addModelHandler","submitHandler","initModel","div_24","files","originalImageUrl","img","canvas","ctx","aspectRatio","newWidth","newHeight","offsetX","offsetY","compressedSrc","showModel","WEBUI_API_BASE_URL","initHandler","defaultModelIds","defaultPinnedModelIds","sortKey","sortOrder","showResetModal","getModelsConfig","modelOrderList","allModelIds","orderedSet","setModelsConfig","deleteAllModels","nameA","nameB","modelUploadInputElement","showModelDeleteConfirm","urlIdx","ollamaModels","updateModelId","updateProgress","updateModelsControllers","updateCancelled","showExperimentalOllama","MAX_PARALLEL_DOWNLOADS","modelLoading","modelTag","createModelLoading","createModelName","createModelObject","createModelDigest","createModelPullProgress","digest","pullProgress","modelUploadMode","modelInputFile","modelFileUrl","modelFileContent","modelFileDigest","uploadProgress","uploadMessage","deleteModelTag","updateModelsHandler","controller","pullModel","splitStream","done","lines","line","data","pullModelHandler","sanitizedModelTag","$MODEL_DOWNLOAD_POOL","MODEL_DOWNLOAD_POOL","downloadProgress","uploadModelHandler","uploaded","fileResponse","uploadModel","downloadModel","createModel","deleteModelHandler","deleteModel","getOllamaModels","cancelUpdateModelHandler","cancelModelPullHandler","abortController","createModelHandler","modelObject","text_3","node_12","text_11","button_8","$.set_class","div_44","textarea_1","text_27","button_7","textarea","consequent_17","consequent_16","ollamaConfig","selectedUrlIdx","url","selected","getOllamaConfig","exportHandler","hideHandler","pinModelHandler","copyLinkHandler","cloneHandler","onClose","flyAndScale","shiftKey","modelsImportInProgress","importFiles","modelsImportInputElement","filteredModels","showConfigModal","showManageModal","searchValue","downloadModels","upsertModelHandler","updateModelById","createNewModel","_models","toggleModelHandler","toggleModelById","hideModelHandler","baseUrl","copyToClipboard","goto","exportModelHandler","pinnedModels","settings","updateUserSettings","$page","onKeyDown","onKeyUp","onBlur","$$anchor","marked","importModels","onDelete","onSubmit","key","$.derived_safe_equal","connection","OLLAMA_BASE_URLS","OLLAMA_API_CONFIGS","OPENAI_API_KEYS","OPENAI_API_BASE_URLS","OPENAI_API_CONFIGS","ENABLE_OPENAI_API","ENABLE_OLLAMA_API","connectionsConfig","pipelineUrls","showAddOpenAIConnectionModal","showAddOllamaConnectionModal","updateOpenAIHandler","diff","i","updateOpenAIConfig","updateOllamaHandler","updateOllamaConfig","updateConnectionsHandler","setConnectionsConfig","addOpenAIConnectionHandler","addOllamaConnectionHandler","openaiConfig","getOpenAIConfig","getConnectionsConfig","getOpenAIModels","div_12","keyIdx","newConfig","newIdx","div_21","updateEmbeddingModelLoading","showResetConfirm","showResetUploadDirConfirm","showReindexConfirm","RAG_EMBEDDING_ENGINE","RAG_EMBEDDING_MODEL","RAG_EMBEDDING_BATCH_SIZE","ENABLE_ASYNC_EMBEDDING","OpenAIUrl","OpenAIKey","AzureOpenAIUrl","AzureOpenAIKey","AzureOpenAIVersion","OllamaUrl","OllamaKey","RAGConfig","embeddingModelUpdateHandler","updateEmbeddingConfig","setEmbeddingConfig","updateRAGConfig","ext","embeddingConfig","getEmbeddingConfig","getRAGConfig","deleteAllFiles","resetVectorDB","reindexKnowledgeFiles","cloudUrl","localUrl","select_5","consequent_18","input_22","consequent_19","input_23","consequent_20","consequent_21","input_24","input_25","consequent_22","consequent_23","consequent_24","select_4","consequent_25","input_26","input_27","input_28","input_29","input_30","consequent_26","alternate_12","webSearchEngines","webLoaderEngines","webConfig","domain","parsed","engine","node_57","consequent_32","evaluationConfig","showAddModel","editModelHandler","mIdx","$.index","engines","setCodeExecutionConfig","getCodeExecutionConfig","node_10","servers","showConnectionModal","addConnectionHandler","server","setToolServerConnections","getToolServerConnections","div_7","selectedTab","scrollToTab","tabId","tabElement","search","searchDebounceTimeout","filteredSettings","allSettings","setFilteredSettings","tab","searchTerm","keyword","searchDebounceHandler","containerElement","pathParts","tabFromPath","alternate_13","alternate_14","alternate_15","alternate_16","alternate_17","alternate_18","alternate_19","alternate_20","alternate_21","alternate_22","alternate_23"],"mappings":"ioGAEa,MAAAA,GAAY,MAAOC,GAAgB,KAAO,CACtD,IAAIC,GAAQ,KAEZ,MAAMC,EAAM,MAAM,MAAM,GAAGC,EAAmB,UAAW,CACxD,OAAQ,MACR,QAAS,CACR,OAAQ,mBACR,eAAgB,mBAChB,GAAIH,IAAS,CAAE,cAAe,UAAUA,EAAK,EAAG,CACjD,CAAA,CACA,EACC,KAAK,MAAOE,GAAQ,CACpB,GAAI,CAACA,EAAI,GAAU,MAAA,MAAMA,EAAI,KAAK,EAClC,OAAOA,EAAI,MAAK,CAChB,EACA,MAAOE,IAEH,WAAYA,EACfH,GAAQG,EAAI,OAEJH,GAAA,2BAEF,KACP,EAEF,GAAIA,GACG,MAAAA,GAGA,OAAAC,CACR,EAEaG,GAAe,MAAOL,GAAgB,GAAIM,KAAmB,CACzE,IAAIL,EAAQ,KAEZ,MAAMC,EAAM,MAAM,MAAM,GAAGC,EAAmB,iBAAkB,CAC/D,OAAQ,OACR,QAAS,CACR,OAAQ,mBACR,eAAgB,mBAChB,GAAIH,IAAS,CAAE,cAAe,UAAUA,EAAK,EAAG,CACjD,EACA,KAAM,KAAK,UAAU,CACpB,GAAGM,EAAA,CACH,CAAA,CACD,EACC,KAAK,MAAOJ,GAAQ,CACpB,GAAI,CAACA,EAAI,GAAU,MAAA,MAAMA,EAAI,KAAK,EAClC,OAAOA,EAAI,MAAK,CAChB,EACA,MAAOE,IAEH,WAAYA,EACfH,EAAQG,EAAI,OAEJH,EAAA,2BAEF,KACP,EAEF,GAAIA,EACG,MAAAA,EAGA,OAAAC,CACR,EAEaK,GAAkB,MAAOP,GAAgB,KAAO,CAC5D,IAAIC,GAAQ,KAEZ,MAAMC,EAAM,MAAM,MAAM,GAAGC,EAAmB,qBAAsB,CACnE,OAAQ,MACR,QAAS,CACR,OAAQ,mBACR,eAAgB,mBAChB,GAAIH,IAAS,CAAE,cAAe,UAAUA,EAAK,EAAG,CACjD,CAAA,CACA,EACC,KAAK,MAAOE,GAAQ,CACpB,GAAI,CAACA,EAAI,GAAU,MAAA,MAAMA,EAAI,KAAK,EAClC,OAAOA,EAAI,MAAK,CAChB,EACA,MAAOE,IAEH,WAAYA,EACfH,GAAQG,EAAI,OAEJH,GAAA,2BAEF,KACP,EAEF,GAAIA,GACG,MAAAA,GAGA,OAAAC,CACR,EAmEaM,GAA2B,MAAOR,GAAgB,KAAO,CACrE,IAAIC,GAAQ,KAEZ,MAAMC,EAAM,MAAM,MAAM,GAAGC,EAAmB,UAAW,CACxD,OAAQ,MACR,QAAS,CACR,OAAQ,mBACR,eAAgB,mBAChB,GAAIH,IAAS,CAAE,cAAe,UAAUA,EAAK,EAAG,CACjD,CAAA,CACA,EACC,KAAK,MAAOE,GAAQ,CACpB,GAAI,CAACA,EAAI,GAAU,MAAA,MAAMA,EAAI,KAAK,EAClC,OAAOA,EAAI,MAAK,CAChB,EACA,MAAOE,IAEH,WAAYA,EACfH,GAAQG,EAAI,OAEJH,GAAA,2BAEF,KACP,EAEF,GAAIA,GACG,MAAAA,GAGA,OAAAC,CACR,kYCpMA,CACY,IAAAO,sBAAY,SAAS,wBACP,KAAK,6BAGwDA,EAAS,CAAA,CAAA,CAAA,SAFhG,mkHCHA,4EAES,CAAA,OAAAC,IAAWC,GAUbC,EAAOC,GAAW,MAAM,MAEnBC,GAAqBC,GAAAC,GAAA,cAAA,CAAA,EAE1B,MAAAC,EAAiC,SAAA,CAClC,IAAAC,GAAW,IAAA,KAAM,CAAA,KAAK,UAAS,MAAOC,GAAgB,aAAa,KAAK,CAC3E,CAAA,EAAA,CAAA,KAAM,kBAAiB,CAAA,EAExBT,GAAOQ,GAA0B,oBAAA,KAAK,IAAG,CAAA,OAAA,GAGpCE,EAA0B,SAAA,CACzB,MAAAC,GAAc,MAAAC,GAAY,aAAa,KAAK,EAE5CC,GAAW,KAAM,OAAQ,QAAS,MAAM,EAExCC,GAAG,CACRD,EAAQ,KAAK,GAAG,EACb,GAAAF,GAAM,MAAM,IAAKI,GACZF,EACL,IAAKG,GACDD,EAAKC,CAAM,IAAM,MAAQD,EAAKC,CAAM,IAAM,OACtC,OAEG,OAAOD,EAAKC,CAAM,GAAG,QAAQ,KAAM,IAAI,CAAA,GAClD,EACA,KAAK,GAAG,CACV,CACA,EAAA,KAAK;AAAA,CAAI,EAELR,MAAW,KAAI,CAAEM,EAAG,EAAK,CAAA,KAAM,yBAAyB,CAAA,EAC9Dd,GAAOQ,EAAM,WAAW,GAGzBS,GAAoB,SAAA,EAEnB,2ZAiImDC,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBA0BzEA,EAAK,EAAC,EAAE,8BAA8B,CAAA,kBA0BtCA,EAAK,EAAC,EAAE,cAAc,CAAA,KA3EPC,GAAA,QAAAC,EAAA,IAAA,CAGfC,GAAiB,aAAa,KAAK,EAAE,MAAO9B,IAAU,CACrD+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACpB,EACD,EAuBc4B,GAAA,QAAAI,GAAA,IAAA,CACfhB,IACA,EAwBeY,GAAA,QAAAK,EAAA,IAAA,CACfd,IACA,wBAhEEe,EAAA,IAAA,OAAA,QAAAC,EAAAC,EAAO,IAAP,YAAAD,EAAS,SAAS,sBAAuB,GAAI,iFAxFVR,EAAK,EAAC,EAAE,UAAU,CAAA,kBAmDvDA,EAAK,EAAC,EAAE,8BAA8B,CAAA,kBA+BtCA,EAAK,EAAC,EAAE,4BAA4B,CAAA,KA3E1BC,GAAA,SAAAS,EAAAC,IAAM,CACX,MAAAC,EAAOD,GAAE,OAAO,MAAM,CAAC,EACvBE,OAAa,WAEnBA,GAAO,OAAgB,MAAAF,GAAM,CACnB,MAASG,GAAa,aAAa,MAAO,KAAK,MAAMH,EAAE,OAAO,MAAM,GAAG,MAC9EtC,GAAU,CACV+B,GAAM,MAAK,GAAI/B,CAAK,EAAA,CACrB,CAAA,GAIA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,EAErDW,EAAE,OAAO,MAAQ,MAGlBE,GAAO,WAAWD,CAAI,EACtB,EAMqBX,GAAA,QAAAc,EAAA,SAAA,CACrB,SAAS,eAAe,mBAAmB,EAAE,MAAK,EAClD,EAyBqBd,GAAA,QAAAe,GAAA,SAAA,CACf,MAAAtC,GAAe,MAAAuC,GAAa,aAAa,KAAK,EAC9C3B,EAAI,IAAO,KAAI,CAAE,KAAK,UAAUZ,EAAM,CAAA,EAAA,CAC3C,KAAM,kBAAiB,CAAA,EAExBI,GAAOQ,EAAgB,UAAA,KAAK,IAAG,CAAA,OAAA,EAC/B,EAtEkCW,GAAA,SAAAiB,EAAAC,GAAA,SAAA,CACrCjC,GAAW,EAAA,CACX,CAAA,CAAA,mBANF,qsVCjDA,6EAuBOF,GAAOC,GAAW,MAAM,MAEnBC,EAAqBC,GAAAC,GAAA,cAAA,CAAA,EAE5BgC,KAAkB,IAAI,EACtBC,KACH,QAAS,GACT,OAAQ,EAAC,CAAA,EAGNC,IAAc,IAAI,EAClBC,IAAa,EAAE,EACfC,EAAMC,EAAA,CAAA,CAAA,EAGNC,IAAc,EAAK,EACnBC,EAAWF,EAAA,CACd,MAAO,GACP,KAAM,GACN,KAAM,GACN,mBAAoB,OACpB,uBAAwB,MACxB,OAAQ,GACR,gBAAiB,GACjB,YAAa,GACb,eAAgB,GAChB,QAAS,GACT,iBAAkB,GAClB,QAAS,KAGJ,MAAAG,EAAqC,SAAA,CAC1CC,EAAAT,GAAkB,IAAI,IACtBC,EAAO,MAASS,GAAkB,aAAa,KAAK,EAAE,MAAOzD,KAE3D,CAAA,QAAS0D,GACT,OAAQA,EAAA,EAET,CAAA,EAED,QAAQ,KAAIC,EAACX,CAAO,CAAA,IAEpBD,GAAkBa,GAAeD,EAAAX,CAAO,EAAC,OAAMW,EAAEX,CAAO,EAAC,OAAO,CAAA,EAChE,QAAQ,KAAIW,EAACZ,EAAe,CAAA,GAGvBc,EAAsC,SAAA,OACtCR,CAAW,EAAA,OACE,MAAAS,GAAiB,aAAa,MAAOH,EAAAL,CAAW,CAAE,EAAA,MAAOtD,IAC1E+B,GAAM,MAAK,GAAI/B,CAAK,EAAA,EACb,KACP,GAEA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,qBAAqB,CAAA,GAIvCoC,EAA4B,SAAA,CACjCP,EAAAN,QAAmBc,GAAiB,aAAa,QAAOd,CAAU,CAAA,CAAA,EAC5D,MAAAjD,SAAYgE,GAAkB,aAAa,QAAOhB,CAAW,CAAA,EAC7D,MAAAiB,GAAiB,aAAa,QAAOb,CAAW,CAAA,QAChDQ,EAAuB,EAEzB5D,GACHY,EAAW,EAAA,EAEXkB,GAAM,MAAMJ,EAAK,EAAC,EAAE,2BAA2B,CAAA,GAIjDD,GAAoB,SAAA,WACfyC,IAAAhC,EAAAC,EAAO,IAAP,YAAAD,EAAS,WAAT,MAAAgC,GAAmB,6BACtBZ,IAGK,MAAA,QAAQ,IAAG,EACH,SAAA,CACZC,EAAAP,EAAoB,MAAAmB,GAAe,aAAa,KAAK,CAAA,IACrD,GAEY,SAAA,CACZZ,EAAAN,EAAmB,MAAAmB,GAAc,aAAa,KAAK,CAAA,IACnD,GACY,SAAA,CACZb,EAAAF,EAAoB,MAAAgB,GAAc,aAAa,KAAK,CAAA,IACpD,GACY,SAAA,CACZd,EAAAL,EAAe,MAAAoB,GAAU,aAAa,KAAK,CAAA,IAC3C,IAGI,MAAAC,GAAmB,MAAAC,GAAc,aAAa,KAAK,IACzDpB,EAAcmB,GAAW,WAAW,EACpC,sNA0ByBE,uDACfhB,EAAa,EAAA,CAAA,0KAnHpBV,CAAO,EAAAd,EAAA,IAAAyB,EAwH6DX,CAAO,EAAC,MAAM,GAAA,EAAA,EAAA,oBAzHlFD,EAAe,QACfC,CAAO,EA2HAd,EAAA,IAAAyB,EAAAZ,EAAe,IAAK,KAClBpB,EAAK,EAAC,EAAE,yBAAyB,EACjCgC,EAAAZ,EAAA,EACM,KAAAY,EAAAX,CAAO,EAAC,MAAM,IAAIrB,IAAM,EAAE,YAAY,CAAA,IAC3CA,EAAK,EAAC,EAAE,UAAU,CAAA,kCATnB,WAAA,OAAAwC,IAAAhC,GAAAC,MAAA,YAAAD,GAAS,WAAT,YAAAgC,GAAmB,4BAA2B,gKAiClDxC,EAAK,EAAC,EAAE,mBAAmB,CAAA,KAJZC,GAAA,QAAAe,GAAA,IAAA,CACfY,IACA,gCANE,WAAA,OAAAY,IAAAhC,GAAAC,MAAA,YAAAD,GAAS,WAAT,YAAAgC,GAAmB,4BAA2B,obA1KlDQ,EAAS,MAkQCzC,EAAA,IAAAyC,WAAAA,OAAAA,GAAU,UAASR,IAAAhC,GAAAC,EAAO,IAAP,YAAAD,GAAS,mBAAT,YAAAgC,GAA2B,IAAI,EAAA,wCAFtD,WAAA,OAAAA,IAAAhC,GAAAC,MAAA,YAAAD,GAAS,mBAAT,YAAAgC,GAA2B,KAAI,qCAZhC,WAAA,OAAAA,IAAAhC,GAAAC,MAAA,YAAAD,GAAS,mBAAT,YAAAgC,GAA2B,KAAI;qCAK/B,WAAA,OAAAA,IAAAhC,GAAAC,MAAA,YAAAD,GAAS,mBAAT,YAAAgC,GAA2B,kBAAiB,gBAI5CjC,EAAA,IAAA,WAAA,QAAAiC,IAAAhC,GAAAC,EAAO,IAAP,YAAAD,GAAS,mBAAT,YAAAgC,GAA2B,QAAS,YAAW,gHAehDxC,EAAK,EAAC,EACN,qHAAoH,CAAA,yBAhCnHS,EAAA,EAAAF,EAAA,IAAA,QAAA,OAAAC,GAAAC,MAAA,YAAAD,GAAS,iBAAgB,EAAAyC,GAAAC,EAAA,EAAAD,GAAAE,GAAA,EAAA,iJA0DlB7B,CAAW,iSAeXA,CAAW,wDAGR,gBACR8B,GAAAC,GAAA,EAAA,IAAArB,EAAAR,CAAM,SAAI8B,KAAK,wDAALA,EAAK,EAAA/C,EAAA,IAAAyB,EACKsB,EAAK,EAAC,IAAI,gBADpBA,EAAK,EAAA/C,EAAA,IAAAyB,EACNsB,EAAK,EAAC,EAAE,8BADPA,EAAK,EAAA/C,EAAA,IAAAyB,EACNsB,EAAK,EAAC,EAAE,KAAA,6GASN,OAAAtB,EAAAV,CAAW,EAAC,+BAAZA,EAAWU,EAAXV,CAAW,EAAC,cAAaiC,EAAA,iGAQzB,OAAAvB,EAAAV,CAAW,EAAC,oCAAZA,EAAWU,EAAXV,CAAW,EAAC,mBAAkBiC,EAAA,gNAMDvD,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBAO9DA,EAAK,EAAC,EAAE,qCAAqC,CAAA,KAC9CwD,EAAA9C,GAAA,IAAAsB,EAAAV,CAAW,EAAC,YAAWiC,IAAAE,EAAvBnC,EAAAU,EAAAV,CAAW,EAAC,YAAWiC,EAAA,CAAA,wBA1TvCjC,CAAW,EA+SNf,EAAA,IAAAyB,EAAAV,CAAW,EAAC,kBAAkB,4FAsBpBtB,EAAK,EAAC,EAClB,2EAA0E,CAAA,sDAE/D,OAAAgC,EAAAV,CAAW,EAAC,4CAAZA,EAAWU,EAAXV,CAAW,EAAC,2BAA0BiC,EAAA,yGASrCvD,EAAK,EAAC,EAClB,2EAA0E,CAAA,uDAE/D,OAAAgC,EAAAV,CAAW,EAAC,8CAAZA,EAAWU,EAAXV,CAAW,EAAC,6BAA4BiC,EAAA,6FAOjC,OAAAvB,EAAAV,CAAW,EAAC,iCAAZA,EAAWU,EAAXV,CAAW,EAAC,gBAAeiC,EAAA,kIAS1B,OAAAvB,EAAAV,CAAW,EAAC,uDAAZA,EAAWU,EAAXV,CAAW,EAAC,sCAAqCiC,EAAA,mRAMlEvD,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAiB1BA,EAAK,EAAC,EAAE,mEAAmE,CAAA,KAVjEwD,EAAAE,GAAA,IAAA1B,EAAAV,CAAW,EAAC,2BAA0BiC,IAAAE,EAAtCnC,EAAAU,EAAAV,CAAW,EAAC,2BAA0BiC,EAAA,CAAA,wBAjXtDjC,CAAW,EAuWLf,EAAA,IAAAyB,QAAAA,OAAAA,GAAAA,EAAAV,CAAW,IAAXU,YAAAA,GAAa,sCAAqC,2CANpDhC,EAAK,EAAC,EAAE,+BAA+B,CAAA,2BAjW3CsB,CAAW,EA8VNf,EAAA,IAAAyB,QAAAA,OAAAA,GAAAA,EAAAV,CAAW,IAAXU,YAAAA,GAAa,gBAAe,4YA+DAhC,EAAK,EAAC,EAAE,SAAS,CAAA,kBAMzCA,EAAK,EAAC,EAAE,wCAAwC,CAAA,2BAnazDsB,CAAW,UAuZLA,CAAW,EAAC,iBAAmB,IAAI,gIA2BjBI,CAAW,mBAAXA,EAAW6B,EAAA,wTAsCnBvD,EAAK,EAAC,EAAE,yCAAyC,CAAA,kKAM5CA,EAAK,EAAC,EAAE,mBAAmB,CAAA,KAC5BwD,EAAAG,GAAA,IAAA3B,EAAAL,CAAW,EAAC,KAAI4B,IAAAE,EAAhB9B,EAAAK,EAAAL,CAAW,EAAC,KAAI4B,EAAA,CAAA,0IAWpBvD,EAAK,EAAC,EAAE,qDAAqD,CAAA,+IAMxDA,EAAK,EAAC,EAAE,sBAAsB,CAAA,KAC/BwD,EAAAI,GAAA,IAAA5B,EAAAL,CAAW,EAAC,OAAM4B,IAAAE,EAAlB9B,EAAAK,EAAAL,CAAW,EAAC,OAAM4B,EAAA,CAAA,2HASlBvD,EAAK,EAAC,EAAE,+BAA+B,CAAA,uDACxC,OAAAgC,EAAAL,CAAW,EAAC,iCAAZA,EAAWK,EAAXL,CAAW,EAAC,gBAAe4B,EAAA,wHAU9BvD,EAAK,EAAC,EACd,qEAAoE,CAAA,+IAOvDA,EAAK,EAAC,EAAE,eAAe,CAAA,EAAA,CAAA,EACxBwD,EAAAK,GAAA,IAAA7B,EAAAL,CAAW,EAAC,mBAAkB4B,IAAAE,EAA9B9B,EAAAK,EAAAL,CAAW,EAAC,mBAAkB4B,EAAA,CAAA,0IAWlCvD,EAAK,EAAC,EACd,yEAAwE,CAAA,+IAO3DA,EAAK,EAAC,EAClB,qDAAoD,CAAA,KAEzCwD,EAAAM,GAAA,IAAA9B,EAAAL,CAAW,EAAC,uBAAsB4B,IAAAE,EAAlC9B,EAAAK,EAAAL,CAAW,EAAC,uBAAsB4B,EAAA,CAAA,0IAWtCvD,EAAK,EAAC,EAAE,8BAA8B,CAAA,+IAMjCA,EAAK,EAAC,EAAE,qCAAqC,CAAA,KAC9CwD,EAAAO,GAAA,IAAA/B,EAAAL,CAAW,EAAC,YAAW4B,IAAAE,EAAvB9B,EAAAK,EAAAL,CAAW,EAAC,YAAW4B,EAAA,CAAA,iRA+BhB,OAAAvB,EAAAL,CAAW,EAAC,yBAAZA,EAAWK,EAAXL,CAAW,EAAC,QAAO4B,EAAA,wOAoBlB,OAAAvB,EAAAL,CAAW,EAAC,+BAAZA,EAAWK,EAAXL,CAAW,EAAC,cAAa4B,EAAA,wHAQ3BvD,EAAK,EAAC,EAAE,gBAAgB,CAAA,EAAA,6IAG3BA,EAAK,EAAC,EAAE,cAAc,CAAA,EAAA,CAAA,EACvBwD,EAAAQ,GAAA,IAAAhC,EAAAL,CAAW,EAAC,QAAO4B,IAAAE,EAAnB9B,EAAAK,EAAAL,CAAW,EAAC,QAAO4B,EAAA,CAAA,0IAzB/BvD,EAAK,EAAC,EAAE,kBAAkB,CAAA,kBAIdA,EAAK,EAAC,EAAE,wBAAwB,CAAA,kBAMpBA,EAAK,EAAC,EAAE,sBAAsB,CAAA,kBAStDA,EAAK,EAAC,EAAE,SAAS,CAAA,KAdNwD,EAAAS,GAAA,IAAAjC,EAAAL,CAAW,EAAC,iBAAgB4B,IAAAE,EAA5B9B,EAAAK,EAAAL,CAAW,EAAC,iBAAgB4B,EAAA,CAAA,wBA3lBjD5B,CAAW,EAklBDpB,EAAA,IAAAyB,EAAAL,CAAW,EAAC,OAAO,iQA7JrB3B,EAAK,EAAC,EAAE,OAAO,CAAA,kBAKHA,EAAK,EAAC,EAAE,oBAAoB,CAAA,kBASxCA,EAAK,EAAC,EAAE,MAAM,CAAA,kBAKFA,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAMvCA,EAAK,EAAC,EAAE,MAAM,CAAA,kBAmBdA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAgBxBA,EAAK,EAAC,EAAE,yBAAyB,CAAA,kBAWjCA,EAAK,EAAC,EAAE,oBAAoB,CAAA,kBAoB5BA,EAAK,EAAC,EAAE,wBAAwB,CAAA,kBAsBhCA,EAAK,EAAC,EAAE,aAAa,CAAA,kBAkBrBA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAIZA,EAAK,EAAC,EAAE,iDAAiD,CAAA,kBAWtEA,EAAK,EAAC,EAAE,+BAA+B,CAAA,kBAKZA,EAAK,EAAC,EAAE,KAAK,CAAA,KAjJ5BwD,EAAAU,GAAA,IAAAlC,EAAAL,CAAW,EAAC,MAAK4B,IAAAE,EAAjB9B,EAAAK,EAAAL,CAAW,EAAC,MAAK4B,EAAA,CAAA,EAcjBC,EAAAW,GAAA,IAAAnC,EAAAL,CAAW,EAAC,KAAI4B,IAAAE,EAAhB9B,EAAAK,EAAAL,CAAW,EAAC,KAAI4B,EAAA,CAAA,EAoHhBC,EAAAY,GAAA,IAAApC,EAAAL,CAAW,EAAC,eAAc4B,IAAAE,EAA1B9B,EAAAK,EAAAL,CAAW,EAAC,eAAc4B,EAAA,CAAA,wBA7ItC7B,CAAW,GAAAuB,GAAAoB,CAAA,4IAuNG,OAAArC,EAAAV,CAAW,EAAC,0CAAZA,EAAWU,EAAXV,CAAW,EAAC,yBAAwBiC,EAAA,mGAMpC,OAAAvB,EAAAV,CAAW,EAAC,uCAAZA,EAAWU,EAAXV,CAAW,EAAC,sBAAqBiC,EAAA,mGAQjC,OAAAvB,EAAAV,CAAW,EAAC,gCAAZA,EAAWU,EAAXV,CAAW,EAAC,eAAciC,EAAA,6PAO1CvD,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBASnBA,EAAK,EAAC,EAAE,2BAA2B,CAAA,kBAMhDA,EAAK,EAAC,EAAE,6CAA6C,CAAA,KALzCwD,EAAAc,GAAA,IAAAtC,EAAAV,CAAW,EAAC,sBAAqBiC,IAAAE,EAAjCnC,EAAAU,EAAAV,CAAW,EAAC,sBAAqBiC,EAAA,CAAA,wBA5qBjDjC,CAAW,EA8pBNf,EAAA,IAAAyB,EAAAV,CAAW,EAAC,cAAc,qFA6BV,OAAAU,EAAAV,CAAW,EAAC,8BAAZA,EAAWU,EAAXV,CAAW,EAAC,aAAYiC,EAAA,gGAQxB,OAAAvB,EAAAV,CAAW,EAAC,iCAAZA,EAAWU,EAAXV,CAAW,EAAC,gBAAeiC,EAAA,gGAQ3B,OAAAvB,EAAAV,CAAW,EAAC,iCAAZA,EAAWU,EAAXV,CAAW,EAAC,gBAAeiC,EAAA,mGAQ3B,OAAAvB,EAAAV,CAAW,EAAC,sCAAZA,EAAWU,EAAXV,CAAW,EAAC,qBAAoBiC,EAAA,mGAQhC,OAAAvB,EAAAV,CAAW,EAAC,oCAAZA,EAAWU,EAAXV,CAAW,EAAC,mBAAkBiC,EAAA,yGAQpCvD,EAAK,EAAC,EAAE,2DAA2D,CAAA,uDACpE,OAAAgC,EAAAV,CAAW,EAAC,oCAAZA,EAAWU,EAAXV,CAAW,EAAC,mBAAkBiC,EAAA,66BApoBOvD,EAAK,EAAC,EAAE,SAAS,CAAA,kBAOhEA,EAAK,EAAC,EAAE,SAAS,CAAA,kBA+BXA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAsB7BA,EAAK,EAAC,EAAE,MAAM,CAAA,kBAGdA,EAAK,EAAC,EAAE,qEAAqE,CAAA,kBAS9EA,EAAK,EAAC,EAAE,eAAe,CAAA,kBAkCtBA,EAAK,EAAC,EAAE,SAAS,CAAA,kBAoD6BA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAK3BA,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAK3DA,EAAK,EAAC,EAAE,eAAe,CAAA,kBAEXA,EAAK,EAAC,EAAE,SAAS,CAAA,kBACpBA,EAAK,EAAC,EAAE,MAAM,CAAA,kBACbA,EAAK,EAAC,EAAE,OAAO,CAAA,kBAMOA,EAAK,EAAC,EAAE,eAAe,CAAA,kBAKvDA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAWQA,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBAO1EA,EAAK,EAAC,EAAE,+CAA+C,CAAA,kBAyBvDA,EAAK,EAAC,EAAE,4BAA4B,CAAA,kBAYpCA,EAAK,EAAC,EAAE,8BAA8B,CAAA,kBAWOA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBA2CxBA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAatEA,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAEzBA,EAAK,EAAC,EAAE,oDAAoD,CAAA,kBA4BlCA,EAAK,EAAC,EAAE,MAAM,CAAA,kBAqNMA,EAAK,EAAC,EAAE,UAAU,CAAA,kBAMlEA,EAAK,EAAC,EAAE,0BAA0B,CAAA,kBAOWA,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBAO5EA,EAAK,EAAC,EAAE,SAAS,CAAA,kBAgCjBA,EAAK,EAAC,EAAE,OAAO,CAAA,kBAAKA,EAAK,EAAC,EAAE,MAAM,CAAA,kBAQlCA,EAAK,EAAC,EAAE,UAAU,CAAA,kBAAKA,EAAK,EAAC,EAAE,MAAM,CAAA,kBAQrCA,EAAK,EAAC,EAAE,UAAU,CAAA,kBAAKA,EAAK,EAAC,EAAE,MAAM,CAAA,kBAQrCA,EAAK,EAAC,EAAE,eAAe,CAAA,kBAQvBA,EAAK,EAAC,EAAE,aAAa,CAAA,kBAQrBA,EAAK,EAAC,EAAE,oBAAoB,CAAA,kBAUkBA,EAAK,EAAC,EAAE,WAAW,CAAA,kBAajEA,EAAK,EAAC,EACN,mGAAkG,CAAA,kBAOpDA,EAAK,EAAC,EAAE,aAAa,CAAA,KA7nBlDC,GAAA,QAAAc,GAAA,IAAA,CACfwD,GAAc,IAAI,EAAI,EACtB,EAmIUC,GAAAC,GAAA,IAAAzC,EAAAV,CAAW,EAAC,kBAAiBiC,IAAAE,EAA7BnC,EAAAU,EAAAV,CAAW,EAAC,kBAAiBiC,EAAA,CAAA,EAe7BiB,GAAAE,GAAA,IAAA1C,EAAAV,CAAW,EAAC,iBAAgBiC,IAAAE,EAA5BnC,EAAAU,EAAAV,CAAW,EAAC,iBAAgBiC,EAAA,CAAA,EAsH5BC,EAAAmB,EAAA,IAAA3C,EAAAV,CAAW,EAAC,eAAciC,IAAAE,EAA1BnC,EAAAU,EAAAV,CAAW,EAAC,eAAciC,EAAA,CAAA,EAsW1BC,EAAAoB,GAAA,IAAA5C,EAAAV,CAAW,EAAC,UAASiC,IAAAE,EAArBnC,EAAAU,EAAAV,CAAW,EAAC,UAASiC,EAAA,CAAA,EAqBrBC,EAAAqB,GAAA,IAAA7C,EAAAT,CAAU,QAAVA,EAAUgC,EAAA,CAAA,qBA1qBvBvB,EAAAV,CAAW,IAAK,MAAI2B,GAAA6B,EAAA,uFAwrBvB9E,IAAM,EAAE,MAAM,CAAA,EAAA,CAAA,EA7rBqBC,GAAA,SAAAiB,GAAAC,GAAA,SAAA,CACrCiB,GACA,CAAA,CAAA,oBANF;;;;;;;;;;;;;;;;;;ilKCrHA,2GAuBOpD,EAA2BC,GAAW,MAAM,MAEvCC,GAAqBC,GAAAC,GAAA,cAAA,CAAA,EAE5B2F,IAAc,EAAK,EACnBC,IAAY,EAAK,EAEjBC,EAAaxD,IAEbyD,IAAiB,IAAI,EACrBC,IAA0B,EAAE,EAE5BC,IAAY,IAAI,EAEhBC,IAAS,IAAI,EACbC,IAAc,IAAI,EAClBC,IAAsB,IAAI,EAE1BC,KAAsB,EAAE,EAEtB,MAAApD,GAA4B,SAAA,sBAC3BqD,GAAQzD,EAAGoD,CAAS,EAAApD,EAACuD,CAAmB,CAAA,EAE1C,GAAAE,MAAaA,IAAA,YAAAA,GAAU,SAAU,IAAQ,CACjC,UAAAC,KAAY1D,EAAAsD,CAAW,EAAC,kBAC9BA,CAAW,EAAC,WAAWI,CAAQ,mBAAG,QAAS,WAC9CL,EAAMrD,EAANqD,CAAM,EAACK,CAAQ,KAAKL,CAAM,EAACK,CAAQ,GAAK,IAAI,MAAM,GAAG,EAAE,IAAKC,GAAMA,EAAE,KAAI,CAAA,CAAA,QAIxDC,GACjB,aAAa,MACbH,GAAS,KACTJ,CAAM,EAAArD,EACNmD,IACC,MAAO9G,GAAU,CAClB+B,GAAM,MAAK,GAAI/B,CAAK,EAAA,EACpB,IAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,6BAA6B,CAAA,EACnD6F,KACAC,GAAO,IAAG,MACHC,GACL,aAAa,QACbC,IAAAxD,EAAA/B,EAAO,IAAP,YAAA+B,EAAS,WAAT,YAAAwD,GAAmB,+BAA8BC,GAAAC,EAAW,IAAX,YAAAD,GAAW,oBAAqB,KAAI,CAAA,EAGvF/G,GAAW,EAAA,EAEb,MACCkB,GAAM,MAAMJ,EAAK,EAAC,EAAE,qBAAqB,CAAA,GAIrCmG,GAAS,MAAUC,IAAQ,QAChCvE,EAAAwD,EAAS,IAAI,EACbxD,EAAAyD,EAAc,IAAI,EAElBzD,EAAAyD,EAAoB,MAAAe,GACnB,aAAa,MACbrE,EAAAoD,CAAS,EAACgB,EAAG,EAAE,GACfpE,EAAAmD,CAAA,CAAA,CAAA,EAEDtD,EAAAwD,EAAe,MAAAiB,GACd,aAAa,MACbtE,EAAAoD,CAAS,EAACgB,EAAG,EAAE,GACfpE,EAAAmD,CAAA,CAAA,CAAA,EAGU,UAAAO,KAAY1D,EAAAsD,CAAW,EAAC,kBAC9BA,CAAW,EAAC,WAAWI,CAAQ,mBAAG,QAAS,WAC9CL,EAAMrD,EAANqD,CAAM,EAACK,CAAQ,EAAA1D,EAAIqD,CAAM,EAACK,CAAQ,EAAE,KAAK,GAAG,CAAA,GAKzCG,GAA2B,SAAA,CAChChE,EAAAuD,EAAY,IAAI,EAChBvD,EAAAwD,EAAS,IAAI,EACbxD,EAAAyD,EAAc,IAAI,EAEdtD,EAAAkD,CAAc,EAAC,OAAS,GACdlD,EAACmD,CAAuB,EACrCtD,EAAAuD,QAAkBmB,GAAa,aAAa,QAAOpB,CAAuB,CAAA,CAAA,EAEtEnD,EAAAoD,CAAS,EAAC,OAAS,IACtBvD,EAAA0D,EAAsB,CAAC,EACjB,MAAAY,KAAUZ,CAAmB,CAAA,MAGpCH,EAAS,CAAA,CAAA,GAILoB,EAAiC,SAAA,aACtC3E,EAAAkD,EAAc,EAAI,EACA,MAAA0B,GACjB,aAAa,MACbzE,EAAAwD,EAAmB,EACnBxD,EAAAmD,CAAA,CAAA,EACC,MAAO9G,KACR+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,IAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,kCAAkC,CAAA,EACxD6F,KACAC,GAAO,IAAG,MACHC,GACL,aAAa,QACbvD,GAAAhC,GAAAC,EAAO,IAAP,YAAAD,GAAS,WAAT,YAAAgC,EAAmB,+BAA8BwD,GAAAE,EAAW,IAAX,YAAAF,GAAW,oBAAqB,KAAI,CAAA,GAKxFnE,EAAAkD,EAAc,EAAK,GAGd2B,EAAoC,SAAA,aAGrC,GAFJ7E,EAAAmD,EAAY,EAAI,EAEZhD,EAAAiD,CAAa,KAAIA,CAAa,EAAC,SAAW,EAAG,OAC1CrE,GAAIoB,EAAGiD,CAAa,EAAC,CAAC,EAIV,MAAA0B,GAAe,aAAa,MAAO/F,GAAIoB,EAAEmD,CAAuB,CAAA,EAAE,MAClF9G,IAEA+B,GAAM,MAAMJ,EAAK,EAAC,EAAE,yBAAyB,CAAA,EACtC,KACR,IAIAI,GAAM,QAAQJ,EAAK,EAAC,EAAE,kCAAkC,CAAA,EACxD6F,KACAC,GAAO,IAAG,MACHC,GACL,aAAa,QACbvD,GAAAhC,GAAAC,EAAO,IAAP,YAAAD,GAAS,WAAT,YAAAgC,EAAmB,+BAA8BwD,GAAAE,EAAW,IAAX,YAAAF,GAAW,oBAAqB,KAAI,CAAA,EAIzF,MACC5F,GAAM,MAAMJ,EAAK,EAAC,EAAE,kBAAkB,CAAA,EAGvC6B,EAAAoD,EAAgB,IAAI,EACd,MAAA2B,GAA6B,SAAS,eAAe,wBAAwB,EAE/EA,KACHA,GAA2B,MAAQ,MAGpC/E,EAAAmD,EAAY,EAAK,GAGZ6B,EAAoC,SAAA,mBACvBC,GACjB,aAAa,MACb9E,EAAAoD,CAAS,EAACpD,EAAAuD,CAAmB,GAAE,GAAEvD,EACjCmD,IACC,MAAO9G,KACR+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,IAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,+BAA+B,CAAA,EACrD6F,KACAC,GAAO,IAAG,MACHC,GACL,aAAa,QACbvD,GAAAhC,GAAAC,EAAO,IAAP,YAAAD,GAAS,WAAT,YAAAgC,EAAmB,+BAA8BwD,GAAAE,EAAW,IAAX,YAAAF,GAAW,oBAAqB,KAAI,CAAA,IAMzFjG,GAAoB,SAAA,CACnB8B,EAAAqD,EAAuB,MAAA6B,GAAiB,aAAa,KAAK,CAAA,EAC/C/E,EAACkD,CAAc,EAEtBlD,EAAAkD,CAAc,EAAC,OAAS,GAC3BrD,EAAAsD,IAA0BD,CAAc,EAAC,CAAC,EAAE,IAAO,SAAQ,CAAA,QAGtDW,GAAY,EAClB,qLAuBkBV,CAAuB,0FAW5B/B,GAAA4D,GAAA,EAAA,IAAAhF,EAAAkD,CAAc,SAAIE,EAASgB,GAAAa,KAAA,wDAAT7B,CAAS,EAAA7E,EAAA,IAAAyB,EAE9BoD,CAAS,EAAC,GAAG,0DAFQA,CAAS,UAClBA,CAAS,EAAC,IAAI,SAAQ,CAAA,8KA3NzCH,CAAa,UA0PRA,CAAa,EAAC,OAAS,OAAOA,CAAa,EAAC,MAAM,GAAK,EAAE,0FAEzDjF,EAAK,EAAC,EAAE,iCAAiC,CAAA,0BAHtCiF,CAAa,EAAAhC,GAAAiE,EAAA,EAAAjE,GAAAE,GAAA,EAAA,iHAed6B,CAAS,EAAA/B,GAAAkE,EAAA,EAAAlE,GAAAmE,GAAA,EAAA,8MAqETrC,CAAW,EAAA9B,GAAAoE,EAAA,EAAApE,GAAAqE,GAAA,EAAA,ySAwEA/B,CAAmB,uBAOxBnC,GAAAsB,EAAA,EAAA,IAAA1C,EAAAoD,CAAS,SAAIK,GAAQW,IAAA,0CACZA,iBADIX,EAAQ,EAAAlF,EAAA,IAAAyB,EAExByD,EAAQ,EAAC,IAAI,GAAA,EAAA,OAFGA,EAAQ,UAEPA,EAAQ,EAAC,MAAQ,MAAM,+FAR/BzF,EAAK,EAAC,EAAE,mBAAmB,CAAA,KAD5BwE,GAAAE,EAAA,IAAA1C,EAAAuD,CAAmB,QAAnBA,EAAmBhC,EAAA,CAAA,EAERtD,GAAA,SAAAyE,EAAA,SAAA,OAChB6C,GAAI,EACJ,MAAApB,KAAUZ,CAAmB,CAAA,EACnC,EAYctF,GAAA,QAAAI,GAAA,IAAA,CACfwG,IACA,wBAnaNzB,CAAS,UA2YFA,CAAS,EAAC,OAAS,CAAC,gHAxY3BE,CAAW,EAsbC/E,EAAA,IAAA,OAAO,KAAKyB,EAAAsD,CAAW,EAAC,UAAU,CAAA,SAAKI,IAAQ,4IAehB1F,IAAM,EAAE,MAAM,CAAA,EAAA,CAAA,gFAEdA,IAAM,EAAE,QAAQ,CAAA,EAAA,CAAA,wBAxc3DqF,CAAM,IAub6CK,CAAQ,EAc5CnF,EAAA,KAAAyB,EAAAqD,CAAM,EAACrD,EAAA0D,CAAQ,CAAK,GAAA,QAAU,IAAI,2HAezBL,CAAM,uCAnd9BC,CAAW,IAsbwCI,CAAQ,EA+BxCnF,EAAA,IAAAyB,EAAAsD,CAAW,EAAC,WAAWtD,EAAA0D,CAAQ,GAAE,IAAI,SAAI8B,KAAM,yDAANA,EAAM,IAtdlEnC,CAAM,IAub6CK,CAAQ,UAgCb8B,EAAM,IAAAxF,EAAKqD,CAAM,EAAArD,EAAC0D,CAAQ,CAAA,CAAA,WACzD8B,EAAM,CAAA,aADOA,EAAM,4BAANA,EAAM,IAAA,sBAHVhD,GAAAiD,GAAA,IAAAzF,EAAAqD,CAAM,IAACK,CAAQ,CAAA,EAAAnC,GAAAE,EAAf4B,EAAArD,EAAAqD,CAAM,IAACK,CAAQ,CAAA,EAAAnC,CAAA,CAAA,uIAeN,OAAAvB,EAAAqD,CAAM,IAACK,CAAQ,CAAA,mBAAfL,EAAMrD,EAANqD,CAAM,EAAArD,EAAC0D,CAAQ,CAAA,EAAAnC,EAAA,oDAnehD8B,CAAM,IAub6CK,CAAQ,MAwC7CnF,EAAA,IAAAyB,EAAAqD,CAAM,EAACrD,EAAA0D,CAAQ,CAAI,EAAA1F,EAAK,EAAC,EAAE,SAAS,EAAIA,EAAK,EAAC,EAAE,UAAU,CAAA,qEA9dxEsF,CAAW,IAsbwCI,CAAQ,EAmDlCnF,EAAA,IAAAyB,EAAAsD,CAAW,EAAC,WAAWtD,EAAA0D,CAAQ,GAAE,KAAK,KACvClC,EAAAmB,GAAA,IAAA3C,EAAAqD,CAAM,IAACK,CAAQ,CAAA,EAAAnC,IAAAE,EAAf4B,EAAArD,EAAAqD,CAAM,IAACK,CAAQ,CAAA,EAAAnC,EAAA,CAAA,uBA1evC+B,CAAW,IAsbwCI,CAAQ,8BAqCtCJ,CAAW,EAAC,WAAWtD,EAAA0D,CAAQ,oBAAG,OAAQ,QAAU,UAAS,8CA3dlFJ,CAAW,IAsbwCI,CAAQ,EA0B5CnF,EAAA,IAAA,QAAAyB,QAAAA,GAAAA,EAAAsD,CAAW,EAAC,WAAUtD,EAAC0D,CAAQ,CAAG,IAAlC1D,YAAAA,GAAkC,OAAQ,KAAI,uDAjd7DqD,CAAM,IAub6CK,CAAQ,EAsB9CnF,EAAA,KAAAyB,EAAAqD,CAAM,EAACrD,EAAA0D,CAAQ,CAAK,GAAA,QAAU,IAAI,+BA5c/CJ,CAAW,IAsbwCI,CAAQ,EAIjDnF,EAAA,IAAAyB,EAAAsD,CAAW,EAAC,WAAWtD,EAAA0D,CAAQ,GAAE,KAAK,KAMvBzF,GAAA,QAAAK,EAAA,IAAA,CACfmD,EAAA4B,EAAArD,EAAAqD,CAAM,EAACrD,EAAA0D,CAAQ,MAAKL,CAAM,EAAArD,EAAC0D,CAAQ,CAAA,GAAK,QAAU,KAAO,GAAK,IAAI,EAClE,sEAbDL,CAAM,EAAApC,GAAAyE,CAAA,EAAAzE,GAAA0E,GAAA,EAAA,+EAmEL3H,IAAM,EAAE,WAAW,CAAA,EAAA,CAAA,uBA3f7BoF,CAAS,IAITG,CAAmB,UAmbXH,CAAS,EAAApD,EAACuD,CAAmB,CAAA,EAAE,MAAM,+DAhDzCvF,EAAK,EAAC,EAAE,kBAAkB,CAAA,sHAyHvBA,EAAK,EAAC,EAAE,wBAAwB,CAAA,2BAhgBvCoF,CAAS,UA+fCA,CAAS,EAAC,SAAW,CAAC,qCA/fhCA,CAAS,UAoYJA,CAAS,EAAC,OAAS,CAAC,4HADrBpD,EAAAoD,CAAS,IAAK,KAAInC,GAAA2E,EAAA,EAAA3E,GAAA4E,GAAA,EAAA,uFAnIV7C,CAAS,gDAqETD,CAAW,yDA1HP/E,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBAOzCA,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBAenCA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBAqFzBA,EAAK,EAAC,EAAE,yBAAyB,CAAA,kBAMnBA,EAAK,EAAC,EAAE,sBAAsB,CAAA,kBA6DEA,EAAK,EAAC,EAAE,UAAU,CAAA,kBAChEA,EAAK,EAAC,EAAE,+DAA+D,CAAA,kBAErEA,EAAK,EAAC,EAAE,4DAA4D,CAAA,KAlLzDwE,GAAAC,GAAA,IAAAzC,EAAAmD,CAAuB,QAAvBA,EAAuB5B,EAAA,CAAA,EAEZtD,GAAA,SAAAwE,GAAA,SAAA,OAChB8C,GAAI,QACJ1B,GAAY,EAClB,EAwBWiC,GAAApH,GAAA,IAAAsB,EAAAiD,CAAa,QAAbA,EAAa1B,EAAA,CAAA,EASTtD,GAAA,QAAAc,GAAA,IAAA,SACfP,GAAA,SAAS,eAAe,wBAAwB,IAAhD,MAAAA,GAAmD,QACnD,EAWcP,GAAA,QAAAe,GAAA,IAAA,CACf0F,IACA,EA8DYlD,EAAAE,GAAA,IAAA1B,EAAAwD,EAAmB,QAAnBA,GAAmBjC,EAAA,CAAA,EAKhBtD,GAAA,QAAAC,GAAA,IAAA,CACfsG,IACA,gFAsMExG,EAAK,EAAC,EAAE,wBAAwB,CAAA,2BA7gBrCkF,CAAc,UAuMXA,CAAc,EAAC,OAAS,CAAC,kDAJ3BlF,EAAK,EAAC,EAAE,kBAAkB,CAAA,6GAHzBgC,EAAAkD,CAAc,IAAK,KAAIjC,GAAA8E,CAAA,EAAA9E,GAAA+E,EAAA,EAAA,4GA8VzBhI,IAAM,EAAE,MAAM,CAAA,EAAA,CAAA,uBA9hBdkF,CAAc,EAwhBb3E,EAAA,IAAAyB,EAAAkD,CAAc,IAAK,MAAIlD,EAAIkD,CAAc,EAAC,OAAS,CAAC,kBA7VnBjF,GAAA,SAAAiB,GAAAC,GAAA,SAAA,CACrCiB,IACA,CAAA,CAAA,oBANF,6/VCvNA,4GAGO6F,EAAWC,KAoBXlJ,GAAOC,GAA+B,MAAM,MAEvCC,EAAuBC,GAAAC,GAAA,cAAA,CAAA,EAG9B+I,IAA0B,EAAE,EAC5BC,IAAqB,EAAE,EACvBC,IAAc,EAAE,EAChBC,IAAa,EAAE,EACfC,IAAY,EAAE,EACdC,IAAY,EAAE,EACdC,IAAoB,EAAE,EACtBC,EAAgCjH,EAAGkH,GAAmB,WAAW,EACjEC,KAA0B,EAAE,EAC5BC,KAA4B,EAAE,EAC9BC,KAAiC,EAAE,EAEnCC,KAA0B,EAAE,EAC5BC,IAAqB,EAAE,EACvBC,IAAa,EAAE,EACfC,IAAY,EAAE,EACdC,KAA8B,EAAE,EAChCC,IAAoB,EAAE,EACtBC,KAAoB,EAAE,EACtBC,IAAmB,EAAE,EACrBC,IAAoB,EAAE,EACtBC,IAAqB,EAAE,EACvBC,KAAyB,EAAE,EAC3BC,KAAuB,EAAE,EACzBC,KAAsB,EAAE,EACxBC,IAA2B,EAAE,EAC7BC,KAAmC,EAAK,EAExCC,KAA4B,EAAK,EAGjCC,GAA8BtI,EAAA,CAAA,CAAA,EAC9BqE,EAAwDrE,EAAA,CAAA,CAAA,EAEtD,MAAAsE,EAAwB,SAAA,gBACzBuC,CAAU,IAAK,KAClBxC,EAAM,CAAA,CAAA,MACA,OACAxH,GAAG,MAAS0L,GACjB,aAAa,QACbxH,GAAAhC,EAAAC,EAAO,IAAP,YAAAD,EAAS,WAAT,YAAAgC,EAAmB,+BAA8BwD,EAAAE,EAAS,IAAT,YAAAF,EAAW,oBAAqB,KAChF,EAAA,MAAOrF,IAAM,CACdP,GAAM,MAAK,GAAIO,EAAC,EAAA,EAChB,EAEGrC,MAEHwH,EAASxH,GAAI,MAAM,CAErB,GAGK2L,GAAwB,SAAA,MACzB3B,CAAU,IAAK,GAAI,CAChB,MAAA4B,EAAgB,YAAkB,IAAA,GACvCH,GAAS,gBAAgB,UAAS,CAAA,EAG9B/H,EAAA+H,EAAM,EAAC,OAAS,IACnB,cAAcG,CAAa,EAC3BlI,EAAA+H,EAAM,EAAC,KAAI,CAAEI,EAAGC,IAAMD,EAAE,KAAK,cAAcC,EAAE,KAAMpK,EAAK,EAAC,gBAAgB,CAAA,EAE1E,EAAE,IACJ,KAAO,OACA1B,EAAG,MAAS+L,GAAW,aAAa,KAAK,EAAE,MAAO1J,GAAM,CAC7DP,GAAM,MAAK,GAAIO,CAAC,EAAA,EAChB,EAEGrC,MAEHyL,GAASzL,EAAI,MAAM,EACnB0D,EAAA+H,EAAM,EAAC,KAAI,CAAEI,EAAGC,IAAMD,EAAE,KAAK,cAAcC,EAAE,KAAMpK,EAAK,EAAC,gBAAgB,CAAA,EAE3E,GAGKsK,GAAkC,SAAA,KACnCC,EAAY,CAAA,EACZ,GAAA,CACHA,IAAe9B,CAAiB,EAAG,KAAK,QAAMA,CAAiB,CAAA,EAAA,KAC/DA,EAAoB,KAAK,UAAU8B,EAAc,KAAM,CAAC,CAAA,CACxD,MAAW,CACXnK,GAAM,MAAMJ,EAAK,EAAC,EAAE,oCAAoC,CAAA,QAEzD,CAEkB,MAAAwK,GAAkB,aAAa,MAAK,CACrD,IAAG,CACF,sBAAqBrC,CAAuB,EAC5C,iBAAgBC,CAAkB,EAClC,cAAemC,EACf,UAASlC,CAAW,EACpB,SAAQC,CAAU,EAClB,QAAOC,CAAS,EAChB,QAAOC,CAAS,EAChB,sBAAqBI,EAAuB,EAC5C,wBAAuBC,EAAyB,EAChD,6BAA4BC,EAA8B,EAC1D,SAAU9G,EAAA0G,CAAA,GAEX,IAAG,CACF,sBAAqBK,EAAuB,EAC5C,iBAAgBC,CAAkB,EAClC,SAAQC,CAAU,EAClB,QAAOC,CAAS,EAChB,wBAAyBlH,EAAAmH,EAA2B,EAAC,MAAM,GAAG,EAC9D,gBAAeC,CAAiB,EAChC,mBAAkBM,EAAoB,EACtC,gBAAeL,EAAiB,EAChC,eAAcC,CAAgB,EAC9B,gBAAeC,CAAiB,EAChC,iBAAgBC,CAAkB,EAClC,qBAAoBC,EAAsB,EAC1C,kBAAiBE,EAAmB,EACpC,uBAAsBC,CAAwB,EAC9C,6BAA8B5H,EAAA6H,EAAA,OAK/B3K,EAAW,EAAA,EACXR,GAAO,IAAG,MAAO+L,GAAgB,CAAA,IAI7BC,GAAoC,SAAA,CACzC7I,EAAAiI,GAA4B,EAAI,QAC1BQ,GAAmB,EACzBzI,EAAAiI,GAA4B,EAAK,GAGlC/J,GAAoB,SAAA,SACb,MAAAzB,EAAY,MAAAqM,GAAe,aAAa,KAAK,EAE/CrM,IAEHuD,EAAAsG,EAA0B7J,EAAI,IAAI,mBAAmB,EACrDuD,EAAAuG,EAAqB9J,EAAI,IAAI,cAAc,EAC3CuD,EAAA4G,EAAoB,KAAK,YAAUjI,EAAAlC,GAAA,YAAAA,EAAK,MAAL,YAAAkC,EAAU,gBAAiB,GAAI,KAAM,CAAC,CAAA,EACzEqB,EAAAwG,EAAc/J,EAAI,IAAI,OAAO,EAE7BuD,EAAAyG,EAAahK,EAAI,IAAI,MAAM,EAC3BuD,EAAA0G,EAAYjK,EAAI,IAAI,KAAK,EACzBuD,EAAA2G,EAAYlK,EAAI,IAAI,KAAK,IAEzBoK,EAAepK,EAAI,IAAI,UAAYqK,GAAmB,WAAW,EAEjE9G,EAAA+G,GAA0BtK,EAAI,IAAI,mBAAmB,EACrDuD,EAAAgH,GAA4BvK,EAAI,IAAI,qBAAqB,EACzDuD,EAAAiH,GAAiCxK,EAAI,IAAI,0BAA0B,EAEnEuD,EAAAkH,GAA0BzK,EAAI,IAAI,mBAAmB,EACrDuD,EAAAmH,EAAqB1K,EAAI,IAAI,cAAc,EAE3CuD,EAAAoH,EAAa3K,EAAI,IAAI,MAAM,EAC3BuD,EAAAqH,EAAY5K,EAAI,IAAI,KAAK,IACzB6K,MAA+B3G,EAAAlE,GAAA,YAAAA,EAAK,MAAL,YAAAkE,EAAU,0BAAuB,IAAQ,KAAK,GAAG,CAAA,EAChFX,EAAAuH,EAAoB9K,EAAI,IAAI,aAAa,EACzCuD,EAAAwH,GAAoB/K,EAAI,IAAI,aAAa,EACzCuD,EAAAyH,EAAmBhL,EAAI,IAAI,YAAY,EACvCuD,EAAA0H,EAAoBjL,EAAI,IAAI,aAAa,EACzCuD,EAAA2H,EAAqBlL,EAAI,IAAI,cAAc,EAC3CuD,EAAA4H,GAAyBnL,EAAI,IAAI,kBAAkB,EACnDuD,EAAA6H,GAAuBpL,EAAI,IAAI,gBAAgB,EAC/CuD,EAAA8H,GAAsBrL,EAAI,IAAI,eAAe,EAC7CuD,EAAA+H,EAA2BtL,EAAI,IAAI,oBAAoB,EACvDuD,EAAAgI,GAAmCvL,EAAI,IAAI,4BAA4B,SAGlE2L,GAAS,QACTlE,EAAS,EACf,kPAmB8C/F,EAAK,EAAC,EAAE,sBAAsB,CAAA,kBAMxDA,EAAK,EAAC,EAClB,+DAA8D,CAAA,KAFnDwD,EAAA9C,EAAA,IAAAsB,EAAAmH,EAA2B,OAA3BA,GAA2B5F,CAAA,CAAA,mBAPvCvB,EAAAiH,CAAU,IAAK,OAAKhG,EAAAiE,EAAA,+EAsBV+B,CAAU,gfAuBOjJ,EAAK,EAAC,EAAE,SAAS,CAAA,EAAA,6DAAegJ,CAAkB,mBAAlBA,EAAkBzF,EAAA,yQALjEvD,EAAK,EAAC,EAAE,cAAc,CAAA,kBAYKA,EAAK,EAAC,EAAE,WAAW,CAAA,kBAO7CA,EAAK,EAAC,EAAE,gBAAgB,CAAA,KAlB1BwD,EAAAE,GAAA,IAAA1B,EAAA+G,EAAuB,QAAvBA,GAAuBxF,EAAA,CAAA,EAiBtBC,EAAAmB,GAAA,IAAA3C,EAAAkH,CAAS,QAATA,EAAS3F,EAAA,CAAA,2GAaMvD,EAAK,EAAC,EAAE,SAAS,CAAA,EAAA,8DAAe0J,EAAoB,kBAApBA,GAAoBnG,CAAA,iRAOxCvD,EAAK,EAAC,EAAE,WAAW,CAAA,kBAM7CA,EAAK,EAAC,EAAE,2BAA2B,CAAA,kBAKjDA,EAAK,EAAC,EAAE,mDAAmD,CAAA,kBAM1DA,EAAK,EAAC,EAAE,qCAAqC,CAAA,KAZjCwD,EAAAU,GAAA,IAAAlC,EAAAkH,CAAS,QAATA,EAAS3F,EAAA,CAAA,sGAoBTvD,EAAK,EAAC,EAAE,SAAS,CAAA,EAAA,0EAClBqJ,EAAiB,mBAAjBA,GAAiB9F,EAAA,olBAQYvD,EAAK,EAAC,EAAE,cAAc,CAAA,kBAMhDA,EAAK,EAAC,EAAE,uCAAuC,CAAA,kBAOrBA,EAAK,EAAC,EAAE,kBAAkB,CAAA,kBAMpDA,EAAK,EAAC,EAAE,iDAAiD,CAAA,kBAO/BA,EAAK,EAAC,EAAE,cAAc,CAAA,kBAMhDA,EAAK,EAAC,EAAE,8CAA8C,CAAA,kBAO5BA,EAAK,EAAC,EAAE,cAAc,CAAA,kBAMhDA,EAAK,EAAC,EAAE,yCAAyC,CAAA,KAxClDwD,EAAAW,GAAA,IAAAnC,EAAAsH,CAAgB,QAAhBA,EAAgB/F,EAAA,CAAA,EAahBC,EAAAG,GAAA,IAAA3B,EAAAuH,CAAiB,QAAjBA,EAAiBhG,EAAA,CAAA,EAajBC,EAAAI,GAAA,IAAA5B,EAAAwH,CAAkB,QAAlBA,EAAkBjG,EAAA,CAAA,EAalBC,EAAAK,GAAA,IAAA7B,EAAAyH,EAAsB,QAAtBA,GAAsBlG,EAAA,CAAA,yIAiBRvD,EAAK,EAAC,EAAE,SAAS,CAAA,EAAA,8DAAe2J,EAAmB,mBAAnBA,GAAmBpG,EAAA,sbALlEvD,EAAK,EAAC,EAAE,cAAc,CAAA,kBAYKA,EAAK,EAAC,EAAE,WAAW,CAAA,kBAW3DA,EAAK,EAAC,EAAE,6DAA6D,CAAA,kBAMpEA,EAAK,EAAC,EAAE,yCAAyC,CAAA,kBASjBA,EAAK,EAAC,EAAE,0BAA0B,CAAA,kBAanEA,EAAK,EAAC,EACN,wGAAuG,CAAA,KAnD3FwD,EAAAM,GAAA,IAAA9B,EAAA4H,CAAwB,QAAxBA,EAAwBrG,EAAA,CAAA,EAgBvBC,EAAAO,GAAA,IAAA/B,EAAAkH,CAAS,QAATA,EAAS3F,EAAA,CAAA,EAyBPqH,GAAAxG,GAAA,IAAApC,EAAA6H,EAAgC,QAAhCA,GAAgCtG,EAAA,CAAA,oQAkC1CuG,EAAyB,EAAA7G,GAAA4H,EAAA,EAAA5H,GAAAE,GAAA,EAAA,+IAFpB2G,EAAyB,+CAhBK9J,EAAK,EAAC,EAAE,WAAW,CAAA,kBAM7CA,EAAK,EAAC,EAAE,mBAAmB,CAAA,YAmCzCO,EAAA,IAAAP,IAAM,EAAC,4CAAA,CAAA,YAONO,EAAA,IAAAP,IAAM,EAAC,6EAAA,CAAA,KAzCKwD,EAAAS,GAAA,IAAAjC,EAAAoH,CAAiB,QAAjBA,EAAiB7F,EAAA,CAAA,EAMdtD,GAAA,QAAAc,GAAA,IAAA,CACf2J,KACA,sBAjBK1I,EAAAiH,CAAU,IAAK,IAAEhG,GAAA6H,EAAA,2BA7DjB9I,EAAAiH,CAAU,IAAK,UAAShG,GAAA8H,EAAA,EAAA9H,GAAAmE,GAAA,EAAA,wBAhExBpF,EAAAiH,CAAU,IAAK,QAAOhG,EAAAC,EAAA,EAAAD,EAAAqE,GAAA,EAAA,uBA/BtBtF,EAAAiH,CAAU,IAAK,WAAUhG,EAAAoE,EAAA,EAAApE,EAAA+H,GAAA,EAAA,wBAjC9BhJ,EAAAiH,CAAU,IAAK,SAAQhG,EAAAkE,EAAA,EAAAlE,EAAAgI,GAAA,EAAA,+HAkQb3C,CAAU,sbAmCOtI,EAAK,EAAC,EAAE,SAAS,CAAA,EAAA,6DAAeoI,CAAkB,kBAAlBA,EAAkB7E,CAAA,sEALjEvD,EAAK,EAAC,EAAE,cAAc,CAAA,EAAA,CAAA,EACvBwD,EAAAQ,GAAA,IAAAhC,EAAAmG,CAAuB,OAAvBA,EAAuB5E,CAAA,CAAA,kGAUPvD,EAAK,EAAC,EAAE,SAAS,CAAA,EAAA,0EAAeqI,CAAW,kBAAXA,EAAW9E,CAAA,8HAM3CvD,EAAK,EAAC,EAAE,SAAS,CAAA,EAAA,0EAAeqI,CAAW,mBAAXA,EAAW9E,EAAA,mUAM9BvD,EAAK,EAAC,EAAE,cAAc,CAAA,kBAMhDA,EAAK,EAAC,EAAE,uCAAuC,CAAA,kBAOrBA,EAAK,EAAC,EAAE,cAAc,CAAA,kBAMhDA,EAAK,EAAC,EAAE,8CAA8C,CAAA,KAdvDwD,EAAAc,GAAA,IAAAtC,EAAA4G,EAAuB,QAAvBA,GAAuBrF,EAAA,CAAA,EAavBC,EAAAoB,GAAA,IAAA5C,EAAA6G,EAAyB,QAAzBA,GAAyBtF,EAAA,CAAA,oBA3BjCvB,EAAAsG,CAAU,IAAK,SAAOrF,GAAAoB,EAAA,uBANtBrC,EAAAsG,CAAU,IAAK,aAAYrF,EAAAyE,EAAA,EAAAzE,EAAAiI,GAAA,EAAA,wBAbhClJ,EAAAsG,CAAU,IAAK,SAAQrF,EAAAkI,EAAA,EAAAlI,EAAA0E,GAAA,EAAA,gHA+DVa,CAAS,oFAGdpF,GAAAgI,GAAA,EAAA,IAAApJ,EAAA+H,EAAM,QAAIsB,KAAK,yDAvjB3B7C,CAAS,IAujBa6C,EAAK,UAIV7C,CAAS,IAAAxG,EAAKqJ,EAAK,EAAC,QAAQ,YAJvBA,EAAK,EAAA9K,EAAA,IAAAyB,EAIqBqJ,EAAK,EAAC,IAAI,gBAJpCA,EAAK,EAAA9K,EAAA,IAAAyB,EAEbqJ,EAAK,EAAC,QAAQ,8BAFNA,EAAK,EAAA9K,EAAA,IAAAyB,EAEbqJ,EAAK,EAAC,QAAQ,KAAA,wDAHIC,GAAAC,EAAAvJ,EAAAwG,CAAS,IAAK,EAAE,4BAPJxI,EAAK,EAAC,EAAE,WAAW,CAAA,kBAOZA,EAAK,EAAC,EAAE,SAAS,CAAA,KAFnDwE,GAAAiD,EAAA,IAAAzF,EAAAwG,CAAS,OAATA,EAASjF,CAAA,CAAA;;gGAgBkBvD,EAAK,EAAC,EAAE,WAAW,CAAA,kBAO7CA,EAAK,EAAC,EAAE,mCAAmC,CAAA,YASzDO,EAAA,IAAAP,IAAM,EAAC,6DAAA,CAAA,YASNO,EAAA,IAAAP,EAAM,EAAA,EACN,aAAA,CAAA,KAAM,UAAS,CAAA,CAAA,GASf,KAAAA,EAAA,EAAAO,EAAA,IAAAP,IAAM,EAAC,YAAA,CAAA,KA7BKwD,EAAAqB,GAAA,IAAA7C,EAAAuG,CAAS,QAATA,EAAShF,EAAA,CAAA,8JA+CbH,GAAAoI,GAAA,EAAA,IAAAxJ,EAAA+H,EAAM,SAAIsB,KAAK,wDAALA,EAAK,EAAA9K,EAAA,IAAAyB,EACKqJ,EAAK,EAAC,IAAI,gBADpBA,EAAK,EAAA9K,EAAA,IAAAyB,EACNqJ,EAAK,EAAC,EAAE,8BADPA,EAAK,EAAA9K,EAAA,IAAAyB,EACNqJ,EAAK,EAAC,EAAE,KAAA,qIAkBjBjI,GAAAqI,GAAA,EAAA,IAAAzJ,EAAA8D,CAAM,SAAI4F,KAAK,sCAALA,EAAK,EAAAnL,EAAA,IAAAyB,EACN0J,EAAK,EAAC,EAAE,8BADPA,EAAK,EAAAnL,EAAA,IAAAyB,EACN0J,EAAK,EAAC,EAAE,KAAA,4JAgBX1L,EAAK,EAAC,EAAE,4CAA4C,CAAA,iKACxD,yBAFGyI,CAAiB,mBAAjBA,EAAiBlF,EAAA,wJA9CUvD,EAAK,EAAC,EAAE,WAAW,CAAA,kBAO7CA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAYEA,EAAK,EAAC,EAAE,WAAW,CAAA,kBAO7CA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAeEA,EAAK,EAAC,EAAE,uBAAuB,CAAA,KAnC1DwD,EAAAmI,GAAA,IAAA3J,EAAAwG,CAAS,QAATA,EAASjF,EAAA,CAAA,EAmBTC,EAAAoI,GAAA,IAAA5J,EAAAuG,CAAS,QAATA,EAAShF,EAAA,CAAA,wJA2CdH,GAAAyI,GAAA,EAAA,IAAA7J,EAAA+H,EAAM,SAAIsB,KAAK,wDAALA,EAAK,EAAA9K,EAAA,IAAAyB,EACKqJ,EAAK,EAAC,IAAI,gBADpBA,EAAK,EAAA9K,EAAA,IAAAyB,EACNqJ,EAAK,EAAC,EAAE,8BADPA,EAAK,EAAA9K,EAAA,IAAAyB,EACNqJ,EAAK,EAAC,EAAE,KAAA,wIAkBjBjI,GAAA0I,GAAA,EAAA,IAAA9J,EAAA8D,CAAM,SAAI4F,KAAK,sCAALA,EAAK,EAAAnL,EAAA,IAAAyB,EACN0J,EAAK,EAAC,EAAE,8BADPA,EAAK,EAAAnL,EAAA,IAAAyB,EACN0J,EAAK,EAAC,EAAE,KAAA,kJA/Be1L,EAAK,EAAC,EAAE,WAAW,CAAA,kBAO7CA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAYEA,EAAK,EAAC,EAAE,WAAW,CAAA,kBAO7CA,EAAK,EAAC,EAAE,gBAAgB,CAAA,KApBzBwD,EAAAuI,GAAA,IAAA/J,EAAAwG,CAAS,QAATA,EAASjF,EAAA,CAAA,EAmBTC,EAAAwI,GAAA,IAAAhK,EAAAuG,CAAS,QAATA,EAAShF,EAAA,CAAA,0JA2BdH,GAAA6I,GAAA,EAAA,IAAAjK,EAAA+H,EAAM,SAAIsB,KAAK,wDAALA,EAAK,EAAA9K,EAAA,IAAAyB,EACKqJ,EAAK,EAAC,IAAI,gBADpBA,EAAK,EAAA9K,EAAA,IAAAyB,EACNqJ,EAAK,EAAC,EAAE,8BADPA,EAAK,EAAA9K,EAAA,IAAAyB,EACNqJ,EAAK,EAAC,EAAE,KAAA,gTAZerL,EAAK,EAAC,EAAE,WAAW,CAAA,kBAO7CA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAatCA,EAAK,EAAC,EAAE,eAAe,CAAA,kBAKfA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBASlBA,EAAK,EAAC,EAAE,yBAAyB,CAAA,KA5BlCwD,EAAA0I,GAAA,IAAAlK,EAAAwG,CAAS,QAATA,EAASjF,EAAA,CAAA,EA2BTC,EAAA2I,GAAA,IAAAnK,EAAA8G,EAA8B,QAA9BA,GAA8BvF,EAAA,CAAA,sBApCtCvB,EAAAsG,CAAU,IAAK,SAAOrF,GAAA8E,EAAA,2BAzCtB/F,EAAAsG,CAAU,IAAK,aAAYrF,GAAAmJ,EAAA,EAAAnJ,GAAAoJ,GAAA,EAAA,wBAzD3BrK,EAAAsG,CAAU,IAAK,SAAQrF,EAAA2E,EAAA,EAAA3E,EAAAqJ,GAAA,EAAA,uBAzCvBtK,EAAAsG,CAAU,IAAK,eAAcrF,EAAA6B,EAAA,EAAA7B,EAAA4E,GAAA,EAAA,wBArBlC7F,EAAAsG,CAAU,IAAK,GAAErF,EAAAsJ,EAAA,EAAAtJ,EAAAuJ,EAAA,EAAA,mFAoNR9D,CAAY,kCAjxBrBC,EAAkB,QAmxBd,OAAO,OAAOA,EAAkB,CAAA,SAAK8D,IAAK,+DACjCA,CAAK,0BAALA,CAAK,IAAA,iBADuBA,CAAK,EAE7ClM,EAAA,IAAAP,EAAM,EAAA,EAAEgC,EAAAyK,CAAK,EAAC,OAAO,CAAC,EAAE,YAAgB,EAAAzK,EAAAyK,CAAK,EAAC,MAAM,CAAC,CAAA,CAAA,scAllBTzM,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAsB3BA,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBAK/DA,EAAK,EAAC,EAAE,kBAAkB,CAAA,kBAErBA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBACnBA,EAAK,EAAC,EAAE,QAAQ,CAAA,kBACnBA,EAAK,EAAC,EAAE,SAAS,CAAA,kBACZA,EAAK,EAAC,EAAE,UAAU,CAAA,kBACrBA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBACvBA,EAAK,EAAC,EAAE,WAAW,CAAA,kBA8PIA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAK3BA,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBAK/DA,EAAK,EAAC,EAAE,eAAe,CAAA,kBAelBA,EAAK,EAAC,EAAE,SAAS,CAAA,kBACLA,EAAK,EAAC,EAAE,cAAc,CAAA,kBAAKA,EAAK,EAAC,EAAE,OAAO,CAAA,kBAChDA,EAAK,EAAC,EAAE,QAAQ,CAAA,kBACZA,EAAK,EAAC,EAAE,YAAY,CAAA,kBACzBA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBA4QJA,EAAK,EAAC,EAAE,oBAAoB,CAAA,kBAI5DA,EAAK,EAAC,EAAE,mDAAmD,CAAA,kBAYxEA,EAAK,EAAC,EACN,gLAA+K,CAAA,kBAWjLA,EAAK,EAAC,EAAE,MAAM,CAAA,KA3kBCwE,GAAAC,GAAA,IAAAzC,EAAAiH,CAAU,OAAVA,EAAU1F,CAAA,CAAA,EA+QViB,GAAAE,GAAA,IAAA1C,EAAAsG,CAAU,OAAVA,EAAU/E,CAAA,CAAA,EAEJtD,GAAA,SAAAyE,GAAA,MAAA/D,GAAM,aACjB2J,GAAmB,QACnBL,GAAS,QACTlE,EAAS,IAEXvF,EAAAG,EAAE,SAAF,YAAAH,EAAU,SAAU,UACvBqB,EAAA2G,EAAY,OAAO,EACnB3G,EAAA0G,EAAY,OAAO,IAEnB1G,EAAA2G,EAAY,EAAE,EACd3G,EAAA0G,EAAY,EAAE,GAEf,EAuRW/D,GAAAkI,GAAA,IAAA1K,EAAA0G,CAAY,OAAZA,EAAYnF,CAAA,CAAA,EAtlBQtD,GAAA,SAAAiB,GAAAC,GAAA,SAAA,OAC/BmJ,GAAmB,EACzBrC,EAAS,MAAM,CACf,CAAA,CAAA,oBAPF,izBCxMA,mDAMOjJ,GAAOC,GAAW,MAAM,MAG7B0N,GAAIxN,GAAAC,GAAA,OAAA,EAAA,EACJwN,EAAKzN,GAAAC,GAAA,QAAA,EAAA,EACLyN,kBAAO,QAAQ,EACfC,EAAQ3N,GAAAC,GAAA,WAAA,EAAA,IAAS,CAAA,CAAE,EACnB2N,uBAAe,CAAA,CAAC,EAGbC,EAAW,GAEXC,KAAoB,IAAI,EACxBC,KAAkBN,EAAK,CAAA,EAE3BO,GAAc,IAAA,CACTD,GACHN,EAAQM,CAAQ,EAEjB,gIAciBnM,GAAA,QAAA,IAAA,CACd4L,GAAO,EAAK,uKAoBUM,EAAU1J,EAAA,EAAA,QAAV0J,CAAU,qCA1BhCjN,EAAK,EAAC,EAAE,aAAa,CAAA,CAAA,yCAR1B,0jZC1BA,0EAqBOiI,GAAWC,KAEXlJ,EAAOC,GAAW,MAAM,EAE1B,IAAAmO,KAAU,EAAK,EAEftH,IAAS,IAAI,EACbpH,IAAS,IAAI,EAEb2O,IAA4B,EAAK,EACjCC,EAAuB7L,EAAA,EAEzB,KAAM,SACN,IAAK,OACL,SAAU,EAAC,GAGX,KAAM,QACN,IAAK,YACL,SAAU,EAAC,GAGX,KAAM,QACN,IAAK,QACL,SAAU,EAAC,GAGX,KAAM,SACN,IAAK,SACL,SAAU,EAAC,GAGX,KAAM,QACN,IAAK,QACL,SAAU,EAAC,GAGX,KAAM,OACN,IAAK,OACL,SAAU,EAAC,IAIT8L,IAAgC,EAAK,EACrCC,EAA4B/L,EAAA,EAE9B,KAAM,QACN,IAAK,QACL,SAAU,EAAC,GAGX,KAAM,SACN,IAAK,SACL,SAAU,EAAC,GAGX,KAAM,QACN,IAAK,YACL,SAAU,EAAC,GAGX,KAAM,QACN,IAAK,QACL,SAAU,EAAC,GAGX,KAAM,SACN,IAAK,SACL,SAAU,EAAC,IAIP,MAAAsE,EAAwB,SAAA,GAC7BD,EAAM,MAASlH,GAAyB,aAAa,KAAK,EAAE,MAAOP,IAClE+B,GAAM,MAAK,GAAI/B,CAAK,EAAA,EACb,KACP,CAAA,GAGIiM,EAAkC,SAAA,MAEtC5L,CAAM,EAAC,0BAA4B,iBAAesD,EAClDtD,CAAM,EAAC,yBAA2B,GAElC,OAAA0B,GAAM,MAAMJ,EAAK,EAAC,EAAE,qCAAqC,CAAA,EACzDyD,EAAA/E,EAAAsD,EAAAtD,CAAM,EAAC,wBAA0B,EAAK,EAE/B,KACG,GAAAsD,EAAAtD,CAAM,EAAC,0BAA4B,WAAasD,EAAAtD,CAAM,EAAC,mBAAqB,GACtF,OAAA0B,GAAM,MAAMJ,EAAK,EAAC,EAAE,+BAA+B,CAAA,EACnDyD,EAAA/E,EAAAsD,EAAAtD,CAAM,EAAC,wBAA0B,EAAK,EAE/B,KACG,GAAAsD,EAAAtD,CAAM,EAAC,0BAA4B,UAAYsD,EAAAtD,CAAM,EAAC,wBAA0B,GAC1F,OAAA0B,GAAM,MAAMJ,EAAK,EAAC,EAAE,6BAA6B,CAAA,EACjDyD,EAAA/E,EAAAsD,EAAAtD,CAAM,EAAC,wBAA0B,EAAK,EAE/B,KACG,GAAAsD,EAAAtD,CAAM,EAAC,0BAA4B,UAAYsD,EAAAtD,CAAM,EAAC,wBAA0B,GAC1F,OAAA0B,GAAM,MAAMJ,EAAK,EAAC,EAAE,6BAA6B,CAAA,EACjDyD,EAAA/E,EAAAsD,EAAAtD,CAAM,EAAC,wBAA0B,EAAK,EAE/B,KAGF,MAAAJ,EAAY,MAAAG,GAAa,aAAa,MAAK,MAC7CC,CAAM,EACT,qBAAoB,OAAAsD,EACZtD,CAAM,EAAC,sBAAyB,UAAQsD,EAAItD,CAAM,EAAC,qBAAqB,SAAW,GACvF,KAAK,MAAKsD,EAACtD,CAAM,EAAC,oBAAoB,EAAA,CAAA,EAE1C,yBACQ,OAAAsD,EAAAtD,CAAM,EAAC,0BAA6B,UAC3CsD,EAAAtD,CAAM,EAAC,yBAAyB,SAAW,GACxC,KAAK,MAAMsD,EAAAtD,CAAM,EAAC,wBAAwB,OAE5C,MAAOL,IACT+B,GAAM,MAAK,GAAI/B,CAAK,EAAA,EACb,KACP,EAEG,OAAAC,GACCA,EAAI,0BACPmP,GAAc,IAAG,MAAOhD,GAAgB,CAAA,EACxC1E,KAGMzH,GAGD,MAGFoP,EAAgBC,GAAS,CAC1B,GAAA,CACG,MAAAC,EAAM,KAAK,MAAMD,CAAI,EAEvB,GAAAC,GAAc,OAAAA,GAAQ,eAClB,QAEG,CAAC,OACN,IAGF1O,GAA0B,SAAA,kBAC/B2C,EAAAuL,GAAU,EAAI,OAEV1O,CAAM,YAAE,iBAAkB,CACxB,GAAA,CAAAgP,GAAa1L,EAAAA,EAAAtD,CAAM,IAANsD,YAAAA,EAAQ,gBAAgB,EAAG,CAC5C5B,GAAM,MAAMJ,EAAK,EAAC,EAAE,2CAA2C,CAAA,EAC/D6B,EAAAuL,GAAU,EAAK,QAEhB,GAEA1O,EAAMsD,EAANtD,CAAM,EAAC,uBAAsBsD,EAAGsL,CAAuB,EAAC,IAAKO,MAE3D,KAAMA,GAAK,KACX,IAAKA,GAAK,IACV,SACCA,GAAK,SAAS,KAAI,IAAO,GAAE,CAAA,EAAQA,GAAK,SAAS,MAAM,GAAG,EAAE,IAAKC,GAAOA,EAAG,MAAI,GAEjF,CAAA,CACF,UAEIpP,CAAM,aAAE,6BAA8B,CACpC,GAAA,CAAAgP,GAAa1L,GAAAA,EAAAtD,CAAM,IAANsD,YAAAA,GAAQ,4BAA4B,EAAG,CACxD5B,GAAM,MAAMJ,EAAK,EAAC,EAAE,gDAAgD,CAAA,EACpE6B,EAAAuL,GAAU,EAAK,QAEhB,GAEA1O,EAAMsD,EAANtD,CAAM,EAAC,mCAAkCsD,EAAGwL,CAA4B,EAAC,IAAKK,MAE5E,KAAMA,GAAK,KACX,IAAKA,GAAK,IACV,SACCA,GAAK,SAAS,KAAI,IAAO,GAAE,CAAA,EAAQA,GAAK,SAAS,MAAM,GAAG,EAAE,IAAKC,GAAOA,EAAG,MAAI,GAEjF,CAAA,CACF,OAEkBxD,KAEjBrC,GAAS,MAAM,EAGhBpG,EAAAuL,GAAU,EAAK,GAGhBrN,GAAoB,SAAA,OACf,KAAAS,EAAAuN,EAAK,IAAL,YAAAvN,EAAO,QAAS,QAAS,OACtBlC,EAAG,MAASH,GAAU,aAAa,KAAK,EAAE,MAAOE,IACtD+B,GAAM,MAAK,GAAI/B,CAAK,EAAA,EACb,KACP,KAEGC,GACHuD,EAAAnD,EAASJ,CAAG,IAGTI,CAAM,EAAC,yBACVqH,MAGGrH,CAAM,EAAC,iBACN,GAAA,CACH+E,EAAA/E,IAAAA,CAAM,EAAC,iBAAmB,KAAK,UAAU,KAAK,QAAMA,CAAM,EAAC,gBAAgB,EAAG,KAAM,CAAC,CAAA,CACrF,OAAQiC,EAAG,CAEZ,IAGDkB,EAAAyL,IAA0BA,CAAuB,EAAC,IAAKO,GAAS,CACzD,MAAAG,KAAItP,CAAM,EAAC,uBAAuB,KAAMsP,IAAMA,GAAE,OAASH,EAAK,IAAI,GAAKA,SAI5E,KAAMG,GAAE,KACR,IAAKA,GAAE,IACP,gBAAiBA,GAAE,UAAa,SAAWA,GAAE,SAAWA,GAAE,SAAS,KAAK,GAAG,EAE5E,CAAA,CAAA,IAEGtP,CAAM,EAAC,6BACN,GAAA,CACH+E,EAAA/E,IAAAA,CAAM,EAAC,6BAA+B,KAAK,UAC1C,KAAK,MAAMsD,EAAAtD,CAAM,EAAC,4BAA4B,EAC9C,KACA,CAAA,CAAA,CAED,OAAQiC,EAAG,CAEZ,GAGDjC,EAAMsD,EAANtD,CAAM,EAAC,kCACCA,CAAM,EAAC,0BAA6B,SACxC,KAAK,UAAUsD,EAAAtD,CAAM,EAAC,0BAAwB,CAAA,EAAQ,KAAM,CAAC,EAC7DsD,EAAAtD,CAAM,EAAC,wBAAwB,IAEnCA,EAAMsD,EAANtD,CAAM,EAAC,8BACCA,CAAM,EAAC,sBAAyB,SACpC,KAAK,UAAUsD,EAAAtD,CAAM,EAAC,sBAAoB,CAAA,EAAQ,KAAM,CAAC,EACzDsD,EAAAtD,CAAM,EAAC,oBAAoB,EAE/BmD,EAAA2L,IAA+BA,CAA4B,EAAC,IAAKK,GAAS,CACnE,MAAAG,KACLtP,CAAM,EAAC,mCAAmC,KAAMsP,IAAMA,GAAE,OAASH,EAAK,IAAI,GAAKA,SAI/E,KAAMG,GAAE,KACR,IAAKA,GAAE,IACP,gBAAiBA,GAAE,UAAa,SAAWA,GAAE,SAAWA,GAAE,SAAS,KAAK,GAAG,EAE5E,CAAA,CAAA,CACF,EACA,4LAyByB,OAAAhM,EAAAtD,CAAM,EAAC,yCAAPA,EAAMsD,EAANtD,CAAM,EAAC,wBAAuB6E,EAAA,yMAmB/BvD,EAAK,EAAC,EAAE,gBAAgB,CAAA,kHAUjCoD,GAAA6K,GAAA,EAAA,IAAAjM,EAAA8D,CAAM,aAAU4F,IAAK,gDACDwC,EAAAC,GAAAnM,EAAA0J,CAAK,EAAC,IAAI,EAArB0C,MAAAA,GAAApM,EAAA0J,CAAK,EAAC,MAANlE,GAAA,OAAAA,GAAA,QAAAxF,EAAA0J,CAAK,EAAC,KAAE,wDANX1L,EAAK,EAAC,EAAE,gBAAgB,CAAA,CAAA,EADzBwD,EAAA9C,EAAA,IAAAsB,EAAAtD,CAAM,EAAC,uBAAsB6E,IAAAE,EAA7B/E,EAAAsD,EAAAtD,CAAM,EAAC,uBAAsB6E,EAAA,CAAA,yIAsBzBvD,EAAK,EAAC,EAAE,iCAAiC,CAAA,4HAG5CA,EAAK,EAAC,EAAE,iCAAiC,CAAA,CAAA,EAC1CwD,EAAAE,EAAA,IAAA1B,EAAAtD,CAAM,EAAC,WAAU6E,GAAAE,EAAjB/E,EAAAsD,EAAAtD,CAAM,EAAC,WAAU6E,CAAA,CAAA,uJAgBpBvD,EAAK,EAAC,EAAE,iCAAiC,CAAA,iIAKpCA,EAAK,EAAC,EAAE,iCAAiC,CAAA,CAAA,EAC1CwD,EAAAmB,GAAA,IAAA3C,EAAAtD,CAAM,EAAC,YAAW6E,IAAAE,EAAlB/E,EAAAsD,EAAAtD,CAAM,EAAC,YAAW6E,EAAA,CAAA,gEAX7BvD,EAAK,EAAC,EAAE,OAAO,CAAA,CAAA,6BALf,UAAW,gBAAiB,EAAE,EAAE,UAAQgC,GAAAA,EAACtD,CAAM,IAAPsD,YAAAA,GAAS,uBAAuB,GAAAiB,GAAAiE,CAAA,iGAgCxD,OAAAlF,EAAAtD,CAAM,EAAC,gDAAPA,EAAMsD,EAANtD,CAAM,EAAC,+BAA8B6E,EAAA,0EAxEtDvD,EAAK,EAAC,EAAE,OAAO,MA0BfA,EAAK,EAAC,EAAE,YAAY,MA0CpBA,EAAK,EAAC,EAAE,yBAAyB,wBAzElCgC,EAAAtD,CAAM,EAAC,yBAAuBuE,GAAAkE,EAAA,8FA4FpBzI,CAAM,wiBA4CFsB,EAAK,EAAC,EAAE,SAAS,CAAA,qFAEpB,eADE,OAAAgC,EAAAtD,CAAM,EAAC,uCAAPA,EAAMsD,EAANtD,CAAM,EAAC,sBAAqB6E,EAAA,4QAyC5BvD,EAAK,EAAC,EAAE,4CAA4C,CAAA,+JACxD,gBAFG,OAAAgC,EAAAtD,CAAM,EAAC,0CAAPA,EAAMsD,EAANtD,CAAM,EAAC,yBAAwB6E,EAAA,+IArE1CvD,EAAK,EAAC,EAAE,qBAAqB,MAQhBA,EAAK,EAAC,EAAE,cAAc,MAYnCA,EAAK,EAAC,EAAE,gBAAgB,MAqBxBA,EAAK,EAAC,EAAE,oBAAoB,MAQfA,EAAK,EAAC,EAAE,aAAa,MAYlCA,EAAK,EAAC,EAAE,uBAAuB,IApDnBwD,EAAAU,EAAA,IAAAlC,EAAAtD,CAAM,EAAC,2BAA0B6E,IAAAE,EAAjC/E,EAAAsD,EAAAtD,CAAM,EAAC,2BAA0B6E,EAAA,CAAA,EAyCjCC,EAAAW,EAAA,IAAAnC,EAAAtD,CAAM,EAAC,0BAAyB6E,IAAAE,EAAhC/E,EAAAsD,EAAAtD,CAAM,EAAC,0BAAyB6E,EAAA,CAAA,gWAmG/BvD,EAAK,EAAC,EAAE,gDAAgD,CAAA,oFAE3D,eADE,OAAAgC,EAAAtD,CAAM,EAAC,wCAAPA,EAAMsD,EAANtD,CAAM,EAAC,uBAAsB6E,EAAA,gNAkC7BvD,EAAK,EAAC,EAAE,4CAA4C,CAAA,8JACxD,gBAFG,OAAAgC,EAAAtD,CAAM,EAAC,sCAAPA,EAAMsD,EAANtD,CAAM,EAAC,qBAAoB6E,EAAA,2KAtGtCvD,EAAK,EAAC,EAAE,wBAAwB,MAQnBA,EAAK,EAAC,EAAE,yCAAyC,MAqChEA,EAAK,EAAC,EAAE,0DAA0D,MAMjEA,EAAK,EAAC,EAAE,4BAA4B,MASnCA,EAAK,EAAC,EAAE,+BAA+B,MAiBzCA,EAAK,EAAC,EAAE,+DAA+D,MAMtEA,EAAC,EACA,EAAE,yDAAyD,EAC3D,QAAQ,IAAK,GAAG,MAShBA,EAAK,EAAC,EAAE,uBAAuB,IArFnBwD,EAAAG,EAAA,IAAA3B,EAAAtD,CAAM,EAAC,uBAAsB6E,GAAAE,EAA7B/E,EAAAsD,EAAAtD,CAAM,EAAC,uBAAsB6E,CAAA,CAAA,EAOpBtD,GAAA,QAAAc,EAAA,SAAA,OACfuJ,EAAmB,EAChB,MAAS3L,GAAgB,aAAa,KAAK,EAAE,MAAON,KAC5D+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,GAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,4BAA4B,CAAA,EAEnD,0SAiJaA,EAAK,EAAC,EAAE,SAAS,CAAA,qFAEpB,eADE,OAAAgC,EAAAtD,CAAM,EAAC,iCAAPA,EAAMsD,EAANtD,CAAM,EAAC,gBAAe6E,EAAA,8OAuCrBvD,EAAK,EAAC,EAAE,4BAA4B,MAM/CA,EAAK,EAAC,EAAE,MAAM,IALCC,GAAA,QAAAC,GAAA,IAAA,CAEf2B,EAAAwL,EAA4B,EAAI,EAChC,sBARErL,EAAAtD,CAAM,EAAC,kBAAgBuE,GAAA8H,EAAA,iCAcV/K,EAAK,EAAC,EAAE,4CAA4C,CAAA,uIAIxDA,EAAK,EAAC,EAAE,4CAA4C,MAK/DA,EAAK,EAAC,EAAE,QAAQ,IAJDC,GAAA,QAAAI,GAAA,IAAA,SACfG,GAAA,SAAS,eAAe,+BAA+B,IAAvD,MAAAA,GAA0D,QAC1D,8FAYG,OAAAwB,EAAAtD,CAAM,EAAC,8BAEH,SAAAiC,IAAM,CAChB8C,EAAA/E,EAAAsD,EAAAtD,CAAM,EAAC,iBAAmBiC,EAAC,CAC3B,EACa,OAAA,IAAA,CAEb,sBARU0M,CAAyB,kBAAzBA,EAAyB9J,EAAA,uJAiC7BH,GAAAiL,GAAA,EAAA,IAAArM,EAAAsL,CAAuB,SAAIO,GAAIS,KAAA,mGAUhBtO,EAAK,EAAC,EAAE,yCAAyC,CAAA,4GAGpDA,EAAK,EAAC,EAAE,KAAK,CAAA,CAAA,EACdwD,EAAAM,GAAA,IAAA9B,EAAA6L,EAAI,EAAC,IAAGtK,KAARvB,EAAA6L,EAAI,EAAC,IAAGtK,YArvB9B+J,CAAuB,CAAA,iFA+vBLtN,EAAK,EAAC,EAAE,0CAA0C,CAAA,kIAK7CA,EAAK,EAAC,EAAE,UAAU,CAAA,CAAA,EACnBwD,EAAAO,GAAA,IAAA/B,EAAA6L,EAAI,EAAC,SAAQtK,KAAbvB,EAAA6L,EAAI,EAAC,SAAQtK,YArwBnC+J,CAAuB,CAAA,uEA2uBdO,EAAI,EAAC,MAAI,EAAA,GAAA7L,EAAE6L,EAAI,EAAC,OAAS,SAAW,IAAM,EAAE,EAAA,CAAA,8FAV9C7N,EAAK,EAAC,EAAE,wBAAwB,MA8ClCA,EAAK,EAAC,EAAE,sDAAsD,wBAnD7DgC,EAAAtD,CAAM,EAAC,kBAAgBuE,GAAA4H,EAAA,kGAnJvB7K,EAAK,EAAC,EAAE,kBAAkB,MAQbA,EAAK,EAAC,EAAE,yCAAyC,MAyC9DA,EAAK,EAAC,EAAE,iBAAiB,MAsCzBA,EAAK,EAAC,EAAE,kBAAkB,MAwD5BA,EAAK,EAAC,EAAE,sEAAsE,IAtIhEwD,EAAAI,EAAA,IAAA5B,EAAAtD,CAAM,EAAC,iBAAgB6E,IAAAE,EAAvB/E,EAAAsD,EAAAtD,CAAM,EAAC,iBAAgB6E,EAAA,CAAA,EAOdtD,GAAA,QAAAe,EAAA,SAAA,OACfsJ,EAAmB,EAChB,MAAS3L,GAAgB,aAAa,KAAK,EAAE,MAAON,KAC5D+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,GAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,4BAA4B,CAAA,EAEnD,EA8CSC,GAAA,SAAA4D,GAAAlD,IAAM,CACX,MAAAC,GAAOD,GAAE,OAAO,MAAM,CAAC,EACvBE,OAAa,WAEnBA,GAAO,OAAUF,IAAM,GACtBjC,EAAMsD,EAANtD,CAAM,EAAC,iBAAmBiC,GAAE,OAAO,MAAM,EACzCA,GAAE,OAAO,MAAQ,MAGlBE,GAAO,WAAWD,EAAI,EACtB,wRAyJeZ,EAAK,EAAC,EAAE,SAAS,CAAA,oFAEpB,eADE,OAAAgC,EAAAtD,CAAM,EAAC,uCAAPA,EAAMsD,EAANtD,CAAM,EAAC,sBAAqB6E,EAAA,+HAkB9B7E,CAAM,mOA/ChBsB,EAAK,EAAC,EAAE,iBAAiB,MAQZA,EAAK,EAAC,EAAE,cAAc,MAYnCA,EAAK,EAAC,EAAE,gBAAgB,MAqBxBA,EAAK,EAAC,EAAE,wBAAwB,MAOrBA,EAAK,EAAC,EAAE,eAAe,IAvCtBwD,EAAAY,GAAA,IAAApC,EAAAtD,CAAM,EAAC,2BAA0B6E,GAAAE,EAAjC/E,EAAAsD,EAAAtD,CAAM,EAAC,2BAA0B6E,CAAA,CAAA,EAsCnCiB,GAAAE,GAAA,IAAA1C,EAAAtD,CAAM,EAAC,8BAA6B6E,GAAAE,EAApC/E,EAAAsD,EAAAtD,CAAM,EAAC,8BAA6B6E,CAAA,CAAA,+BApD1C7E,CAAM,kBAAE,2BAA4B,UAAQuE,EAAAkI,EAAA,yCA/M5CzM,CAAM,mBAAE,2BAA4B,UAASuE,GAAA6H,CAAA,EAAA7H,GAAAE,EAAA,EAAA,qCAlH5CnB,GAAAA,EAAAtD,CAAM,IAANsD,YAAAA,GAAQ,0BAA2B,mBAAqB,gBAAeiB,GAAAC,EAAA,EAAAD,GAAAmE,GAAA,EAAA,yCAjF7E1I,CAAM,mBAAE,2BAA4B,SAAQuE,GAAAoE,EAAA,EAAApE,GAAAqE,GAAA,EAAA,sJA8d3B,OAAAtF,EAAAtD,CAAM,EAAC,mCAAPA,EAAMsD,EAANtD,CAAM,EAAC,kBAAiB6E,EAAA,6JAazBvD,EAAK,EAAC,EAAE,gBAAgB,CAAA,qHASjCoD,GAAAmL,EAAA,EAAA,IAAAvM,EAAA8D,CAAM,YAAU4F,IAAK,+CACDwC,EAAAM,GAAAxM,EAAA0J,CAAK,EAAC,IAAI,EAArB+C,KAAAA,EAAAzM,EAAA0J,CAAK,EAAC,MAANgD,GAAA,OAAAA,GAAA,QAAA1M,EAAA0J,CAAK,EAAC,KAAE,qDALX1L,EAAK,EAAC,EAAE,gBAAgB,CAAA,CAAA,EADzBwD,EAAAS,GAAA,IAAAjC,EAAAtD,CAAM,EAAC,iBAAgB6E,GAAAE,EAAvB/E,EAAAsD,EAAAtD,CAAM,EAAC,iBAAgB6E,CAAA,CAAA,wIAqBnBvD,EAAK,EAAC,EAAE,iCAAiC,CAAA,gIAG5CA,EAAK,EAAC,EAAE,iCAAiC,CAAA,CAAA,EAC1CwD,EAAAQ,GAAA,IAAAhC,EAAAtD,CAAM,EAAC,gBAAe6E,IAAAE,EAAtB/E,EAAAsD,EAAAtD,CAAM,EAAC,gBAAe6E,EAAA,CAAA,4EAjCjCvD,IAAM,EAAE,OAAO,MAyBfA,EAAK,EAAC,EAAE,YAAY,CAAA,kCA9BrBgC,GAAAA,EAAAtD,CAAM,IAANsD,MAAAA,GAAQ,2BAA2BA,GAAAA,EAAAtD,CAAM,IAANsD,MAAAA,GAAQ,oBAAiBiB,GAAAyE,EAAA,8FAuDlDhJ,CAAM,meA2CFsB,EAAK,EAAC,EAAE,SAAS,CAAA,oFAEpB,eADE,OAAAgC,EAAAtD,CAAM,EAAC,4CAAPA,EAAMsD,EAANtD,CAAM,EAAC,2BAA0B6E,EAAA,uPA7B7CvD,EAAK,EAAC,EAAE,qBAAqB,MAQhBA,EAAK,EAAC,EAAE,cAAc,MAYnCA,EAAK,EAAC,EAAE,gBAAgB,MAqBxBA,EAAK,EAAC,EAAE,oBAAoB,MAQfA,EAAK,EAAC,EAAE,aAAa,IAxCtBwD,EAAAc,EAAA,IAAAtC,EAAAtD,CAAM,EAAC,gCAA+B6E,GAAAE,EAAtC/E,EAAAsD,EAAAtD,CAAM,EAAC,gCAA+B6E,CAAA,CAAA,EAyCtCC,EAAAoB,EAAA,IAAA5C,EAAAtD,CAAM,EAAC,+BAA8B6E,GAAAE,EAArC/E,EAAAsD,EAAAtD,CAAM,EAAC,+BAA8B6E,CAAA,CAAA,4SAoEpCvD,EAAK,EAAC,EAAE,SAAS,CAAA,oFAEpB,eADE,OAAAgC,EAAAtD,CAAM,EAAC,6CAAPA,EAAMsD,EAANtD,CAAM,EAAC,4BAA2B6E,EAAA,0OAuCjCvD,EAAK,EAAC,EAAE,4BAA4B,MAM/CA,EAAK,EAAC,EAAE,MAAM,IALCC,GAAA,QAAA0O,GAAA,IAAA,CAEf9M,EAAA0L,EAAgC,EAAI,EACpC,oBAREvL,EAAAtD,CAAM,EAAC,8BAA4BuE,EAAAsJ,EAAA,gCActBvM,EAAK,EAAC,EAAE,4CAA4C,CAAA,sIAIxDA,EAAK,EAAC,EAAE,4CAA4C,MAK/DA,EAAK,EAAC,EAAE,QAAQ,IAJDC,GAAA,QAAA2O,GAAA,IAAA,SACfpO,GAAA,SAAS,eAAe,oCAAoC,IAA5D,MAAAA,GAA+D,QAC/D,8FAYG,OAAAwB,EAAAtD,CAAM,EAAC,0CAEH,SAAAiC,GAAM,CAChB8C,EAAA/E,EAAAsD,EAAAtD,CAAM,EAAC,6BAA+BiC,CAAC,CACvC,EACa,OAAA,IAAA,CAEb,sBARU4M,CAA6B,iBAA7BA,EAA6BhK,CAAA,uJAyBjCH,GAAAyL,GAAA,EAAA,IAAA7M,EAAAwL,CAA4B,SAAIK,GAAIiB,KAAA,mGAUrB9O,EAAK,EAAC,EAAE,yCAAyC,CAAA,4GAGpDA,EAAK,EAAC,EAAE,KAAK,CAAA,CAAA,EACdwD,EAAAoI,GAAA,IAAA5J,EAAA6L,EAAI,EAAC,IAAGtK,KAARvB,EAAA6L,EAAI,EAAC,IAAGtK,YAxmC9BiK,CAA4B,CAAA,iFAknCVxN,EAAK,EAAC,EAAE,0CAA0C,CAAA,kIAK7CA,EAAK,EAAC,EAAE,UAAU,CAAA,CAAA,EACnBwD,EAAAuI,GAAA,IAAA/J,EAAA6L,EAAI,EAAC,SAAQtK,KAAbvB,EAAA6L,EAAI,EAAC,SAAQtK,YAxnCnCiK,CAA4B,CAAA,uDA8lCnBuB,EAAAC,IAAAd,EAAAe,GAAA,GAAAjN,EAAA6L,EAAI,EAAC,MAAI,EAAA,GAAAmB,IAAA,EAAA,EAAA,EAAA,MAAG,SAAU,OAAO,EAAE,SAAQhN,EAAC6L,EAAI,EAAC,IAAI,EAAI,IAAM,iGAV7D7N,EAAK,EAAC,EAAE,wBAAwB,MA8ClCA,EAAK,EAAC,EAAE,sDAAsD,sBAnD7DgC,EAAAtD,CAAM,EAAC,8BAA4BuE,EAAA6B,EAAA,+FA3InC9E,EAAK,EAAC,EAAE,kBAAkB,MAQbA,EAAK,EAAC,EAAE,yCAAyC,MAyC9DA,EAAK,EAAC,EAAE,iBAAiB,MAsCzBA,EAAK,EAAC,EAAE,kBAAkB,MAgD5BA,EAAK,EAAC,EAAE,sEAAsE,IA9HhEwD,EAAAqB,EAAA,IAAA7C,EAAAtD,CAAM,EAAC,6BAA4B6E,GAAAE,EAAnC/E,EAAAsD,EAAAtD,CAAM,EAAC,6BAA4B6E,CAAA,CAAA,EAO1BtD,GAAA,QAAAK,EAAA,SAAA,OACfgK,EAAmB,EAChB,MAAS3L,GAAgB,aAAa,KAAK,EAAE,MAAON,KAC5D+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,GAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,4BAA4B,CAAA,EAEnD,EA8CSC,GAAA,SAAA0L,EAAAhL,GAAM,CACX,MAAAC,GAAOD,EAAE,OAAO,MAAM,CAAC,EACvBE,OAAa,WAEnBA,GAAO,OAAUF,IAAM,GACtBjC,EAAMsD,EAANtD,CAAM,EAAC,6BAA+BiC,GAAE,OAAO,MAAM,EACrDA,GAAE,OAAO,MAAQ,MAGlBE,GAAO,WAAWD,EAAI,EACtB,2RAiJeZ,EAAK,EAAC,EAAE,SAAS,CAAA,oFAEpB,eADE,OAAAgC,EAAAtD,CAAM,EAAC,4CAAPA,EAAMsD,EAANtD,CAAM,EAAC,2BAA0B6E,EAAA,gGA7B7CvD,EAAK,EAAC,EAAE,iBAAiB,MAQZA,EAAK,EAAC,EAAE,cAAc,MAYnCA,EAAK,EAAC,EAAE,gBAAgB,IAXZwD,EAAAwI,GAAA,IAAAhK,EAAAtD,CAAM,EAAC,gCAA+B6E,IAAAE,EAAtC/E,EAAAsD,EAAAtD,CAAM,EAAC,gCAA+B6E,EAAA,CAAA,kCAd9C7E,CAAM,mBAAE,qBAAsB,UAAQuE,EAAAmJ,CAAA,yCAvMtC1N,CAAM,mBAAE,qBAAsB,UAASuE,GAAA2E,EAAA,EAAA3E,GAAA+H,GAAA,EAAA,yCA7D5CtM,CAAM,mBAAE,qBAAsB,SAAQuE,GAAAoB,EAAA,EAAApB,GAAAgI,GAAA,EAAA,8OAhqBQjL,EAAK,EAAC,EAAE,SAAS,MAQ/DA,EAAK,EAAC,EAAE,kBAAkB,MAUoBA,EAAK,EAAC,EAAE,cAAc,MA0FpEA,EAAK,EAAC,EAAE,yBAAyB,MAOtBA,EAAK,EAAC,EAAE,eAAe,MAEZA,EAAK,EAAC,EAAE,mBAAmB,MAC1BA,EAAK,EAAC,EAAE,SAAS,MACXA,EAAK,EAAC,EAAE,eAAe,MAC9BA,EAAK,EAAC,EAAE,QAAQ,MAudQA,EAAK,EAAC,EAAE,YAAY,MAQlEA,EAAK,EAAC,EAAE,YAAY,MAyDpBA,EAAK,EAAC,EAAE,mBAAmB,MAOhBA,EAAK,EAAC,EAAE,eAAe,MAEZA,EAAK,EAAC,EAAE,mBAAmB,MAC1BA,EAAK,EAAC,EAAE,SAAS,MAClBA,EAAK,EAAC,EAAE,QAAQ,IAziB5BwE,GAAAC,GAAA,IAAAzC,EAAAtD,CAAM,EAAC,wBAAuB6E,IAAAE,EAA9B/E,EAAAsD,EAAAtD,CAAM,EAAC,wBAAuB6E,EAAA,CAAA,EAoiB9BiB,GAAAiD,GAAA,IAAAzF,EAAAtD,CAAM,EAAC,kBAAiB6E,IAAAE,EAAxB/E,EAAAsD,EAAAtD,CAAM,EAAC,kBAAiB6E,EAAA,CAAA,qBAzpBrC7E,CAAM,GAAAuE,EAAA8E,CAAA,6GAg+BLqF,EAAO,GAAAnK,EAAAiM,EAAA,gOARsL9B,EAC/L,EAAA,sBACA,EAAE,EAAA,eAEKA,EAAO,0BAEhBpN,EAAK,EAAC,EAAE,MAAM,CAAA,GAn+BqBC,GAAA,SAAAiB,GAAAC,GAAA,SAAA,CACrCjC,IACA,CAAA,CAAA,oBANF,kVCvRA,CACY,IAAAL,sBAAY,SAAS,EACrBsQ,wBAAc,KAAK,uCAOhBA,EAAW,CAAA,YAElBtQ,EAAS,CAAA,CAAA,WARjB,6lBCHA,mDAQOG,GAAOC,GAAW,MAAM,MAEnBmQ,GAAOjQ,GAAAC,GAAA,UAAA,GAAA,IAAA,CAAA,CAAA,EAEdiQ,EAAW,KACXC,KAAoB,IAAI,EAEtB,MAAAC,EAA8B,IAAA,OAC7BC,EAAgB,MAAM,OAAKF,EAAiB,EAAC,QAAQ,EAAE,IAAKG,GACjEA,EAAM,GAAG,QAAQ,eAAgB,EAAE,CAAA,EAIpCL,GAAUI,EAAc,IAAK1B,GAAO,OAC7B4B,EAAQN,GAAO,EAAC,UAAWO,GAAWA,EAAO,KAAO7B,CAAE,EACrD,OAAAsB,GAAO,EAACM,CAAK,CACpB,CAAA,CAAA,GAcIE,EAAa,IAAA,CACdP,GACHA,EAAS,QAAO,EAGbrN,EAAAsN,EAAiB,IACpBD,EAAQ,IAAOQ,GAAQ7N,EAACsN,EAAiB,EAAA,CACxC,UAAW,IACX,OAAQ,eACR,SAAQ,MAASQ,GAAU,CAC1BP,GACD,2BAfIH,GAAO,GACbQ,2BAqBMxM,GAAA2M,EAAA,EAAAX,GAAWO,GAAmBA,EAAO,MAA1BA,EAAMK,IAAA,oGAORL,CAAM,+HAIyC3P,IAAM,EAAE,MAAM,CAAA,EAAA,CAAA,oBAX3DgC,EAAA2N,CAAM,EAUfpP,EAAA,IAAAyB,EAAA2N,CAAM,EAAC,MAAQ,EAAE,GAAA1M,EAAAiE,EAAA,qRAWTlH,EAAK,EAAC,EAAE,SAAS,CAAA,EAAA,yHAErB,gBADG,OAAAgC,EAAA2N,CAAM,EAAC,uBAAP3N,EAAA2N,CAAM,EAAC,QAAOpM,UApEnB6L,GAAO,CAAA,8DAyEIpP,EAAK,EAAC,EAAE,oBAAoB,CAAA,EAAA,8GACzB,OAAAgC,EAAA2N,CAAM,EAAC,2BAAP3N,EAAA2N,CAAM,EAAC,YAAWpM,UA1EhC6L,GAAO,CAAA,2FAuFG,QAAQ,CAAA,wDAzCXO,CAAM,EAAApP,EAAA,IAAAyB,EAC+C2N,CAAM,EAAC,EAAE,GAAA,EAAA,EAAA,kDAYhC3P,EAAK,EAAC,EAAE,MAAM,CAAA,kBACXA,EAAK,EAAC,EAAE,SAAS,CAAA,kBACnBA,EAAK,EAAC,EAAE,OAAO,CAAA,kBACbA,EAAK,EAAC,EAAE,SAAS,CAAA,KATpDwE,GAAAC,GAAA,IAAAzC,EAAA2N,CAAM,EAAC,KAAIpM,IAAXvB,EAAA2N,CAAM,EAAC,KAAIpM,SArDhB6L,GAAO,CAAA,IAkFCnP,GAAA,QAAAc,GAAA,IAAA,CACfqO,GAAO,EAAC,OAAOpN,EAAAgO,CAAS,EAAE,CAAC,EAC3BZ,GAAUA,GAAO,CAAA,EACjB,gBAxC4Ea,GAAAF,EAAAxM,GAAA1B,EAAAyN,YAAAA,EAAiB,CAAA,0CA7CtFF,GAAO,CAAA,EA6Ce7O,EAAA,IAAA,OAAA,QAAAC,EAAA4O,OAAA,YAAA5O,EAAS,QAAS,EAAI,OAAS,GAAE,0BAFnE,s5HCrDA,wGAyBOyH,EAAWC,KAEXlJ,GAAOC,GAAW,MAAM,MAE1BiR,EAAUzO,EAAA,CACb,WAAY,GACZ,oBAAqB,GACrB,wBAAyB,GACzB,iCAAkC,GAClC,4BAA6B,GAC7B,qCAAsC,GACtC,wCAAyC,GACzC,+BAAgC,GAChC,4CACA,gCAAiC,GACjC,uBAAwB,GACxB,+BAAgC,GAChC,kCAAmC,GACnC,iCAAkC,GAClC,uCAAwC,GACxC,2BAA4B,KAGzB0O,EAAiB1O,EAAA,CAAA,CAAA,EACjB2N,EAAiB3N,EAAA,CAAA,CAAA,EAEf,MAAA2O,EAAqC,SAAA,CAC1CvO,EAAAqO,QAAmBG,GAAiB,aAAa,QAAOH,CAAU,CAAA,CAAA,IAElEC,EAAiBnO,EAAGmO,CAAiB,EAAC,OAAQG,GAAMA,EAAE,UAAY,EAAE,CAAA,EACpEzO,EAAAsO,QAA0BI,GAA4B,aAAa,QAAOJ,CAAiB,CAAA,CAAA,QACrFK,EAAa,QAEb9R,GAAO,IAAG,MAAO+L,GAAgB,CAAA,GAGlC+F,EAA4B,SAAA,CACjCC,GAAS,IAAU,MAAAC,GAAW,aAAa,MAAK1O,EAAEoN,CAAO,CAAA,CAAA,GAGtD,IAAAuB,EAAkB,KAClBC,EAAa,KAEb9K,IAAS,IAAI,EAEX,MAAA8J,EAAmB,SAAA,OACxB/N,EAAAqO,EAAmB,MAAAW,GAAc,aAAa,KAAK,CAAA,IACnDV,IAAoB3P,EAAAC,EAAO,IAAP,YAAAD,EAAS,6BAA0B,CAAA,CAAA,EACvDqB,EAAAuN,EAAgB,MAAA0B,GAAW,aAAa,KAAK,CAAA,EAE7CH,EAAwB,MAAAI,GAAc,aAAa,KAAK,EACxDH,EAAU,MAAS7K,GAAU,aAAa,MAAO,KAAM,EAAK,EAE5DlE,EAAAiE,EAAS8K,EAAW,IAAKI,GAAM,CACxB,MAAAC,EAAiBN,EAAgB,KAAMO,IAAOA,GAAG,KAAOF,EAAE,EAAE,EAE9D,OAAAC,EAEC,CAAA,GAAAD,EACA,GAAAC,GAIA,CAAA,GAAAD,EACH,GAAIA,EAAE,GACN,KAAMA,EAAE,KAER,UAAW,EAAA,CAGb,CAAA,CAAA,IAEuBlL,CAAM,GAG/B/F,GAAoB,SAAA,OACb6P,EAAI,EACV,wJAoBa5P,EAAK,EAAC,EACd,uGAAsG,CAAA,4KAyB1FkQ,CAAU,wFAsBf9M,GAAA4D,EAAA,EAAA,IAAAhF,EAAA8D,CAAM,QAAI4F,IAAK,yCAEnBwC,EAAAC,GAAA,GAAAnM,EAAA0J,CAAK,EAAC,MAAI,EAAA;AAAA,oBADGyF,MAAAA,GAAAnP,EAAA0J,CAAK,EAAC,MAAN0F,EAAA,OAAAA,EAAA,QAAApP,EAAA0J,CAAK,EAAC,KAAE,6BAErBA,CAAK,kBAAE,mBAAoB,QAAO,IAAO1L,EAAK,EAAC,EAAE,OAAO,CAAA,IAAO,6FAUtDkQ,CAAU,0FAsBf9M,GAAAiO,GAAA,EAAA,IAAArP,EAAA8D,CAAM,QAAI4F,IAAK,yCAEnBwC,EAAAoD,GAAA,GAAAtP,EAAA0J,CAAK,EAAC,MAAI,EAAA;AAAA,oBADG6F,MAAAA,GAAAvP,EAAA0J,CAAK,EAAC,MAAN8F,EAAA,OAAAA,EAAA,QAAAxP,EAAA0J,CAAK,EAAC,KAAE,6BAErBA,CAAK,kBAAE,mBAAoB,QAAO,IAAO1L,EAAK,EAAC,EAAE,OAAO,CAAA,IAAO,6GAYhD,OAAAgC,EAAAkO,CAAU,EAAC,wCAAXA,EAAUlO,EAAVkO,CAAU,EAAC,wBAAuB3M,CAAA,+GAQ3CvD,EAAK,EAAC,EAAE,iEAAiE,CAAA,2FAKpEA,EAAK,EAAC,EAClB,iEAAgE,CAAA,qDAFrD,OAAAgC,EAAAkO,CAAU,EAAC,kDAAXA,EAAUlO,EAAVkO,CAAU,EAAC,iCAAgC3M,EAAA,iEAPjBvD,EAAK,EAAC,EAAE,yBAAyB,CAAA,CAAA,mBAFtEgC,EAAAkO,CAAU,EAAC,yBAAuBjN,EAAAiE,EAAA,4EAwB9BgJ,CAAU,EAAC,4BAA8B,IAAI,4CACxC,OAAAvP,GAAM,CACbA,EAAE,OACL8C,EAAAyM,EAAAlO,EAAAkO,CAAU,EAAC,2BAA6B,EAAE,EAE1CzM,EAAAyM,EAAAlO,EAAAkO,CAAU,EAAC,2BAA6B,IAAI,CAE7C,mGASSlQ,EAAK,EAAC,EAAE,iEAAiE,CAAA,2FAKpEA,EAAK,EAAC,EAClB,iEAAgE,CAAA,qDAFrD,OAAAgC,EAAAkO,CAAU,EAAC,4CAAXA,EAAUlO,EAAVkO,CAAU,EAAC,2BAA0B3M,EAAA,iEAPXvD,EAAK,EAAC,EAAE,mBAAmB,CAAA,CAAA,qBAFhEkQ,CAAU,EAAC,4BAA8B,MAAIjN,EAAAkE,EAAA,gFAuB7B,OAAAnF,EAAAkO,CAAU,EAAC,4CAAXA,EAAUlO,EAAVkO,CAAU,EAAC,4BAA2B3M,CAAA,+GAQ/CvD,EAAK,EAAC,EAAE,iEAAiE,CAAA,2FAKpEA,EAAK,EAAC,EAClB,iEAAgE,CAAA,qDAFrD,OAAAgC,EAAAkO,CAAU,EAAC,sDAAXA,EAAUlO,EAAVkO,CAAU,EAAC,qCAAoC3M,EAAA,iEAPrBvD,EAAK,EAAC,EAAE,6BAA6B,CAAA,CAAA,mBAF1EgC,EAAAkO,CAAU,EAAC,6BAA2BjN,EAAAoE,EAAA,gFAuBtB,OAAArF,EAAAkO,CAAU,EAAC,uCAAXA,EAAUlO,EAAVkO,CAAU,EAAC,uBAAsB3M,CAAA,+GAQ1CvD,EAAK,EAAC,EAAE,iEAAiE,CAAA,2FAKpEA,EAAK,EAAC,EAClB,iEAAgE,CAAA,qDAFrD,OAAAgC,EAAAkO,CAAU,EAAC,iDAAXA,EAAUlO,EAAVkO,CAAU,EAAC,gCAA+B3M,EAAA,iEAPhBvD,EAAK,EAAC,EAAE,wBAAwB,CAAA,CAAA,mBAFrEgC,EAAAkO,CAAU,EAAC,wBAAsBjN,EAAAC,EAAA,gFAuBjB,OAAAlB,EAAAkO,CAAU,EAAC,kDAAXA,EAAUlO,EAAVkO,CAAU,EAAC,kCAAiC3M,CAAA,mGAQ5C,OAAAvB,EAAAkO,CAAU,EAAC,+CAAXA,EAAUlO,EAAVkO,CAAU,EAAC,+BAA8B3M,CAAA,6FAOnDvD,EAAK,EAAC,EAAE,iEAAiE,CAAA,yFAKpEA,EAAK,EAAC,EAClB,iEAAgE,CAAA,oDAFrD,OAAAgC,EAAAkO,CAAU,EAAC,kDAAXA,EAAUlO,EAAVkO,CAAU,EAAC,iCAAgC3M,EAAA,oHAavCvD,EAAK,EAAC,EAAE,kDAAkD,CAAA,uEACvD,OAAAgC,EAAAkO,CAAU,EAAC,gDAAXA,EAAUlO,EAAVkO,CAAU,EAAC,+BAA8B3M,EAAA,qIAWnDvD,EAAK,EAAC,EAAE,mDAAmD,CAAA,iIAMtDA,EAAK,EAAC,EAAE,6DAA6D,IADtEwD,EAAA9C,GAAA,IAAAsB,EAAAkO,CAAU,EAAC,yCAAwC3M,IAAAE,EAAnDyM,EAAAlO,EAAAkO,CAAU,EAAC,yCAAwC3M,EAAA,CAAA,0DAT/DvD,EAAK,EAAC,EAAE,0CAA0C,CAAA,CAAA,mBAHjDgC,EAAAkO,CAAU,EAAC,gCAA8BjN,EAAA8H,EAAA,0EAuBnC/K,EAAK,EAAC,EAAE,iEAAiE,CAAA,yFAKpEA,EAAK,EAAC,EAClB,iEAAgE,CAAA,oDAFrD,OAAAgC,EAAAkO,CAAU,EAAC,yDAAXA,EAAUlO,EAAVkO,CAAU,EAAC,wCAAuC3M,EAAA,oHAYtDvD,EAAK,EAAC,EAAE,iEAAiE,CAAA,wFAKpEA,EAAK,EAAC,EAClB,iEAAgE,CAAA,oDAFrD,OAAAgC,EAAAkO,CAAU,EAAC,wDAAXA,EAAUlO,EAAVkO,CAAU,EAAC,uCAAsC3M,EAAA,6cA4D5DvD,EAAK,EAAC,EAAE,uEAAuE,wBAF7EmQ,CAAiB,EAAC,OAAS,GAAClN,EAAA4H,EAAA,4BAH7BrK,EAAAuN,EAAK,IAAL,YAAAvN,EAAO,QAAS,SAAOyC,EAAA6H,CAAA,uVAjWuB9K,EAAK,EAAC,EAAE,OAAO,MAKrCA,EAAK,EAAC,EAAE,YAAY,MAyBnBA,EAAK,EAAC,EAAE,kBAAkB,MAIxCA,EAAK,EAAC,EAAE,gBAAgB,MAoBVA,EAAK,EAAC,EAAE,eAAe,MAWvBA,EAAK,EAAC,EAAE,qBAAqB,MAI3CA,EAAK,EAAC,EAAE,gBAAgB,MAoBVA,EAAK,EAAC,EAAE,eAAe,MAalDA,EAAK,EAAC,EAAE,kBAAkB,MA0B1BA,EAAK,EAAC,EAAE,0BAA0B,MAmClCA,EAAK,EAAC,EAAE,sBAAsB,MA0B9BA,EAAK,EAAC,EAAE,iBAAiB,MA0BzBA,EAAK,EAAC,EAAE,4BAA4B,MAQpCA,EAAK,EAAC,EAAE,6BAA6B,MAOCA,EAAK,EAAC,EAAE,yBAAyB,MAiBvEA,EAAK,EAAC,EAAE,yBAAyB,MA4BKA,EAAK,EAAC,EAAE,gCAAgC,MAgBxCA,EAAK,EAAC,EAAE,+BAA+B,MAiB7BA,EAAK,EAAC,EAAE,IAAI,MAO3DA,EAAK,EAAC,EAAE,SAAS,MAuDpBA,EAAK,EAAC,EAAE,MAAM,IAjVAwE,GAAAC,GAAA,IAAAzC,EAAAkO,CAAU,EAAC,WAAU3M,GAAAE,EAArByM,EAAAlO,EAAAkO,CAAU,EAAC,WAAU3M,CAAA,CAAA,EAEhBtD,GAAA,SAAAwE,GAAA,IAAA,MACZyL,CAAU,EAAC,WAAY,CACpB,MAAAxE,EAAQ1J,EAAA8D,CAAM,EAAC,KAAMkL,GAAMA,EAAE,KAAOhP,EAAAkO,CAAU,EAAC,UAAU,EAC3DxE,IACCA,GAAA,YAAAA,EAAO,kBAAmB,MAC7BtL,GAAM,MACLJ,EAAK,EAAC,EACL,oEAAmE,CAAA,EAKtEyD,EAAAyM,IAAAA,CAAU,EAAC,WAAaxE,EAAM,EAAE,GAEhCjI,EAAAyM,EAAAlO,EAAAkO,CAAU,EAAC,WAAa,EAAE,CAE5B,EACA,EAgBW1L,GAAAE,GAAA,IAAA1C,EAAAkO,CAAU,EAAC,oBAAmB3M,GAAAE,EAA9ByM,EAAAlO,EAAAkO,CAAU,EAAC,oBAAmB3M,CAAA,CAAA,EAEzBtD,GAAA,SAAAyE,GAAA,IAAA,MACZwL,CAAU,EAAC,oBAAqB,CAC7B,MAAAxE,EAAQ1J,EAAA8D,CAAM,EAAC,KAAMkL,GAAMA,EAAE,KAAOhP,EAAAkO,CAAU,EAAC,mBAAmB,EACpExE,IACCA,GAAA,YAAAA,EAAO,kBAAmB,MAC7BtL,GAAM,MACLJ,EAAK,EAAC,EACL,oEAAmE,CAAA,EAKtEyD,EAAAyM,IAAAA,CAAU,EAAC,oBAAsBxE,EAAM,EAAE,GAEzCjI,EAAAyM,EAAAlO,EAAAkO,CAAU,EAAC,oBAAsB,EAAE,CAErC,EACA,EA0OejQ,GAAA,QAAAc,GAAA,IAAA,EACXiB,EAAAoN,CAAO,EAAC,SAAW,KAAKA,CAAO,EAAC,GAAE,EAAG,EAAE,UAAY,OACtDA,EAAO,MACHA,CAAO,GAET,GAAIqC,GAAM,EACV,KAAM,GACN,MAAO,GACP,QAAS,GACT,YAAa,GACb,UAAW,KAAK,MAAM,KAAK,IAAG,EAAK,GAAI,KAI1C,EAtV0BxR,GAAA,SAAAiB,EAAAC,GAAA,IAAA,CAC/BiP,IACAnI,EAAS,MAAM,CACf,CAAA,CAAA,sFANEnC,CAAM,IAAK,MAAI9D,EAAIkO,CAAU,EAAAjN,EAAAkI,EAAA,EAAAlI,EAAAE,GAAA,EAAA,sBAFlC,iVCvGA,6EAIOnE,GAAOC,GAAW,MAAM,MAMnByS,EAAQvS,GAAAC,GAAA,WAAA,GAAA,IAAA,CAAA,CAAA,EAEfiQ,GAAW,KACXsC,IAAmB,IAAI,EAErB,MAAApC,EAA8B,IAAA,OAC7BqC,EAAY,MAAM,OAAKD,CAAgB,EAAC,QAAQ,EAAE,IAAKlC,GAC5DA,EAAM,GAAG,QAAQ,cAAe,EAAE,CAAA,EAGnCiC,EAAWE,CAAS,GAOfhC,EAAa,IAAA,CACdP,IACHA,GAAS,QAAO,EAGbrN,EAAA2P,CAAgB,IACnBtC,GAAQ,IAAOQ,GAAQ7N,EAAC2P,CAAgB,EAAA,CACvC,UAAW,IACX,OAAQ,qBACR,SAAQ,MAAS7B,GAAU,CAC1BP,GACD,0BAfImC,EAAQ,GACd9B,wDAsBOxM,GAAA2M,EAAA,EAAA2B,GAAYG,GAAOC,KAAA,GAAeD,EAAO,IAAIC,EAAQ,OAAzCD,KAAO,oDAENA,EAAO,+LAFRA,EAAO,QAQnBE,IAAQ,KAAMrG,IAAUA,GAAM,KAAE1J,EAAK6P,EAAO,CAAA,EAAE,IAAI,6CAElDA,EAAO,CAAA,CAAA,0BAVKA,EAAO,QAOhBE,IAAQ,KAAMrG,IAAUA,GAAM,KAAE1J,EAAK6P,EAAO,CAAA,CAAA,gGANwBA,EAAO,GAAA,EAAA,EAAA,CAAA,kBAFjC5B,GAAAF,EAAAxM,IAAA1B,EAAA8P,YAAAA,CAAgB,CAAA,0EAqBnE3R,EAAK,EAAC,EAAE,iBAAiB,CAAA,wBAxDhB0R,EAAQ,CAAA,QAkCfA,IAAS,OAAS,CAAC,kCAFxB,4mBC1CA,mDAEO1S,GAAOC,GAAW,MAAM,EAInB,IAAA+S,mBAAQ,EAAE,EACVlM,EAAM3G,GAAAC,GAAA,SAAA,GAAA,IAAA,CAAA,CAAA,EACNsS,GAAQvS,GAAAC,GAAA,WAAA,GAAA,IAAA,CAAA,CAAA,EAEf6S,IAAkB,EAAE,wFAcTA,CAAe,uFASpB7O,GAAAyK,GAAA,EAAA/H,QAAU4F,IAAK,mFAALA,CAAK,EAAAnL,EAAA,IAAAyB,EAE0C0J,CAAK,EAAC,IAAI,gBAFzDA,CAAK,EAAAnL,EAAA,IAAAyB,EAEL0J,CAAK,EAAC,EAAE,4BAFRA,CAAK,EAAAnL,EAAA,IAAAyB,EAEL0J,CAAK,EAAC,EAAE,KAAA,yBA3BjBgG,GAAQ,CAAA,IAyBChG,CAAK,EACfnL,EAAA,IAAA,CAAAmR,KAAS,SAAS1P,EAAA0J,CAAK,EAAC,EAAE,CAAA,oEAW1BtI,GAAA8O,EAAA,EAAAR,UAAYG,EAAOC,KAAA,sJAtClBhM,EAAM,CAAA,IAsCK+L,CAAO,QAGtB,OAAA,OAAArR,EAAAsF,IAAO,KAAM4F,IAAUA,GAAM,KAAE1J,EAAK6P,CAAO,CAAA,IAA3C,YAAArR,EAA8C,KAAI,KAKlCP,GAAA,QAAAc,GAAA,IAAA,CACf2Q,GAAWA,GAAQ,EAAC,OAAM,CAAES,EAAG/L,KAAQA,KAAQ0L,EAAQ,CAAA,EACvD,uFAUJ9R,EAAK,EAAC,EAAE,oBAAoB,CAAA,yBAzDrB0R,GAAQ,CAAA,QAmCbA,KAAS,OAAS,CAAC,sCA3BaM,GAAK,CAAA,6EAK+BC,CACpE,EAAA,GACA,eAAe,0EAAA,2BASAjS,EAAK,EAAC,EAAE,gBAAgB,CAAA,KAR9BwE,GAAAC,EAAA,IAAAzC,EAAAiQ,CAAe,OAAfA,EAAe1O,CAAA,CAAA,EACVtD,GAAA,SAAAwE,EAAA,IAAA,CACZzC,EAAAiQ,CAAe,IAAKP,GAAQ,EAAC,SAAQ1P,EAACiQ,CAAe,CAAG,GAC3DP,GAAQ,CAAA,GAAOA,GAAQ,EAAA1P,EAAEiQ,CAAe,CAAA,CAAA,EAEzCpQ,EAAAoQ,EAAkB,EAAE,EACpB,kBAnBL,olGCXA,6EAEOjT,GAAOC,GAAW,MAAM,EACxBgJ,EAAWC,KAcN,IAAAyE,mBAAO,EAAK,EACZyF,iBAAO,EAAK,EAEZ1G,kBAAQ,IAAI,EAEnB2G,IAAO,EAAE,EACTvE,IAAK,EAAE,EAML,MAAAwE,EAAmB,IAAA,CACnBF,EAAI,KACRtE,EAAE9L,EAAGqQ,GACH,YAAW,EACX,QAAQ,aAAc,GAAG,EACzB,QAAQ,MAAO,GAAG,EAClB,QAAQ,SAAU,EAAE,CAAA,GAIpB,IAAAE,OAAqBC,EAAc,cAAA,EACnCC,IAAc,EAAE,EAEhBR,IAAkB,EAAE,EACpBP,EAAQjQ,EAAA,CAAA,CAAA,EACRiR,KAAa,SAAS,EAEtBC,GAAalR,EAAA,CAAA,CAAA,EAEbmR,GAAiBnR,IACjB2L,KAAU,EAAK,EACfyF,IAA0B,EAAK,EAE7B,MAAAC,EAAwB,IAAA,CACzB9Q,EAAAiQ,CAAe,MAClBP,EAAQ,CAAA,GAAA1P,EAAO0P,CAAQ,EAAA1P,EAAEiQ,CAAe,CAAA,CAAA,EACxCpQ,EAAAoQ,EAAkB,EAAE,IAIhBc,EAAsB,IAAA,IAC3BlR,EAAAuL,GAAU,EAAI,KAETiF,CAAI,GAAA,CAAArQ,EAAK8L,CAAE,EAAE,CACjBjM,EAAAuL,GAAU,EAAK,EACfhN,GAAM,MAAMJ,EAAK,EAAC,EAAE,gDAAgD,CAAA,QAErE,CAEK,GAAA,CAAAoS,EAAI,GACJL,EAAO,EAAC,KAAMrG,GAAUA,EAAM,OAAS1J,EAAAqQ,CAAI,CAAG,EAAA,CACjDxQ,EAAAuL,GAAU,EAAK,EACfvL,EAAAwQ,EAAO,EAAE,EACTjS,GAAM,MAAMJ,EAAK,EAAC,EAAE,0DAA0D,CAAA,QAE/E,OAGK0L,EAAK,CACV,KAAIoC,CAAE,EACN,OAAMuE,CAAI,EACV,KAAI,CACH,oBAAmBE,CAAe,EAClC,YAAWvQ,EAAEyQ,CAAW,GAAI,KAC5B,UAASzQ,EAAE0P,CAAQ,EAAC,OAAS,EAAC1P,EAAG0P,CAAQ,EAAG,KAC5C,YAAa1P,EAAA0P,CAAQ,EAAC,OAAS,GAAK1P,EAAA0Q,EAAU,EAAG1Q,EAAA0Q,EAAU,EAAW,KACtE,eAAgB1Q,EAAA2Q,EAAA,IAIlB1K,EAAS,SAAUyD,CAAK,EACxB7J,EAAAuL,GAAU,EAAK,EACfT,GAAO,EAAK,EAEZ9K,EAAAwQ,EAAO,EAAE,EACTxQ,EAAAiM,EAAK,EAAE,EACPjM,EAAA0Q,KAAqBC,EAAc,cAAA,EACnC3Q,EAAA4Q,EAAc,EAAE,IAChBf,EAAQ,CAAA,CAAA,EACR7P,EAAAoQ,EAAkB,EAAE,GAGfe,GAAkB,IAAA,OACnBtH,EAAK,MACR2G,EAAO3G,EAAK,EAAC,IAAI,IACjBoC,EAAKpC,EAAK,EAAC,EAAE,EACb7J,EAAA0Q,EAAkB7G,EAAM,EAAA,KAAK,iBAAiB,EAC9C7J,EAAA4Q,EAAc/G,EAAM,EAAA,KAAK,WAAW,EACpC7J,EAAA6P,EAAWhG,EAAK,EAAC,KAAK,WAAS,CAAA,CAAA,EAC/B7J,EAAA6Q,KAAalS,EAAAkL,EAAK,EAAC,OAAN,YAAAlL,EAAY,cAAe,SAAS,IACjDmS,GAAgB,mBAAoBjH,IAAM,KAAOA,EAAK,EAAC,KAAK,eAAc,CAAA,CAAA,IAQ5E3L,GAAc,IAAA,CACbiT,KACA,mBA9FMhR,EAAAqQ,CAAI,GACVC,2BAuFM3F,GAAI,GACVqG,+DASUH,CAAuB,iBAAvBA,EAAuBtP,CAAA,aAChB,QAAA,IAAA,CACjB0E,EAAS,SAAUyD,EAAK,CAAA,EACxBiB,GAAO,EAAK,CACZ,sMAQI3M,EAAK,EAAC,EAAE,kBAAkB,CAAA,6DAE1BA,EAAK,EAAC,EAAE,iBAAiB,CAAA,qBAHtBoS,EAAI,EAAAnP,EAAAiE,EAAA,EAAAjE,EAAAE,GAAA,EAAA,iDAYS,QAAQ,CAAA,wEAeX8M,GAAAvP,GAAA6C,GAAA1B,EAAA+Q,YAAAA,EAAiB,CAAA,knBAwJxB5S,IAAM,EAAE,SAAS,CAAA,EAAA,CAAA,0DAEjBA,IAAM,EAAE,SAAS,CAAA,EAAA,CAAA,mBAHdgC,EAAA0Q,EAAU,IAAK,UAASzP,EAAAkE,EAAA,EAAAlE,EAAAmE,GAAA,EAAA,4DAWvBhE,GAAA6P,EAAA,EAAA,IAAAjR,EAAA0P,CAAQ,SAAIG,GAAOC,KAAA,4JAAPD,EAAO,QAGtB,OAAA,OAAArR,EAAAuR,IAAQ,KAAMrG,GAAUA,EAAM,KAAE1J,EAAK6P,EAAO,CAAA,IAA5C,YAAArR,EAA+C,KAAI,KAKnCP,GAAA,QAAAI,GAAA,IAAA,GACfqR,EAAQ1P,EAAG0P,CAAQ,EAAC,OAAM,CAAES,EAAG/L,IAAQA,IAAQ0L,EAAQ,CAAA,EACvD,2FAUJ9R,EAAK,EAAC,EAAE,6DAA6D,CAAA,sBA5S1EgC,EAAA0P,CAAQ,EAsRDnR,EAAA,IAAAyB,EAAA0P,CAAQ,EAAC,OAAS,CAAC,EAAAzO,EAAAoE,EAAA,EAAApE,EAAAqE,GAAA,EAAA,2CAkCX2K,CAAe,+GAGpBF,EAAO,EAAC,OAAQf,IAAMA,GAAA,YAAAA,EAAG,YAAa,OAAO,CAAA,SAAKtF,EAAK4C,GAAArH,KAAA,uDAALyE,CAAK,EAAAnL,EAAA,IAAAyB,EACC0J,CAAK,EAAC,IAAI,cADhBA,CAAK,EAAAnL,EAAA,IAAAyB,EAC9C0J,CAAK,EAAC,EAAE,8BADiCA,CAAK,EAAAnL,EAAA,IAAAyB,EAC9C0J,CAAK,EAAC,EAAE,KAAA,2NA0BvB1L,IAAM,EAAE,QAAQ,CAAA,EAAA,CAAA,EAJDC,GAAA,QAAA0O,EAAA,IAAA,CACf9M,EAAAgR,EAA0B,EAAI,EAC9B,mBANET,EAAI,GAAAnP,EAAAC,EAAA,sGAqBHkK,EAAO,GAAAnK,EAAA8H,EAAA,iFAvKLwH,CAAe,CAAA,4EAyCTH,wHAgF2DH,CACpE,EAAA,GACA,eAAe,0EAAA,gNAoC+K7E,EAC/L,EAAA,sBACA,EAAE,EAAA,gBAEKA,EAAO,sCAnJ4BpN,EAAK,EAAC,EAAE,MAAM,CAAA,kBAO3CA,EAAK,EAAC,EAAE,YAAY,CAAA,kBAQSA,EAAK,EAAC,EAAE,IAAI,CAAA,kBAOzCA,EAAK,EAAC,EAAE,UAAU,CAAA,kBAUQA,EAAK,EAAC,EAAE,aAAa,CAAA,kBAOhDA,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAgBLA,EAAK,EAAC,EAAE,QAAQ,CAAA,kBAuDlCA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAuC1CA,EAAK,EAAC,EAAE,MAAM,CAAA,KA9PFC,GAAA,QAAAc,GAAA,IAAA,CACf4L,GAAO,EAAK,EACZ,EAqBe1M,GAAA,SAAAS,GAAAC,GAAM,CACX,MAAAuS,EAAQvS,EAAE,OAAO,OAAK,CAAA,EACxB,IAAAE,OAAa,WACjBA,GAAO,OAAUiP,IAAU,CACtB,IAAAqD,GAAsB,GAAArD,GAAM,OAAO,MAAM,GAEvC,MAAAsD,OAAU,MAChBA,GAAI,IAAMD,GAEVC,GAAI,OAAqB,UAAA,CAClB,MAAAC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAMD,EAAO,WAAW,IAAI,EAG5BE,GAAcH,GAAI,MAAQA,GAAI,OAGhC,IAAAI,GAAUC,GACVF,GAAc,GACjBC,GAAW,IAAMD,GACjBE,GAAY,MAEZD,GAAW,IACXC,GAAY,IAAMF,IAInBF,EAAO,MAAQ,IACfA,EAAO,OAAS,IAGV,MAAAK,GAAW,IAAMF,IAAY,EAC7BG,GAAW,IAAMF,IAAa,EAGpCH,EAAI,UAAUF,GAAKM,EAASC,EAASH,GAAUC,EAAS,EAGlD,MAAAG,EAAgBP,EAAO,UAAU,aAAc,EAAG,EAGxDxR,EAAA0Q,EAAkBqB,CAAa,EAE/BjT,EAAE,OAAO,MAAQ,OAKlBuS,EAAM,OAAS,IACd,YAAa,aAAc,aAAc,WAAW,EAAE,SACtDA,EAAM,CAAC,EAAE,IAET,GACDrS,GAAO,cAAcqS,EAAM,CAAC,CAAA,EAE7B,EAMejT,GAAA,QAAAe,GAAA,IAAA,CACfgB,EAAA4Q,EAAiB,EAAC,QAClB,EAyBapP,EAAAE,GAAA,IAAA1B,EAAAqQ,CAAI,OAAJA,EAAI9O,CAAA,CAAA,EAeJC,EAAAmB,GAAA,IAAA3C,EAAA8L,CAAE,OAAFA,EAAEvK,CAAA,CAAA,EAiBHC,EAAAU,GAAA,IAAAlC,EAAAyQ,CAAW,OAAXA,EAAWlP,CAAA,CAAA,EAuBNtD,GAAA,QAAAC,GAAA,IAAA,CACf2B,EAAA6Q,KAAaA,EAAU,IAAK,UAAY,UAAY,SAAS,EAC7D,EA6CSlO,GAAAC,GAAA,IAAAzC,EAAAiQ,CAAe,OAAfA,EAAe1O,CAAA,CAAA,EAWVtD,GAAA,QAAAK,GAAA,IAAA,CACfwS,IACA,EAtN2B7S,GAAA,SAAAiB,GAAAC,GAAA,IAAA,CAC/B4R,GACA,CAAA,CAAA,+DApCN,ksBCxHA,WAEO,MAAA9K,EAAWC,KACJjJ,GAAW,MAAM,MAKnByM,EAAKvM,GAAAC,GAAA,QAAA,CAAA,EAEZyU,IAAY,EAAK,wCAKf,+CADKA,CAAS,iBAATA,EAAStQ,CAAA,aAGF,OAAA,MAAA5C,GAAM,CACvBsH,EAAS,OAAQtH,EAAE,MAAM,CACzB,EACsB,OAAA,SAAA,CACtBsH,EAAS,QAAQ,CACjB,sPAfQ6L,EAAkB,KAChBpI,EAAK,CAAA,WAsBJoI,EAAkB,kCAAkCpI,EAAK,EAAC,EAAE,EAAA,kBAtB7DA,EAAK,CAAA,EAAAnL,EAAA,IAuBPmL,IAAM,IAAI,EAAA,UAvBRA,EAAK,CAAA,EAAAnL,EAAA,IA8BTmL,EAAK,EAAC,IAAI,aA9BNA,EAAK,CAAA,EAoCTnL,EAAA,IAAA,SAAA,QAAAiC,GAAAhC,EAAAkL,MAAA,YAAAlL,EAAO,OAAP,YAAAgC,EAAa,cAAekJ,IAAM,GAAE,MAWxBzL,GAAA,QAAAc,GAAA,IAAA,CACfc,EAAAgS,EAAY,EAAI,EAChB,eA9CL,ixCCXA,6EAIO7U,GAAOC,GAAW,MAAM,EACbiJ,GAAqB,EAmB3B,IAAAyE,kBAAO,EAAK,EACZoH,GAAW5U,GAAAC,GAAA,cAAA,EAAA,IAAS,CAAA,CAAE,EAE7BV,IAAS,IAAI,EAGbsV,EAAevS,EAAA,CAAA,CAAA,EAGfwS,EAAqBxS,EAAA,CAAA,CAAA,EAErBiQ,EAAQjQ,EAAA,CAAA,CAAA,EAERyS,IAAU,EAAE,EACZC,IAAY,EAAE,EAEd/G,IAAU,EAAK,EACfgH,IAAiB,EAAK,EAKpB,MAAAxE,EAAmB,SAAA,eACxB/N,EAAAnD,EAAe,MAAA2V,GAAgB,aAAa,KAAK,CAAA,QAE7C3V,CAAM,aAAE,eACXmD,EAAAmS,GAAmBhS,EAAAA,EAAAtD,CAAM,IAANsD,YAAAA,EAAQ,eAAgB,MAAM,KAAK,OAAQ8L,GAAOA,EAAE,IAEvEkG,EAAe,CAAA,CAAA,QAGZtV,CAAM,aAAE,sBACXmD,EAAAoS,GAAyBjS,EAAAA,EAAAtD,CAAM,IAANsD,YAAAA,EAAQ,sBAAuB,MAAM,KAAK,OAAQ8L,GAAOA,EAAE,IAEpFmG,EAAqB,CAAA,CAAA,QAGhBK,EAActS,EAAGtD,CAAM,EAAC,kBAAgB,CAAA,EACxC6V,EAAcxC,IAAQ,IAAKrG,GAAUA,EAAM,EAAE,EAG7C8I,EAAU,IAAO,IAAIF,CAAc,IAEzC5C,EAAQ,CAEJ,GAAA4C,EAAe,OAAQxG,GAAO0G,EAAW,IAAI1G,CAAE,GAAKyG,EAAY,SAASzG,CAAE,CAAA,KAE3EyG,EAAY,OAAQzG,IAAQ0G,EAAW,IAAI1G,CAAE,GAAG,KAAI,CAAE3D,EAAGC,IAAMD,EAAE,cAAcC,CAAC,CAAA,IAGpFvI,EAAAqS,EAAU,EAAE,EACZrS,EAAAsS,EAAY,EAAE,GAETpB,GAA4B,SAAA,CACjClR,EAAAuL,EAAU,EAAI,EAEI,MAAAqH,GAAgB,aAAa,MAAK,CACnD,eAAgBzS,EAAAgS,CAAe,EAAC,KAAK,GAAG,EACxC,sBAAuBhS,EAAAiS,CAAqB,EAAC,KAAK,GAAG,EACrD,iBAAkBjS,EAAA0P,CAAA,KAIlBtR,GAAM,QAAQJ,EAAK,EAAC,EAAE,yCAAyC,CAAA,EAC/D+T,GAAW,EAAA,EACXpH,EAAO,EAAK,GAEZvM,GAAM,MAAMJ,EAAK,EAAC,EAAE,qCAAqC,CAAA,EAG1D6B,EAAAuL,EAAU,EAAK,GAGhBrN,GAAoB,SAAA,CACnB6P,IACA,sBAxDMjD,EAAI,GACViD,6DA2DM5P,EAAK,EAAC,EAAE,kBAAkB,CAAA,EAAA,qBACxBA,EAAK,EAAC,EAAE,2EAA2E,CAAA,+DAErE,UAAA,SAAA,CACV0U,GAAgB,aAAa,KAAK,IAE7CtU,GAAM,QAAQJ,EAAK,EAAC,EAAE,iCAAiC,CAAA,EACvD+T,GAAW,EAAA,EAEZ,sBAPUK,CAAc,iBAAdA,EAAc7Q,CAAA,0LAsBJ,QAAQ,CAAA,iQA0CdvB,EAAAmS,CAAS,IAAK,MAAKlR,GAAAiE,EAAA,EAAAjE,GAAAE,GAAA,EAAA,uGAFrBnB,EAAAkS,CAAO,IAAK,QAAOjR,GAAAkE,EAAA,EAAAlE,GAAAmE,GAAA,EAAA,qJAsBnBpH,EAAK,EAAC,EAAE,gBAAgB,CAAA,EAAA,uDACvB+R,EAAO,2BACAiC,CAAe,sBAAfA,EAAezQ,EAAA,yDAMvBvD,EAAK,EAAC,EAAE,uBAAuB,CAAA,EAAA,uDAC9B+R,EAAO,2BACAkC,CAAqB,sBAArBA,EAAqB1Q,EAAA,kEAIlBvD,EAAK,EAAC,EAAE,qDAAqD,CAAA,uHAS5EA,EAAK,EAAC,EAAE,kBAAkB,CAAA,KALXC,GAAA,QAAAC,GAAA,IAAA,CACf2B,EAAAuS,EAAiB,EAAI,EACrB,4IAgBGhH,CAAO,GAAAnK,GAAAoE,EAAA,kPARsL+F,CAC/L,EAAA,sBACA,EAAE,EAAA,gBAEKA,CAAO,sCAxDoBpN,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBA0D5DA,EAAK,EAAC,EAAE,MAAM,CAAA,KA9EEC,GAAA,QAAAe,EAAA,IAAA,CACfa,EAAAqS,EAAU,OAAO,IAEbC,CAAS,IAAK,MACjBtS,EAAAsS,EAAY,MAAM,EAElBtS,EAAAsS,EAAY,KAAK,EAGlBtS,EAAA6P,EAAW1P,EAAA0P,CAAA,EACT,OAAQ5D,IAAOA,KAAO,EAAE,EACxB,KAAI,CAAE3D,GAAGC,KAAM,WACT,MAAAuK,KAAQnU,GAAAuR,IAAQ,KAAMrG,IAAUA,GAAM,KAAOvB,EAAC,IAAtC,YAAA3J,GAAyC,OAAQ2J,GACzDyK,KAAQpS,GAAAuP,IAAQ,KAAMrG,IAAUA,GAAM,KAAOtB,EAAC,IAAtC,YAAA5H,GAAyC,OAAQ4H,GACxD,OAAApI,EAAAmS,CAAS,IAAK,OAClBQ,GAAM,cAAcC,EAAK,EACzBA,GAAM,cAAcD,EAAK,CAC5B,CAAA,CAAA,EACF,EA3B4B1U,GAAA,SAAAiB,GAAAC,GAAA,IAAA,CAC/B4R,IACA,CAAA,CAAA,gGALErU,CAAM,EAAAuE,GAAAC,EAAA,EAAAD,GAAAqE,EAAA,EAAA,mDAdVtH,IAAM,EAAE,UAAU,CAAA,EAAA,CAAA,EAIHC,GAAA,QAAAc,EAAA,IAAA,CACf4L,EAAO,EAAK,EACZ,+DAzBL;;;;;;;;;;;;;;;;;;ymICpGA,mJAGO3N,GAAOC,GAAW,MAAM,MAuB1B4V,EAAyCpT,IACzCqT,IAAyB,EAAK,EAE9B1H,IAAU,EAAI,EAGP2H,mBAAwB,IAAI,EAEnCC,EAAYvT,EAAA,CAAA,CAAA,EAEZwT,IAAgB,IAAI,EACpBC,IAAiB,IAAI,EACrBC,EAAuB,CAAA,EACvBC,EAAkB,GAClBC,KAAyB,EAAK,EAE5B,MAAAC,GAAyB,EAE3B,IAAAC,KAAe,EAAK,EACpBC,KAAW,EAAE,EAEbC,IAAqB,EAAK,EAC1BC,IAAkB,EAAE,EACpBC,IAAoB,EAAE,EAEtBC,KAAoB,EAAE,EACtBC,IAA0B,IAAI,EAE9BC,GAAS,GACTC,EAAe,KAEfC,IAAkB,MAAM,EACxBC,IAAgC,IAAI,EACpCC,KAAe,EAAE,EACjBC,GAAgB1U,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAA,EAChB2U,KAAkB,EAAE,EAEpBC,IAAiB,IAAI,EACrBC,KAAgB,EAAE,EAElBC,KAAiB,EAAE,EAEjB,MAAAC,GAAkC,SAAA,CACvCpB,EAAkB,GAClBhV,GAAM,KAAK,+BAA+B,YAE/BsL,MAAK1J,EAAIgT,CAAY,EAAE,CAC7B,GAAAI,UAMJH,EAAgBvJ,GAAM,EAAE,EACjB,KAAA,CAAApN,GAAKmY,EAAU,EAAA,MAAUC,GAAU,aAAa,MAAOhL,GAAM,GAAIqJ,EAAM,GAAE,MAC9E1W,KACIA,GAAM,OAAS,cAClB+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EAEb,CAAA,KAAM,IAAI,EACnB,EAQG,GALJ8W,MACIA,EAAuB,CACzBzJ,GAAM,EAAE,EAAG+K,IAGTnY,GAAK,CACF,MAAAuC,GAASvC,GAAI,KACjB,YAAgB,IAAA,iBAChB,EAAA,YAAYqY,GAAY;AAAA,CAAI,GAC5B,UAAS,EAEJ,OACF,GAAA,CACK,KAAA,CAAA,MAAA/J,GAAO,KAAAgK,EAAI,EAAW,MAAA/V,GAAO,KAAI,KACrC+V,GAAI,MAEJ,IAAAC,GAAQjK,GAAM,MAAM;AAAA,CAAI,YAEjBkK,MAAQD,MACdC,KAAS,GAAI,CACZ,IAAAC,GAAO,KAAK,MAAMD,EAAI,KAGtBC,GAAK,MACF,MAAAA,GAAK,SAERA,GAAK,OACF,MAAAA,GAAK,OAERA,GAAK,QACJA,GAAK,SACRlV,EAAAqT,EAAiB,CAAC,EACd6B,GAAK,UACRlV,EAAAqT,EAAiB,KAAK,MAAO6B,GAAK,UAAYA,GAAK,MAAS,GAAI,EAAI,EAAE,EAEtElV,EAAAqT,EAAiB,GAAG,EAIxB,CAED,OAAQ1W,GAAK,CACTA,GAAI,UAIT,CAEF,QAEO2W,EAAwBzJ,GAAM,EAAE,EACvCyJ,MAA+BA,EAChC,CAEIC,EACHhV,GAAM,KAAK,wBAAwB,EAEnCA,GAAM,QAAQ,2BAA2B,EAE1CyB,EAAAoT,EAAgB,IAAI,EACpBpT,EAAAqT,EAAiB,IAAI,GAGhB8B,EAA+B,SAAA,uBAC9BC,GAAiBjV,EAAGwT,EAAQ,EAAC,KAAI,EAAG,QAAQ,0BAA2B,EAAE,KACnE0B,EAAoB,EAC5BA,EAAoB,EAACD,EAAiB,EAAG,CAC5C7W,GAAM,MACLJ,IAAM,EAAC,4DAAA,CACN,SAAUiX,EAAA,CAAA,CAAA,QAIb,IACI,OAAO,KAAKC,KAAsB,SAAW5B,GAAwB,CACxElV,GAAM,MACLJ,EAAK,EAAC,EAAE,+EAA+E,CAAA,QAGzF,CAEA6B,EAAA0T,GAAe,EAAI,EACZ,KAAA,CAAAjX,GAAKmY,EAAU,EAAA,MAAUC,GAAU,aAAa,MAAOO,GAAmBlC,EAAM,CAAA,EAAE,MACvF1W,KACIA,GAAM,OAAS,cAClB+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EAEb,CAAA,KAAM,IAAI,EACnB,EAGG,GAAAC,GAAK,CACF,MAAAuC,GAASvC,GAAI,KACjB,YAAgB,IAAA,iBAChB,EAAA,YAAYqY,GAAY;AAAA,CAAI,GAC5B,UAAS,EAYJ,IAVPQ,GAAoB,IAAG,IACnBD,EAAoB,GACtBD,EAAiB,EAAA,CACd,GAAAC,IAAqBD,EAAiB,EACzC,gBAAiBR,GACjB,OAAA5V,GACA,KAAM,QAKH,GAAA,CACK,KAAA,CAAA,MAAA+L,GAAO,KAAAgK,EAAI,EAAW,MAAA/V,GAAO,KAAI,KACrC+V,GAAI,MAEJ,IAAAC,GAAQjK,GAAM,MAAM;AAAA,CAAI,YAEjBkK,MAAQD,MACdC,KAAS,GAAI,CACZ,IAAAC,GAAO,KAAK,MAAMD,EAAI,KAEtBC,GAAK,MACF,MAAAA,GAAK,SAERA,GAAK,OACF,MAAAA,GAAK,UAGRA,GAAK,UACJA,GAAK,OAAQ,CACZ,IAAAK,GAAmB,EACnBL,GAAK,UACRK,GAAmB,KAAK,MAAOL,GAAK,UAAYA,GAAK,MAAS,GAAI,EAAI,GAEtEK,GAAmB,IAGpBD,GAAoB,IAAG,IACnBD,EAAoB,GACtBD,EAAiB,EAAA,CACd,GAAAC,IAAqBD,EAAiB,EACzC,aAAcG,GACd,OAAQL,GAAK,SAGhB,MACCI,GAAoB,IAAG,IACnBD,EAAoB,GACtBD,EAAiB,EAAA,CACd,GAAAC,IAAqBD,EAAiB,EACzC,KAAMF,GAAK,SAAW,YAK3B,CAED,OAAQvY,GAAK,CACT,GAAAA,GAAI,OAAS,oBAELA,IAAQ,WAClBA,GAAMA,GAAI,SAGX4B,GAAM,MAAK,GAAI5B,EAAG,EAAA,YAKpB,CAGW0Y,IAAqBD,EAAiB,GAE9CzW,GAAA0W,EAAqB,EAAAD,EAAiB,IAAtC,MAAAzW,GAAyC,MAC5CJ,GAAM,QACLJ,IAAM,EAAC,0DAAA,CACN,UAAWiX,EAAA,CAAA,CAAA,EAIbnR,GAAO,IAAG,MACHC,GACL,aAAa,QACbC,IAAAxD,GAAA/B,EAAO,IAAP,YAAA+B,GAAS,WAAT,YAAAwD,GAAmB,+BAA8BC,GAAAC,GAAW,IAAX,YAAAD,GAAW,oBAAqB,KAAI,CAAA,GAIvF7F,GAAM,MAAMJ,EAAK,EAAC,EAAE,mBAAmB,CAAA,EAGjC,OAAAkX,EAAoB,EAACD,EAAiB,EAE7CE,GAAoB,IAAG,CAAA,GACnBD,EAAC,CAAA,CAAA,CAEN,CAEArV,EAAA2T,GAAW,EAAE,EACb3T,EAAA0T,GAAe,EAAK,GAGf8B,EAAiC,SAAA,cACtCxV,EAAA0T,GAAe,EAAI,EAEf,IAAA+B,GAAW,GACXC,GAAe,KACflF,GAAO,QAEP2D,CAAe,IAAK,OAAQ,CACzB,MAAApV,KAAOqV,CAAc,EAAAjU,EAAGiU,CAAc,EAAC,CAAC,EAAI,KAE9CrV,KACHiB,EAAAyU,GAAgB,cAAc,EAE9BiB,GAAqB,MAAAC,GAAY,aAAa,MAAO5W,GAAMmU,GAAM,EAAE,MAAO1W,KACzE+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,EAEH,MACCwD,EAAAwU,EAAiB,CAAC,EAClBkB,GAAqB,MAAAE,GAAc,aAAa,MAAKzV,EAAEkU,EAAY,EAAEnB,EAAM,CAAA,EAAE,MAC3E1W,KACA+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACR,EAIE,GAAAkZ,IAAgBA,GAAa,GAAI,CAC9B,MAAA1W,GAAS0W,GAAa,KAC1B,YAAgB,IAAA,iBAChB,EAAA,YAAYZ,GAAY;AAAA,CAAI,GAC5B,UAAS,EAEJ,OAAM,CACJ,KAAA,CAAA,MAAA/J,GAAO,KAAAgK,EAAI,EAAW,MAAA/V,GAAO,KAAI,KACrC+V,GAAI,MAEJ,GAAA,CACC,IAAAC,GAAQjK,GAAM,MAAM;AAAA,CAAI,YAEjBkK,MAAQD,MACdC,KAAS,GAAI,KACZC,GAAO,KAAK,MAAMD,GAAK,QAAQ,UAAW,EAAE,CAAA,KAE5CC,GAAK,WACJ/U,EAAAsU,EAAa,GAChBzU,EAAAyU,GAAgB,EAAE,IAEnBD,EAAiBU,GAAK,QAAQ,GAG3BA,GAAK,MACF,MAAAA,GAAK,MAGRA,GAAK,SACRX,GAAkBW,GAAK,IAAI,EAC3B1E,GAAO0E,GAAK,KACZO,GAAW,GAEb,CAED,OAAQ9Y,GAAK,CAEd,CACD,CACD,KAAO,OACAH,GAAK,MAASkZ,IAAA,YAAAA,GAAc,QAClCnX,GAAM,OAAM/B,IAAA,YAAAA,GAAO,SAAUA,EAAK,CACnC,CAEI,GAAAiZ,GAAU,OACPhZ,GAAG,MAASoZ,GACjB,aAAa,MAAK,GACfrF,EAAI,UAAA,SAAArQ,EACEoU,EAAe,CAAA;AAAA,EAAApU,EAAKmU,EAAgB,CAAA,EAAA,EAG1C,GAAA7X,IAAOA,GAAI,GAAI,CACZ,MAAAuC,GAASvC,GAAI,KACjB,YAAgB,IAAA,iBAChB,EAAA,YAAYqY,GAAY;AAAA,CAAI,GAC5B,UAAS,EAEJ,OAAM,CACJ,KAAA,CAAA,MAAA/J,GAAO,KAAAgK,EAAI,EAAW,MAAA/V,GAAO,KAAI,KACrC+V,GAAI,MAEJ,GAAA,CACC,IAAAC,GAAQjK,GAAM,MAAM;AAAA,CAAI,YAEjBkK,MAAQD,MACdC,KAAS,GAAI,CAEZ,IAAAC,GAAO,KAAK,MAAMD,EAAI,KAGtBC,GAAK,MACF,MAAAA,GAAK,SAERA,GAAK,OACF,MAAAA,GAAK,OAGRA,GAAK,SAEN,CAAAA,GAAK,QAAM,CACXA,GAAK,OAAO,SAAS,SAAS,GAAA,CAC9BA,GAAK,OAAO,SAAS,QAAQ,EAE9B3W,GAAM,QAAQ2W,GAAK,MAAM,EAErBA,GAAK,SACRjB,GAASiB,GAAK,OAEVA,GAAK,UACRhB,EAAe,KAAK,MAAOgB,GAAK,UAAYA,GAAK,MAAS,GAAI,EAAI,GAElEhB,EAAe,KAKpB,CAED,OAAQvX,GAAK,CAEb4B,GAAM,MAAK,GAAI5B,EAAG,EAAA,CACnB,CACD,CACD,CACD,CAEAqD,EAAAqU,GAAe,EAAE,EAEblU,EAAA6S,CAAuB,GAC1BpR,EAAAoR,EAAA7S,EAAA6S,CAAuB,EAAC,MAAQ,EAAE,EAEnChT,EAAAoU,EAAiB,IAAI,EACrBpU,EAAA0T,GAAe,EAAK,EACpB1T,EAAAwU,EAAiB,IAAI,EAErBvQ,GAAO,IAAG,MACHC,GACL,aAAa,QACbvD,IAAAhC,GAAAC,EAAO,IAAP,YAAAD,GAAS,WAAT,YAAAgC,GAAmB,+BAA8BwD,GAAAE,GAAW,IAAX,YAAAF,GAAW,oBAAqB,KAAI,CAAA,GAKlF2R,GAAiC,SAAA,cACpB,MAAAC,GAAY,aAAa,MAAK5V,EAAEuU,EAAc,EAAExB,EAAM,CAAA,EAAE,MAAO1W,IAAU,CAC1F+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACpB,GAGA+B,GAAM,QAAQJ,IAAM,EAAC,6BAAA,CAAiC,eAAcgC,EAAduU,EAAc,CAAA,CAAA,CAAA,EAGrE1U,EAAA0U,GAAiB,EAAE,EACnBzQ,GAAO,IAAG,MACHC,GACL,aAAa,QACbvD,IAAAhC,GAAAC,EAAO,IAAP,YAAAD,GAAS,WAAT,YAAAgC,GAAmB,+BAA8BwD,GAAAE,GAAW,IAAX,YAAAF,GAAW,oBAAqB,KAAI,CAAA,EAIvFnE,EAAAmT,EAAqB,MAAA6C,GAAgB,aAAa,MAAO9C,GAAQ,EAAA,MAAO1W,KACvE+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,CAAA,GAGIyZ,GAAwB,MAAUpM,IAAkB,OACnD+K,GAAatB,EAAwBzJ,EAAK,EAC5C+K,KACHA,GAAW,MAAK,EAChBrB,EAAkB,KAId2C,GAAsB,MAAUrM,IAAkB,CAC/C,KAAA,CAAA,OAAA7K,GAAQ,gBAAAmX,EAAe,EAAKd,IAAqBxL,EAAK,EAC1DsM,IACHA,GAAgB,MAAK,EAElBnX,KACG,MAAAA,GAAO,SACN,OAAAqW,EAAoB,EAACxL,EAAK,EACjCyL,GAAoB,IAAG,CAAA,GACnBD,EAAC,CAAA,CAAA,EAEC,MAAAU,GAAY,aAAa,MAAOlM,EAAK,EAC3CtL,GAAM,QAAQJ,IAAM,EAAE,uCAAsC,CAAW,MAAA0L,EAAK,CAAA,CAAA,IAIxEuM,GAAiC,SAAA,cACtCpW,EAAA4T,EAAqB,EAAI,MAErByC,GAAW,CAAA,EAEX,GAAA,CACHA,GAAc,KAAK,QAAMvC,CAAiB,CAAA,CAC1C,OAAQtX,GAAO,CACf+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACpBwD,EAAA4T,EAAqB,EAAK,QAE3B,CAEM,MAAAnX,SAAYoZ,GACjB,aAAa,MAEZ,CAAA,MAAO1V,EAAA0T,CAAe,KACnBwC,EAEJ,EAAAnD,EAAA,CAAA,EACC,MAAO1W,KACR+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,EAEG,GAAAC,IAAOA,GAAI,GAAI,CACZ,MAAAuC,GAASvC,GAAI,KACjB,YAAgB,IAAA,iBAChB,EAAA,YAAYqY,GAAY;AAAA,CAAI,GAC5B,UAAS,EAEJ,OAAM,CACJ,KAAA,CAAA,MAAA/J,GAAO,KAAAgK,EAAI,EAAW,MAAA/V,GAAO,KAAI,KACrC+V,GAAI,MAEJ,GAAA,CACC,IAAAC,GAAQjK,GAAM,MAAM;AAAA,CAAI,YAEjBkK,MAAQD,MACdC,KAAS,GAAI,CAEZ,IAAAC,GAAO,KAAK,MAAMD,EAAI,KAGtBC,GAAK,MACF,MAAAA,GAAK,SAERA,GAAK,OACF,MAAAA,GAAK,OAGRA,GAAK,SAEN,CAAAA,GAAK,QAAM,CACXA,GAAK,OAAO,SAAS,SAAS,GAAA,CAC9BA,GAAK,OAAO,SAAS,QAAQ,EAE9B3W,GAAM,QAAQ2W,GAAK,MAAM,EAErBA,GAAK,WACRnB,GAAoBmB,GAAK,MAAM,EAE3BA,GAAK,UACRlV,EAAAgU,EACC,KAAK,MAAOkB,GAAK,UAAYA,GAAK,MAAS,GAAI,EAAI,EAAE,EAEtDlV,EAAAgU,EAA0B,GAAG,GAKlC,CAED,OAAQrX,GAAK,CAEb4B,GAAM,MAAK,GAAI5B,EAAG,EAAA,CACnB,CACD,CACD,CAEAsH,GAAO,IAAG,MACHC,GACL,aAAa,QACbvD,IAAAhC,GAAAC,EAAO,IAAP,YAAAD,GAAS,WAAT,YAAAgC,GAAmB,+BAA8BwD,GAAAE,GAAW,IAAX,YAAAF,GAAW,oBAAqB,KAAI,CAAA,EAIvFnE,EAAA4T,EAAqB,EAAK,EAE1B5T,EAAA6T,EAAkB,EAAE,EACpB7T,EAAA8T,EAAoB,EAAE,EACtB9T,EAAA+T,GAAoB,EAAE,EACtB/T,EAAAgU,EAA0B,IAAI,GAGzBjG,GAAmB,SAAA,CACxB/N,EAAAuL,EAAU,EAAI,EACdvL,EAAAmT,EAAqB,MAAA6C,GAAgB,aAAa,MAAO9C,GAAQ,EAAA,MAAO1W,KACvE+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,CAAA,EAEG2D,EAAAgT,CAAY,GACfnT,EAAAuL,EAAU,EAAK,uBAIV2H,EAAM,IAAK,MACjBnF,iEAKUkF,CAAsB,kBAAtBA,EAAsBvR,EAAA,aACf,QAAA,IAAA,CACjBoU,IACA,gOAiBuB1X,GAAA,QAAAc,GAAA,IAAA,CACfyV,KACA,kIA6BcxW,EAAK,EAAC,EAAE,YAAY,CAAA,EAAA,iKAQ/BuV,EAAY,EAAAtS,EAAAiE,CAAA,EAAAjE,EAAAE,EAAA,EAAA,qCAtmBpBoS,EAAY,IACZC,EAAQ,EAmmBKjV,EAAA,IAAAyB,EAAAuT,EAAY,GAAIvT,EAAAwT,EAAQ,EAAC,SAAW,EAAE,KAHhCvV,GAAA,QAAAe,GAAA,IAAA,CACfgW,IACA,qMAiEgBhX,EAAK,EAAC,EAAE,QAAQ,CAAA,EAAA,iEAGhBC,GAAA,QAAAC,GAAA,IAAA,CACf4X,KAAyB7C,CAAa,CAAA,EACtC,uCAPalG,EAAA,IAAAb,EAAAiK,GAAA,aAAAnW,EAAAiT,CAAa,GAAI,EAAA,KAAAjT,EAAAkT,CAAc,EAAO,IAAAlT,EAAAkT,CAAc,MAAO,EAAE,EAAA,CAAA,qBAF1ED,CAAa,GAAAhS,EAAAkE,EAAA,yEAkCV,OAAO,KAAK+P,EAAoB,CAAA,CAAA,UAAKxL,KAAK,mKAkB1B1L,EAAK,EAAC,EAAE,QAAQ,CAAA,EAAA,oEAGhBC,GAAA,QAAAI,GAAA,IAAA,CACf0X,KAAuBrM,EAAK,CAAA,EAC5B,qHAvBoCA,EAAK,QA+C1CwL,EAAoB,EAAAlV,EAAC0J,EAAK,CAAA,EAAE,MAAM,+BA/CGA,EAAK,QA6CxC,WAAYwL,EAAoB,EAAAlV,EAAC0J,EAAK,CAAA,CAAA,oCA1CbA,EAAK,CAAA,0CAHKA,EAAK,EAczCnL,EAAA,IAAA2W,IAAqBlV,EAAA0J,EAAK,CAAE,EAAA,cAAgB,CAAC,uBAdTA,EAAK,QAS3B,KAAK,IACnB,GACAwL,EAAoB,EAAClV,EAAA0J,EAAK,CAAE,EAAA,cAAgB,CAAA,CAAA,8BAXRA,EAAK,QAC3C,iBAAkBwL,EAAoB,EAAAlV,EAAC0J,EAAK,CAAA,CAAA,0CAF9CnL,EAAA,IAAA,OAAO,KAAK2W,EAAoB,CAAE,EAAA,OAAS,CAAC,qGAkElCX,EAAc,0FAKnBnT,GAAAgV,GAAA,EAAA,IAAApW,EAAAgT,CAAY,QAAItJ,IAAK,mEAALA,CAAK,EAAAnL,EAAA,IAAAyB,EACZ0J,CAAK,EAAC,EAAE,8BADDA,CAAK,EAAAnL,EAAA,IAAAyB,EACZ0J,CAAK,EAAC,EAAE,KAAA,aADDA,CAAK,EAExBnL,EAAA,IAAAyB,EAAA0J,CAAK,EAAC,KAAO,MAAI1J,EAAI0J,CAAK,EAAC,KAAO,YAAW,QAAQ,CAAC,EAAI,MAAM,kEAKpD1L,EAAK,EAAC,EAAE,cAAc,CAAA,EAAA,kFAM5B+O,EAAA,IAAAzO,GAAA,SAAA0B,EAAAuU,EAAc,IAAK,EAAE,EAHftW,GAAA,QAAAK,GAAA,IAAA,CACfuB,EAAAiT,EAAyB,EAAI,EAC7B,kRA2CgB9U,EAAK,EAAC,EAAE,cAAc,CAAA,EAAA,+GA5zB1CyV,CAAkB,IAClBC,CAAe,IACfC,CAAiB,UAg0BHF,CAAkB,GAAAzT,EAC3B0T,CAAe,EAAC,KAAI,IAAO,IAAE1T,EAC7B2T,CAAiB,EAAC,KAAI,IAAO,EAAE,KALhB1V,GAAA,QAAA0O,GAAA,IAAA,CACfsJ,KACA,2GAyB4B,8IAc3BrC,EAAiB,CAAA,CAAA,qBAFfA,EAAiB,GAAA3S,EAAA4H,EAAA,8CAJlBqD,EAAAmK,EAAA,GAAArW,EAAA6T,CAAuB,GAAI,GAAC,EAAA,GAAA,WA71BnCA,CAAuB,EA21BFtV,EAAA,IAAA,KAAK,IAAI,GAAIyB,EAAA6T,CAAuB,GAAI,CAAC,CAAA,sBARzD7T,EAAA4T,EAAiB,IAAK,IAAE3S,EAAA6H,EAAA,yQA0DO9K,IAAM,EAAE,WAAW,CAAA,EAAA,CAAA,6EAEnBA,IAAM,EAAE,UAAU,CAAA,EAAA,CAAA,oBAH9CgC,EAAAgU,CAAe,IAAK,OAAM/S,GAAAkI,CAAA,EAAAlI,GAAAmE,GAAA,EAAA,4EAcjB6I,GAAAtL,GAAApB,IAAA1B,EAAAgT,YAAAA,CAAuB,CAAA,iEAp5BxCoB,CAA6B,UAu6BrBA,CAAc,EAAC,CAAC,EAAE,IAAI,kEAEtBjW,EAAK,EAAC,EAAE,sBAAsB,CAAA,2BAz6BtCiW,CAA6B,EAs6BlB1V,EAAA,IAAAyB,EAAAiU,CAAc,GAAIjU,EAAAiU,CAAc,EAAC,OAAS,CAAC,yDAt6BtDA,CAA6B,UAi5BLA,CAAc,GAAAjU,EAAIiU,CAAc,EAAC,OAAS,EAAI,OAAS,EAAE,UAK/DnO,GAAAnD,GAAA,IAAA3C,EAAAiU,CAAc,QAAdA,EAAc1S,EAAA,CAAA,EACTtD,GAAA,SAAA0E,GAAA,IAAA,CACL3C,EAACiU,CAAc,EAC1B,EASehW,GAAA,QAAAqY,GAAA,IAAA,CACftW,EAAA6S,CAAuB,EAAC,QACxB,wDAUiB0D,GAAAC,EAAA,EAAA,UAAAxW,EAAAkU,EAAY,IAAK,GAAK,OAAS,EAAE,EAAA,EAEyDqC,GAAArU,GAAA,EAAA,uGAAAlC,EAAAkU,EAAY,IACxH,GACG,OACA,EAAE,EAAA,0CAIQlW,EAAK,EAAC,EAAE,0CAA0C,CAAA,KADnDwD,EAAAU,GAAA,IAAAlC,EAAAkU,EAAY,QAAZA,GAAY3S,EAAA,CAAA,oBAtCtBvB,EAAAgU,CAAe,IAAK,OAAM/S,GAAAoB,CAAA,EAAApB,GAAA+H,GAAA,EAAA,2DA8CbhL,EAAK,EAAC,EAAE,cAAc,CAAA,EAAA,yKAMjCuV,EAAY,EAAAtS,GAAAsJ,EAAA,EAAAtJ,GAAAgI,GAAA,EAAA,8BAFPsK,EAAY,CAAA,iDAn8B3BS,CAAe,IACfC,CAA6B,IAC7BC,EAAY,EA47BJ3V,EAAA,IAAAyB,EAAAgU,CAAe,IAAK,QAAMhU,EAAIiU,CAAc,GAAAjU,EAAIiU,CAAc,EAAC,OAAS,KAAOD,CAAe,IAAK,OAAShU,EAAAkU,EAAY,IAAK,EAAE,2JA6DjIlW,EAAK,EAAC,EAAE,mBAAmB,CAAA,KAGhBwD,EAAAiV,GAAA,IAAAzW,EAAAmU,EAAgB,QAAhBA,GAAgB5S,EAAA,CAAA,uBA9/BjCyS,CAAe,IACfC,CAA6B,IAC7BC,EAAY,EAq/BL3V,EAAA,IAAAyB,EAAAgU,CAAe,IAAK,QAAMhU,EAAIiU,CAAc,GAAAjU,EAAIiU,CAAc,EAAC,OAAS,KAAOD,CAAe,IAAK,OAAShU,EAAAkU,EAAY,IAAK,EAAE,mPAgChII,EAAa,CAAA,SAIdF,EAAe,CAAA,mBAXWpW,EAAK,EAAC,EAAE,iBAAiB,CAAA,iOAuBlDkO,EAAAwK,GAAA,GAAA1W,EAAAqU,CAAc,GAAI,GAAC,EAAA,GAAA,SAIpBD,EAAe,CAAA,mBAXWpW,EAAK,EAAC,EAAE,iBAAiB,CAAA,UA1hCxDqW,CAAc,EA+hCM9V,EAAA,IAAA,KAAK,IAAI,GAAIyB,EAAAqU,CAAc,GAAI,CAAC,CAAA,yBAPzCrU,EAAAqU,CAAc,IAAK,MAAIpT,GAAA8E,EAAA,4BAhB5BuO,EAAa,EAAArT,GAAAmJ,EAAA,EAAAnJ,GAAAiI,GAAA,EAAA,4EApJmBlL,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBA4IhEA,EAAK,EAAC,EAAE,sDAAsD,CAAA,kBAI7CA,EAAK,EAAC,EAAE,aAAa,CAAA,KA5ItBC,GAAA,QAAA0Y,EAAA,IAAA,GACX3C,CAAe,IAAK,OACvBnU,EAAAmU,EAAkB,KAAK,EAEvBnU,EAAAmU,EAAkB,MAAM,EAEzB,EAf6B/V,GAAA,SAAAiB,EAAAC,GAAA,IAAA,CAC/BkW,GACA,CAAA,CAAA,qBAJEhC,EAAsB,GAAApS,EAAAiM,EAAA,qMA9EbuG,CAAkB,gBAQlBA,CAAkB,mCAlQ5BzV,EAAK,EAAC,EAAE,8BAA8B,CAAA,YAgCzBO,EAAA,IAAAP,EAAK,EAAC,EAAE,sCACpB,CAAA,SAAU,YAAW,CAAA,CAAA,kBA+DvBA,EAAK,EAAC,EAAE,sDAAsD,CAAA,kBAI7CA,EAAK,EAAC,EAAE,aAAa,CAAA,kBAgGAA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAQhDA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAEDA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAmCvBA,EAAK,EAAC,EAAE,gBAAgB,CAAA,YAKhDO,EAAA,IAAAP,EAAK,EAAC,EAAE,sCACpB,CAAA,SAAU,cAAa,CAAA,CAAA,kBAsESA,EAAK,EAAC,EAAE,cAAc,CAAA,UAz3B1DqV,EAAsB,cA+3BhBA,EAAsB,EAAGrV,EAAK,EAAC,EAAE,MAAM,EAAIA,EAAK,EAAC,EAAE,MAAM,CAAA,KAhShDwD,EAAA9C,GAAA,IAAAsB,EAAAwT,EAAQ,OAARA,GAAQjS,CAAA,CAAA,EAwKRiB,GAAAC,GAAA,IAAAzC,EAAAuU,EAAc,OAAdA,GAAchT,CAAA,CAAA,EA8CdC,EAAAE,GAAA,IAAA1B,EAAA0T,CAAe,OAAfA,EAAenS,CAAA,CAAA,EAKfC,EAAAoV,GAAA,IAAA5W,EAAA2T,CAAiB,OAAjBA,EAAiBpS,CAAA,CAAA,EAmEdtD,GAAA,QAAA2O,GAAA,IAAA,CACf/M,EAAAwT,MAA0BA,EAAsB,CAAA,EAChD,mHAwMLrV,EAAK,EAAC,EAAE,wBAAwB,CAAA,kGAFzBgC,EAAAgT,CAAY,IAAK,KAAI/R,GAAA4V,EAAA,EAAA5V,GAAA0E,GAAA,EAAA,6BAhhBzByF,CAAO,EAAAnK,GAAAoJ,GAAA,EAAA,EAAApJ,GAAA6V,EAAA,qBATb,mPCplBA,mDAEO9Z,GAAOC,GAAW,MAAM,EAInB,IAAA8Z,0BAAe,IAAI,EAE1BC,IAAiB,CAAC,wEAORA,CAAc,sCATjBD,GAAY,CAAA,EAYdxY,EAAA,IAAAwY,KAAa,gBAAgB,SAAIE,EAAG7S,KAAA,mDAC3BA,gBAAM6S,CAAG,CAAA,CAAA,+DAKLD,CAAc,+CARrBhZ,EAAK,EAAC,EAAE,2BAA2B,CAAA,KADpCwE,GAAAC,EAAA,IAAAzC,EAAAgX,CAAc,OAAdA,EAAczV,CAAA,CAAA,kBAJxBwV,GAAY,GAAA9V,EAAAiE,CAAA,qBAFjB,qvBCTA,2EAIOlI,GAAOC,GAAW,MAAM,EACbiJ,GAAqB,EAW3B,IAAAyE,kBAAO,EAAK,EAEnBuM,KAAW,IAAI,EACfH,IAAe,IAAI,EAEvBhZ,GAAoB,SAAA,OACf,KAAAS,EAAAuN,EAAK,IAAL,YAAAvN,EAAO,QAAS,QAAS,CAOxB,GANE,MAAA,QAAQ,IAAG,EACH,SAAA,CACZqB,EAAAkX,EAAqB,MAAAI,GAAgB,aAAa,KAAK,CAAA,IACvD,IAGEnX,EAAA+W,CAAY,EAAE,CACjBlX,EAAAqX,GAAW,QAAQ,QAEpB,CAEArX,EAAAqX,GAAW,EAAE,CACd,EACA,8JAeoB,QAAQ,CAAA,+HAStBlZ,EAAK,EAAC,EAAE,mDAAmD,CAAA,wLA4BvDgC,EAAAkX,EAAQ,IAAK,UAAQjW,GAAAkE,EAAA,sBAnBDoR,GAAAvX,GAAA,EAAA,mBAAAgB,EAAAkX,EAAQ,IAAK,SAClC,GACA,4EAA4E,aAAA,4BAG3ElZ,EAAK,EAAC,EAAE,QAAQ,CAAA,EAAA,GAFJC,GAAA,QAAAe,GAAA,IAAA,CACfa,EAAAqX,GAAW,QAAQ,EACnB,kEAXKlX,EAAAkX,EAAQ,IAAK,KAAIjW,EAAAoE,CAAA,EAAApE,EAAAE,GAAA,EAAA,wBANtBnB,EAAAkX,EAAQ,IAAK,GAAEjW,EAAAiE,EAAA,EAAAjE,EAAAmE,EAAA,EAAA,iDAdnBpH,IAAM,EAAE,eAAe,CAAA,EAAA,CAAA,EAIRC,GAAA,QAAAc,EAAA,IAAA,CACf4L,EAAO,EAAK,EACZ,sDAZL,k3CCrCA,+EAqBO3N,GAAOC,GAAW,MAAM,EAEfE,GAAAC,GAAA,OAAA,CAAA,MACJsM,EAAKvM,GAAAC,GAAA,QAAA,CAAA,EAELga,GAAuBja,GAAAC,GAAA,gBAAA,CAAA,EACvBia,EAAqBla,GAAAC,GAAA,cAAA,CAAA,EACrBka,EAAyBna,GAAAC,GAAA,kBAAA,CAAA,EACzBma,EAAyBpa,GAAAC,GAAA,kBAAA,CAAA,EACzBoa,EAAsBra,GAAAC,GAAA,eAAA,CAAA,EAEtBqa,EAAiBta,GAAAC,GAAA,UAAA,CAAA,EAExBuN,IAAO,EAAK,oEAKJ,OAAAhM,GAAM,CACbA,EAAE,SAAW,IAChB8Y,EAAO,EAAA,CAER,4CAEiBzZ,EAAK,EAAC,EAAE,MAAM,CAAA,EAAA,4ZAUlB0Z,gMAIK,MAAA,IAAA,CACfL,EAAW,EAAA,CACX,gHArCO3N,EAAK,CAAA,EAuCRnL,EAAA,IAAA,SAAA,QAAAiC,GAAAhC,EAAAkL,EAAK,IAAL,YAAAlL,EAAO,OAAP,YAAAgC,EAAa,SAAU,GAAK,+FAuC9BxC,IAAM,EAAE,YAAY,CAAA,EAAA,CAAA,0DAEpBA,IAAM,EAAE,YAAY,CAAA,EAAA,CAAA,uBAhFf0L,EAAK,CAAA,EA6EPnL,EAAA,IAAA,SAAA,QAAAiC,GAAAhC,EAAAkL,EAAK,IAAL,YAAAlL,EAAO,OAAP,YAAAgC,EAAa,SAAU,GAAK,6NAUlB,MAAA,IAAA,QACf8W,KAAgB9Y,GAAAkL,MAAA,YAAAlL,GAAO,EAAE,CACzB,kGAzFOkL,EAAK,CAAA,EA2FPnL,EAAA,IAAA,SAAA,SAAAC,EAAA0F,EAAS,IAAT,YAAA1F,EAAW,eAAY,CAAA,GAAQ,UAASgC,EAAAkJ,MAAA,YAAAlJ,EAAO,EAAE,EAAA,+FAQpDxC,EAAK,EAAC,EAAE,mBAAmB,CAAA,6DAE3BA,EAAK,EAAC,EAAE,iBAAiB,CAAA,8BArGpB0L,EAAK,CAAA,EAkGNnL,EAAA,IAAA,SAAA,SAAAC,EAAA0F,EAAS,IAAT,YAAA1F,EAAW,eAAY,CAAA,GAAQ,UAASgC,EAAAkJ,MAAA,YAAAlJ,EAAO,EAAE,EAAA,2NAUxC,MAAA,IAAA,CACf+W,EAAe,EAAA,CACf,+GAI+BvZ,IAAM,EAAE,WAAW,CAAA,EAAA,CAAA,oMAKnC,MAAA,IAAA,CACfwZ,EAAY,EAAA,CACZ,+GAI+BxZ,IAAM,EAAE,OAAO,CAAA,EAAA,CAAA,mMAK/B,MAAA,IAAA,CACfoZ,GAAa,EAAA,CACb,+GAI+BpZ,IAAM,EAAE,QAAQ,CAAA,EAAA,CAAA,wGA7HpD,guICnCA,uJAGS,CAAA,OAAAlB,GAAWC,GAGbC,EAAOC,GAAW,MAAM,EAqC1B,IAAA0a,IAAW,EAAK,EAEhBC,IAAyB,EAAK,EAC9BC,EAAWpY,IACXqY,EAA0CrY,IAE1CqE,IAAS,IAAI,EAEb6K,EAAkB,KAClBC,EAAa,KAEbmJ,GAActY,EAAA,CAAA,CAAA,EACdwQ,KAAkB,IAAI,EAEtB+H,KAAkB,EAAK,EACvBC,KAAkB,EAAK,EAevBC,IAAc,EAAE,QAEdC,EAAc,MAAUrU,GAAW,KACpCxG,EAAI,IAAO,KAAI,CAAE,KAAK,UAAUwG,CAAM,CAAA,EAAA,CACzC,KAAM,kBAAiB,CAAA,EAExBhH,EAAOQ,EAAuB,iBAAA,KAAK,IAAG,CAAA,OAAA,GAGjCsQ,EAAmB,SAAA,CACxB/N,EAAAiE,EAAS,IAAI,EAEb6K,EAAwB,MAAAI,GAAc,aAAa,KAAK,EACxDH,EAAU,MAAS7K,GAAU,aAAa,MAAO,KAAM,EAAI,EAE3DlE,EAAAiE,EAAS8K,EAAW,IAAKI,GAAM,CACxB,MAAAC,EAAiBN,EAAgB,KAAMO,IAAOA,GAAG,KAAOF,EAAE,EAAE,EAE9D,OAAAC,EAEC,CAAA,GAAAD,EACA,GAAAC,GAIA,CAAA,GAAAD,EACH,GAAIA,EAAE,GACN,KAAMA,EAAE,KAER,UAAW,EAAA,CAGb,CAAA,CAAA,GAGIoJ,GAAkB,MAAU1O,GAAU,aAC3CA,EAAM,cAAgB,KAElBiF,EAAgB,KAAMK,IAAMA,GAAE,KAAOtF,EAAM,EAAE,QAC9B2O,GAAgB,aAAa,MAAO3O,EAAM,GAAIA,CAAK,EAAE,MAAOrN,IACtE,IACP,GAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,4BAA4B,CAAA,EAGjC,MAAAsa,GAAe,aAAa,MAAK,CAClD,KAAI,CAAA,EACJ,GAAI5O,EAAM,GACV,KAAMA,EAAM,KACZ,cAAe,KACf,OAAM,CAAA,EACN,eAAc,CAAA,EACX,GAAAA,IACD,MAAOrN,IACF,IACP,GAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,4BAA4B,CAAA,QAG9C4P,EAAI,EAEV2K,GAAQ,IAAG,MACJxU,GACL,aAAa,QACbvD,IAAAhC,EAAAC,EAAO,IAAP,YAAAD,EAAS,WAAT,YAAAgC,GAAmB,+BAA8BwD,GAAAE,EAAW,IAAX,YAAAF,GAAW,oBAAqB,KAAI,CAAA,GAKlFwU,EAAkB,MAAU9O,GAAU,aACtC,OAAO,KAAKA,CAAK,EAAE,SAAS,eAAe,EAazC,MAAA+O,GAAgB,aAAa,MAAO/O,EAAM,EAAE,QAZ5C4O,GAAe,aAAa,MAAK,CACtC,GAAI5O,EAAM,GACV,KAAMA,EAAM,KACZ,cAAe,KACf,KAAI,CAAA,EACJ,OAAM,CAAA,EACN,eAAc,CAAA,EACd,UAAWA,EAAM,YACf,MAAOrN,IACF,IACP,EAMFkc,GAAQ,IAAG,MACJxU,GACL,aAAa,QACbvD,IAAAhC,EAAAC,EAAO,IAAP,YAAAD,EAAS,WAAT,YAAAgC,GAAmB,+BAA8BwD,GAAAE,EAAW,IAAX,YAAAF,GAAW,oBAAqB,KAAI,CAAA,GAKlF0U,GAAgB,MAAUhP,GAAU,OACzCA,EAAM,KACF,CAAA,GAAAA,EAAM,KACT,OAAM,IAAIlL,EAAAkL,GAAA,YAAAA,EAAO,OAAP,YAAAlL,EAAa,SAAU,GAAK,EAKvCJ,GAAM,QACLsL,EAAM,KAAK,OACR1L,IAAM,EAAC,+BAAA,CACP,KAAM0L,EAAM,GAAA,EAEZ1L,IAAM,EAAC,gCAAA,CACP,KAAM0L,EAAM,EAAA,CAAA,CAAA,EAIhB0O,GAAmB1O,CAAK,GAGnB6N,EAAe,MAAU7N,GAAU,CAClC,MAAAiP,EAAU,OAAO,SAAS,OACvB,MAASC,GAAmB,GAAAD,CAAO,WAAW,mBAAmBjP,EAAM,EAAE,CAAA,EAAA,EAGjFtL,GAAM,QAAQJ,EAAK,EAAC,EAAE,0BAA0B,CAAA,EAEhDI,GAAM,MAAMJ,EAAK,EAAC,EAAE,qBAAqB,CAAA,GAIrCwZ,EAAY,MAAU9N,GAAU,CACrC,eAAe,MAAQ,KAAK,UAAS,IACjCA,EACH,cAAeA,EAAM,GACrB,GAAE,GAAKA,EAAM,EAAE,SACf,KAAI,GAAKA,EAAM,IAAI,aAEpBmP,GAAK,0BAA0B,GAG1BC,EAAkB,MAAUpP,GAAU,KACvCpM,EAAI,IAAO,KAAI,CAAE,KAAK,UAAS,CAAEoM,CAAK,CAAA,CAAA,EAAA,CACzC,KAAM,kBAAiB,CAAA,EAExB5M,EAAOQ,EAAS,GAAAoM,EAAM,EAAE,IAAI,KAAK,IAAG,CAAA,OAAA,GAG/B4N,GAAe,MAAUzH,GAAY,YACtCkJ,IAAeva,GAAA0F,MAAA,YAAA1F,GAAW,eAAY,CAAA,EAEtCua,EAAa,SAASlJ,CAAO,EAChCkJ,EAAeA,EAAa,OAAQjN,IAAOA,KAAO+D,CAAO,EAEzDkJ,EAAuB,CAAA,GAAA,IAAA,IAAQ,CAAA,GAAAA,EAAclJ,CAAO,CAAA,CAAA,EAGrDmJ,GAAS,IAAS,CAAA,GAAA9U,EAAS,EAAgB,aAAA6U,CAAY,CAAA,EACjD,MAAAE,GAAmB,aAAa,MAAS,CAAA,GAAI/U,EAAS,CAAA,CAAA,GAG7DnG,GAAoB,SAAA,OACb6P,EAAI,QACJ9B,EAAKoN,KAAM,IAAI,aAAa,IAAI,IAAI,EAEtCpN,GACHjM,EAAAoQ,GAAkBnE,CAAE,QAGfqN,EAAarL,IAAU,CACxBA,GAAM,MAAQ,SACjBjO,EAAA8X,EAAW,EAAI,GAIXyB,GAAWtL,IAAU,CACtBA,GAAM,MAAQ,SACjBjO,EAAA8X,EAAW,EAAK,GAIZ0B,GAAe,IAAA,CACpBxZ,EAAA8X,EAAW,EAAK,GAGjB,cAAO,iBAAiB,UAAWwB,CAAS,EAC5C,OAAO,iBAAiB,QAASC,EAAO,EACxC,OAAO,iBAAiB,UAAWC,EAAM,EAE5B,IAAA,CACZ,OAAO,oBAAoB,UAAWF,CAAS,EAC/C,OAAO,oBAAoB,QAASC,EAAO,EAC3C,OAAO,oBAAoB,UAAWC,EAAM,GAE7C,0BA/MMrZ,EAAA8D,CAAM,KACZiU,GAAc/X,EAAG8D,CACf,EAAA,OAAQkL,GAAMhP,EAAAkY,CAAW,IAAK,IAAMlJ,EAAE,KAAK,cAAc,SAAShP,EAAAkY,CAAW,EAAC,YAC9E,CAAA,CAAA,EAAA,KAAM,CAAA/P,EAAGC,MAMDD,GAAA,YAAAA,EAAG,QAAQA,GAAA,YAAAA,EAAG,KAAM,IAAI,eAAcC,GAAA,YAAAA,EAAG,QAAQA,GAAA,YAAAA,EAAG,KAAM,EAAE,CACpE,CAAA,sDAwM2DwF,sBAA9BoK,EAAe,iBAAfA,GAAezW,CAAA,yDAClB0W,EAAe,iBAAfA,GAAe1W,CAAA,6MActBvD,EAAK,EAAC,EAAE,eAAe,CAAA,EAAA,6FAIvBC,GAAA,QAAAc,GAAA,IAAA,CACfc,EAAAoY,GAAkB,EAAI,EACtB,2EAMeja,EAAK,EAAC,EAAE,UAAU,CAAA,EAAA,6FAIlBC,GAAA,QAAAe,GAAA,IAAA,CACfa,EAAAmY,GAAkB,EAAI,EACtB,oQAsBgB/Z,GAAA,QAAAC,GAAA,IAAA,CACf2B,EAAAqY,EAAc,EAAE,EAChB,wBANCA,CAAW,GAAAjX,GAAAiE,EAAA,8FAkBV6S,EAAc,EAAA,CAAIrO,GAAoBoG,KAAA,GAAApG,GAAM,EAAE,IAAIoG,EAAQ,GAAA,CAAAwJ,GAAxC5P,GAAKoG,KAAA,uGAlVxByJ,EAAM,IAkVa7P,EAAK,EA+BhBnL,EAAA,IAAA,iCAAA,OAAAgb,GAAO,OAAKvZ,IAAAA,GAAAA,EAClB0J,EAAK,IADa1J,YAAAA,GACX,OADWA,MAAAA,GACL,sBACZ0J,EAAK,mBAAE,sBAAM,sBACbA,EAAK,mBAAE,kBAAQ,mBACXA,EAAK,mBAAE,uBAAQ,MAAM,gBAAOA,EAAK,kBAAE,wBAAQ,WAAW,MACzD1J,EAAA0J,EAAK,EAAC,EAAA,EAAA,+IApCSA,EAAK,EAAAnL,EAAA,IAAAyB,EAyCkB0J,EAAK,EAAC,IAAI,EAAA,CAAA,mJAzCjCA,EAAK,MAwDRnL,EAAA,IAAA,WAAAyB,OAAAA,IAAAA,GAAAA,EAAA0J,EAAK,IAAL1J,YAAAA,GAAO,OAAPA,MAAAA,GAAa,OAAShC,EAAK,EAAC,EAAE,MAAM,EAAIA,EAAM,EAAA,EAAE,MAAM,EAAA,+HAxDnDgC,EAAA0J,EAAK,EAgEnBnL,EAAA,IAAAyB,UAAAA,OAAAA,IAAAA,EAAAA,EAAA0J,EAAK,IAAL1J,YAAAA,EAAO,OAAPA,YAAAA,GAAa,OAAM,EAAAiB,EAAAkE,EAAA,EAAAlE,EAAAE,GAAA,EAAA,UAJRlD,GAAA,QAAAK,GAAA,IAAA,CACfoa,KAAiBhP,EAAK,CAAA,EACtB,sGAkCIqC,GAAK,6BAEU,cAAA,IAAA,CACpB+M,IAAmBpP,EAAK,CAAA,CACxB,EACkB,YAAA,IAAA,CAClBgP,KAAiBhP,EAAK,CAAA,CACtB,EACsB,gBAAA,IAAA,CACtB4N,GAAetX,EAAC0J,EAAK,EAAC,EAAE,CACxB,EACsB,gBAAA,IAAA,CACtB6N,IAAgB7N,EAAK,CAAA,CACrB,EACmB,aAAA,IAAA,CACnB8N,IAAa9N,EAAK,CAAA,CAClB,EACc,QAAA,IAAA,CAAE,gJAjHGA,EAAK,MA6HdnL,EAAA,IAAA,QAAAyB,QAAAA,GAAAA,EAAA0J,EAAK,IAAL1J,YAAAA,GAAO,YAAa,GAAQhC,EAAK,EAAC,EAAE,SAAS,EAAIA,EAAM,EAAA,EAAE,UAAU,EAAA,4EAGhE,OAAAgC,EAAA0J,EAAK,EAAC,wBAAN1J,EAAA0J,EAAK,EAAC,UAASnI,WA7ZjCwW,EAAc,CAAA,aA8Ze,OAAA,SAAA,CACtBS,IAAmB9O,EAAK,CAAA,CACxB,+CAxDazL,GAAA,QAAA0O,GAAA,IAAA,GACfsD,GAAejQ,EAAG0J,EAAK,EAAC,EAAE,EAC1B,wBAtBEiO,CAAQ,EAAA1W,GAAAoE,EAAA,EAAApE,GAAAmE,GAAA,EAAA,gJAvDSsE,EAAK,EAEyFnL,EAAA,IAAAyB,WAAAA,OAAAA,IAAAA,GAAAA,EAAA0J,EAAA,IAAA1J,YAAAA,GAClH,OADkHA,MAAAA,GAC5G,OACN,6BACA,GAAE,mCALkB0J,EAAK,EAAAnL,EAAA,IAAAyB,EAMZ0J,EAAK,EAAC,EAAE,GAAA,EAAA,EAAA,0CANDA,EAAK,EAiBWnL,EAAA,IAAAyB,QAAAA,QAAAA,GAAAA,EAAA0J,EAAK,IAAL1J,YAAAA,GAAO,YAAa,GACrD,GACA,6BAA4B,yBA9T9B8R,EAAkB,IA2SCpI,EAAK,WAsBhBoI,EAAkB,kCAAA9R,EAAkC0J,EAAK,EAAC,EAAE,EAAA,qCAtBjDA,EAAK,EA6BOnL,EAAA,IAAAyB,QAAAA,QAAAA,GAAAA,EAAA0J,EAAK,IAAL1J,YAAAA,GAAO,YAAa,GAAQ,GAAK,gBAAe,iBA7B5D0J,EAAK,qDA6CrBA,EAAK,mBAAE,gBAAM,sBACbA,EAAK,mBAAE,sBAAM,sBACbA,EAAK,mBAAE,kBAAQ,OACX,GAAA1J,EAAA0J,EAAK,EAAC,EAAE,MAAA1J,IAAAA,GAAAA,EAAK0J,EAAK,IAAV1J,YAAAA,GAAY,SAAZA,YAAAA,GAAoB,MAAM,IACrCA,EAAA0J,EAAK,EAAC,GAAE,MAtCCzL,GAAA,QAAAI,GAAA,IAAA,GACf4R,GAAejQ,EAAG0J,EAAK,EAAC,EAAE,EAC1B,2GAiID1L,EAAK,EAAC,EAAE,iBAAiB,CAAA,yBAhb3BgC,EAAA8D,CAAM,EAiSHvF,EAAA,IAAAyB,EAAA8D,CAAM,EAAC,OAAS,CAAC,EAAA7C,GAAAC,EAAA,EAAAD,GAAAqE,GAAA,EAAA,oEA0JR2I,GAAAvM,GAAAH,IAAA1B,EAAAiY,YAAAA,CAAwB,CAAA,gFAwC9BF,CAAsB,GAAA3W,GAAA8H,EAAA,0IALjB6O,CAAsB,gCA9djC9T,CAAM,EAAAvF,EAAA,IAAAyB,EAigB0B8D,CAAM,EAAC,MAAM,GAAA,EAAA,GAAA,mBA1B1C9F,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBA0BxBA,EAAK,EAAC,EAAE,gBAAgB,CAAA,KArEd8H,GAAApE,GAAA,IAAA1B,EAAA6X,CAAW,QAAXA,EAAWtW,EAAA,CAAA,EAINtD,GAAA,SAAAyD,GAAA,IAAA,CACZ,GAAA1B,EAAA6X,CAAW,EAAC,OAAS,EAAG,CACrB,MAAAhZ,OAAa,WACnBA,GAAO,OAAgB,MAAAiP,IAAU,CAChCjO,EAAA+X,EAAyB,EAAI,EAEzB,GAAA,OACG9T,GAAS,KAAK,MAAM,OAAOgK,GAAM,OAAO,MAAM,CAAA,QAClC0L,GAAa,aAAa,MAAO1V,EAAM,GAGxD1F,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,QAC9C4P,EAAI,GAEVxP,GAAM,MAAMJ,EAAK,EAAC,EAAE,yBAAyB,CAAA,CAE9C,OAAQW,GAAG,CACXP,GAAM,OAAMO,IAAA,YAAAA,GAAG,SAAUX,EAAK,EAAC,EAAE,mBAAmB,CAAA,CAErD,CAEA6B,EAAA+X,EAAyB,EAAK,GAE/B/Y,GAAO,WAAWmB,EAAA6X,CAAW,EAAC,CAAC,CAAA,CAChC,EACA,EAMe5Z,GAAA,QAAA0Y,GAAA,IAAA,CACf3W,EAAA8X,CAAwB,EAAC,QACzB,EA2BqB7Z,GAAA,QAAAqY,GAAA,SAAA,CACrB6B,IAAerU,CAAM,CAAA,EACrB,yCAxEA,QAAAtF,GAAAuN,GAAK,IAAL,YAAAvN,GAAO,QAAS,QAAO,GAAAyC,GAAA4H,EAAA,2CAjbzBkP,EAAc,EAkOXxZ,EAAA,IAAAyB,EAAA+X,EAAc,EAAC,MAAM,4CAFvB/Z,EAAK,EAAC,EAAE,QAAQ,CAAA,kBAyCHA,EAAK,EAAC,EAAE,eAAe,CAAA,KADxBwD,EAAA9C,GAAA,IAAAsB,EAAAkY,CAAW,QAAXA,EAAW3W,EAAA,CAAA,qCA7QxBuC,CAAM,IAMNmM,EAAe,UAmhBVnM,CAAM,EAAC,KAAMkL,IAAMA,GAAE,KAAEhP,EAAKiQ,EAAe,CAAA,CAAA,oDAC1C,GACG,SAAAvG,IAAU,CAEpB0O,GAAmB1O,EAAK,EACxB7J,EAAAoQ,GAAkB,IAAI,CACtB,EACa,OAAA,IAAA,CACbpQ,EAAAoQ,GAAkB,IAAI,CACtB,gBAjUEjQ,EAAAiQ,EAAe,IAAK,KAAIhP,GAAA6H,EAAA,EAAA7H,GAAA+H,GAAA,EAAA,wFADzBhJ,EAAA8D,CAAM,IAAK,KAAI7C,EAAAkI,EAAA,EAAAlI,EAAAgI,GAAA,EAAA,sBALpB,krCC5QA,mDAEOjM,GAAOC,GAAW,MAAM,MAUnBwc,GAAQtc,GAAAC,GAAA,WAAA,EAAA,IAAS,CAAA,CAAE,EACnBsc,EAAQvc,GAAAC,GAAA,WAAA,EAAA,IAAS,CAAA,CAAE,EAEnBqG,sBAAW,EAAK,EAEhBwT,iBAAM,EAAE,EACR0C,iBAAM,EAAE,EACRjd,EAAMS,GAAAC,GAAA,SAAA,GAAA,KAAA,CAAA,EAAA,EAEb4a,IAAkB,EAAK,EACvBnH,IAA0B,EAAK,mDAIxBA,CAAuB,kBAAvBA,EAAuBtP,EAAA,aAChB,QAAA,IAAA,CACjBkY,GAAQ,EAAA,CACR,+BAOA,IAAAzM,GAAA4M,EAAA,KAAA,CAAA,IAAA3C,EAAG,EACH,IAAA0C,EACA,EAAA,OAAAjd,EAAA,CAAA,EAAA,+CAEe,SAAA,IAAA,CACfmD,EAAAgR,EAA0B,EAAI,CAC9B,EACU,SAAAgJ,GAAe,CACzB5C,EAAM4C,EAAW,GAAG,EACpBF,EAAME,EAAW,GAAG,EACpBnd,EAASmd,EAAW,MAAM,EAC1BH,EAAQ,EAACG,CAAU,CACnB,sBAdU7B,CAAe,iBAAfA,EAAezW,CAAA,4DAjBf0V,EAAG,CAAA,QAqCJjZ,EAAK,EAAC,EACd,yDAAA,CAAA,IAAAiZ,EAAA,CAAA,CAAA,CAAA,4KApCSva,EAAM,CAAA,0BAwCT8B,GAAA9B,EAAM,IAAN,YAAA8B,GAAQ,SAAU,IAAI,yDAYhB,oKAGNiF,GAAQ,GAAAxC,GAAAkE,EAAA,sEAPkC1B,GAAQ,EAAG,OAAS,EAAE,EAAA,yCACvDzF,EAAK,EAAC,EAAE,cAAc,CAAA,EAAA,OACvBiZ,CAAG,kFAgCAjZ,EAAK,EAAC,EAAE,WAAW,CAAA,EAAA,+GAGnBC,GAAA,QAAAc,EAAA,IAAA,CACfc,EAAAmY,EAAkB,EAAI,EACtB,4DAnFL,wYCvBA,mDAGOhb,GAAOC,GAAW,MAAM,EAMnB,IAAA0N,mBAAO,EAAK,EACZoI,mBAAwB,IAAI,+KAmBlB,QAAQ,CAAA,2GATxB/U,IAAM,EAAE,eAAe,CAAA,EAAA,CAAA,EAKTC,GAAA,QAAAc,EAAA,IAAA,CACf4L,GAAO,EAAK,EACZ,sDAhBL,onBCXA,mDAEO3N,GAAOC,GAAW,MAAM,MAYnBwc,GAAQtc,GAAAC,GAAA,WAAA,EAAA,IAAS,CAAA,CAAE,EACnBsc,EAAQvc,GAAAC,GAAA,WAAA,EAAA,IAAS,CAAA,CAAE,EAEnB6Z,kBAAM,EAAE,EACR7S,gBAAM,CAAC,EACP1H,EAAMS,GAAAC,GAAA,SAAA,GAAA,KAAA,CAAA,EAAA,EAEb6a,IAAkB,EAAK,EACvBD,IAAkB,EAAK,EACvBnH,IAA0B,EAAK,0CANxBoG,GAAG,CAAA,KAEHva,EAAM,CAAA,EAYhB6B,EAAA,IAAA,OAAA,OAAA,IAAA0Y,GAAG,EACH,MAAKzY,EAAA9B,MAAA,YAAA8B,EAAQ,MAAO,GACpB,OAAQ9B,EAAA,CAAA,EAAA,0DAEO,SAAA,IAAA,CACfmD,EAAAgR,EAA0B,EAAI,CAC9B,EACU,SAAAgJ,GAAe,CACzB5C,GAAM4C,EAAW,GAAG,EACpBnd,EAAM,CAAA,GAAQmd,EAAW,OAAQ,IAAKA,EAAW,GAAG,CAAA,EACpDH,EAAQ,EAACG,CAAU,CACnB,sBAbU7B,CAAe,iBAAfA,EAAezW,CAAA,wDAiBfsP,CAAuB,iBAAvBA,EAAuBtP,CAAA,aAChB,QAAA,IAAA,CACjBkY,GAAQ,EAAA,EACR5Z,EAAAmY,EAAkB,EAAK,CACvB,wDAGqD5T,EAAG,uBAA5B6T,CAAe,iBAAfA,EAAe1W,CAAA,6DApCjC0V,GAAG,CAAA,QAyCJjZ,EAAK,EAAC,EACd,iDAAA,CAAA,IAAAiZ,GAAA,CAAA,CAAA,CAAA,yKAxCSva,EAAM,CAAA,0BA4CT8B,GAAA9B,EAAM,IAAN,YAAA8B,GAAQ,SAAU,IAAI,wCAUlB,6CAFGR,EAAK,EAAC,EAAE,yCAAyC,CAAA,SAClDiZ,EAAG,iFAMEjZ,EAAK,EAAC,EAAE,QAAQ,CAAA,EAAA,+GAGhBC,GAAA,QAAAc,EAAA,IAAA,CACfc,EAAAoY,EAAkB,EAAI,EACtB,uEAOeja,EAAK,EAAC,EAAE,WAAW,CAAA,EAAA,8GAGnBC,GAAA,QAAAe,EAAA,IAAA,CACfa,EAAAmY,EAAkB,EAAI,EACtB,6DAvEL,8tECxBA,mIAIO/R,GAAWC,KAkBXlJ,EAAOC,GAAW,MAAM,EAExB8G,EAAwB,SAAA,qBACjB,MAASiE,GACpB,aAAa,QACbxH,IAAAhC,GAAAC,EAAO,IAAP,YAAAD,GAAS,WAAT,YAAAgC,GAAmB,+BAA8BwD,GAAAE,EAAW,IAAX,YAAAF,GAAW,oBAAqB,MACjF,GACA,EAAA,GAME,IAAA8V,KAAoB,EAAE,CAAA,EACtBC,EAAkBta,EAAA,CAAA,CAAA,EAElBua,KAAmB,EAAE,CAAA,EACrBC,KAAwB,EAAE,CAAA,EAC1BC,EAAkBza,EAAA,CAAA,CAAA,EAElB0a,IAAoC,IAAI,EACxCC,IAAoC,IAAI,EAExCC,KAAoB,IAAI,EAExBC,GAAY7a,EAAA,CAAA,CAAA,EACZ8a,KAA+B,EAAK,EACpCC,KAA+B,EAAK,EAElC,MAAAC,EAAkC,SAAA,MACnCN,CAAiB,IAAK,KAAM,CAK3B,GAHJta,EAAAoa,EAAuBja,EAAAia,CAAoB,EAAC,IAAKhD,IAAQA,GAAI,QAAQ,MAAO,EAAE,CAAA,CAAA,EAG1EjX,EAAAga,CAAe,EAAC,SAAMha,EAAKia,CAAoB,EAAC,SAE/Cja,EAAAga,CAAe,EAAC,OAAMha,EAAGia,CAAoB,EAAC,UACjDD,EAAeha,EAAGga,CAAe,EAAC,MAAM,EAACha,EAAEia,CAAoB,EAAC,MAAM,CAAA,EAInEja,EAAAga,CAAe,EAAC,OAAMha,EAAGia,CAAoB,EAAC,QAAQ,CACnD,MAAAS,KAAOT,CAAoB,EAAC,OAASja,EAAAga,CAAe,EAAC,eAClDW,GAAI,EAAGA,GAAID,GAAMC,OACzBX,CAAe,EAAC,KAAK,EAAE,CAEzB,CAGiB,MAAAY,GAAmB,aAAa,MAAK,CACtD,oBAAmBT,CAAiB,EACpC,uBAAsBF,CAAoB,EAC1C,kBAAiBD,CAAe,EAChC,mBAAoBha,EAAAka,CAAA,IAClB,MAAO7d,IAAU,CACnB+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACpB,IAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,6BAA6B,CAAA,QAC7C8F,GAAO,IAAG,MAAOC,EAAS,CAAA,EAElC,GAGK8W,EAAkC,SAAA,GACnCT,CAAiB,IAAK,OAEzBva,EAAAia,EAAmB9Z,EAAA8Z,CAAgB,EAAC,IAAK7C,IAAQA,GAAI,QAAQ,MAAO,EAAE,CAAA,CAAA,EAEpD,MAAA6D,GAAmB,aAAa,MAAK,CACtD,oBAAmBV,CAAiB,EACpC,mBAAkBN,CAAgB,EAClC,mBAAoB9Z,EAAA+Z,CAAA,IAClB,MAAO1d,IAAU,CACnB+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACpB,IAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,6BAA6B,CAAA,QAC7C8F,GAAO,IAAG,MAAOC,EAAS,CAAA,KAK7BgX,EAAuC,SAAA,CAC1B,MAAAC,GAAqB,aAAa,MAAOhb,EAAAqa,EAAiB,CAAE,EAAA,MAAOhe,IAAU,CAC9F+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACpB,IAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,QAC9C8F,GAAO,IAAG,MAAOC,EAAS,CAAA,QAC1BrH,GAAO,IAAG,MAAO+L,GAAgB,CAAA,IAInCwS,GAA0B,MAAUpB,GAAe,CACxDha,EAAAoa,EAA2B,CAAA,GAAAja,EAAAia,CAAoB,EAAEJ,EAAW,GAAG,CAAA,EAC/Dha,EAAAma,EAAsB,CAAA,GAAAha,EAAAga,CAAe,EAAEH,EAAW,GAAG,CAAA,IACrDK,EAAkBla,EAAlBka,CAAkB,EAAAla,EAACia,CAAoB,EAAC,OAAS,CAAC,EAAIJ,EAAW,MAAM,QAEjEY,EAAmB,GAGpBS,EAA0B,MAAUrB,GAAe,CACxDha,EAAAia,EAAuB,CAAA,GAAA9Z,EAAA8Z,CAAgB,EAAED,EAAW,GAAG,CAAA,EACvDpY,EAAAsY,IAAAA,CAAkB,EAAA/Z,EAAC8Z,CAAgB,EAAC,OAAS,CAAC,EAC1C,CAAA,GAAAD,EAAW,OACd,IAAKA,EAAW,GAAA,CAAA,QAGXgB,EAAmB,GAG1B9c,GAAoB,SAAA,OACf,KAAAS,EAAAuN,GAAK,IAAL,YAAAvN,EAAO,QAAS,QAAS,KACxBuY,GAAY,CAAA,EACZoE,GAAY,CAAA,EAwBZ,GAtBE,MAAA,QAAQ,IAAG,EACH,SAAA,CACZpE,GAAqB,MAAAI,GAAgB,aAAa,KAAK,IACvD,GACY,SAAA,CACZgE,GAAqB,MAAAC,GAAgB,aAAa,KAAK,IACvD,GACY,SAAA,CACZvb,EAAAwa,GAA0B,MAAAgB,GAAqB,aAAa,KAAK,CAAA,IACjE,MAGFlB,EAAoBgB,GAAa,iBAAiB,IAClDf,EAAoBrD,GAAa,iBAAiB,IAElDkD,EAAuBkB,GAAa,oBAAoB,IACxDnB,EAAkBmB,GAAa,eAAe,IAC9CjB,EAAqBiB,GAAa,kBAAkB,IAEpDrB,EAAmB/C,GAAa,gBAAgB,IAChDgD,EAAqBhD,GAAa,kBAAkB,EAEhD/W,EAAAma,CAAiB,EAAE,CAEV,SAAA,CAAA/V,GAAK6S,EAAG,IAAAjX,EAAKia,CAAoB,EAAC,YACxCC,CAAkB,EAAC9V,EAAG,GAE1B3C,EAAAyY,IAAAA,CAAkB,EAAC9V,EAAG,EAAIpE,EAAAka,CAAkB,EAACjD,EAAG,GAAA,CAAA,CAAA,EAIlDjX,EAAAia,CAAoB,EAAC,QAAO,MAAQhD,GAAK7S,KAAQ,QAE1C,GADN3C,EAAAyY,IAAAA,CAAkB,EAAC9V,EAAG,EAAIpE,EAAAka,CAAkB,EAAC9V,EAAG,GAAA,CAAA,CAAA,EAC1C,IAAApE,GAAAA,EAAAka,CAAkB,EAAC9V,EAAG,IAAtBpE,YAAAA,GAAyB,SAAU,kBAGvBsb,GAAgB,aAAa,MAAOlX,EAAG,GACjD,WACP3C,EAAA6Y,GAAAta,EAAAsa,EAAY,EAACrD,EAAG,EAAI,EAAI,EAEzB,CACF,CAEI,GAAAjX,EAAAoa,CAAiB,EACR,SAAA,CAAAhW,GAAK6S,EAAG,IAAAjX,EAAK8Z,CAAgB,EAAC,YACpCC,CAAkB,EAAC3V,EAAG,GAC1B3C,EAAAsY,IAAAA,CAAkB,EAAC3V,EAAG,EAAIpE,EAAA+Z,CAAkB,EAAC9C,EAAG,GAAA,CAAA,CAAA,CAIpD,EACA,EAEK,MAAAlG,GAA4B,SAAA,CACjC0J,IACAI,IAEA5U,GAAS,MAAM,QAETvJ,GAAO,IAAG,MAAO+L,GAAgB,CAAA,yCAM9BwS,uBADCV,EAA4B,iBAA5BA,GAA4BhZ,CAAA,uDAO7B2Z,sBADCV,EAA4B,iBAA5BA,GAA4BjZ,CAAA,4NAoBlB4Y,CAAiB,mBAAjBA,EAAiB5Y,EAAA,aACN,OAAA,SAAA,CACtBkZ,GACA,8HAWgB,IAAAzN,GAAA4M,EAAA,IAAA5b,EAAK,EAAC,EAAC,gBAAA,CAAA,6FAGPC,GAAA,QAAAc,GAAA,IAAA,CACfc,EAAA0a,GAA+B,EAAI,EACnC,wDASInZ,GAAAma,GAAA,EAAA,IAAAvb,EAAAia,CAAoB,SAAIhD,GAAG7S,KAAA,EAKtB,IAAA4I,GAAA4M,EAAA,IAAA5Z,EAAAA,EAAAsa,EAAY,EAACta,EAAAiX,EAAG,CAAI,CAAY,sCAC1B,SAAA,IAAA,CACfwD,GACA,EACe,SAAA,IAAA,GACfR,EAAoBja,EAAGia,CAAoB,EAAC,OAAM,CAChDhD,GAAKlE,KAAW3O,KAAQ2O,EAAA,CAAA,IAE1BiH,EAAeha,EAAGga,CAAe,EAAC,OAAM,CAAEL,GAAK6B,KAAWpX,KAAQoX,EAAM,CAAA,MAEpEC,GAAS,CAAA,EACbzb,EAAAia,CAAoB,EAAC,QAAO,CAAEhD,GAAKyE,KAAW,CAC7CD,GAAUC,EAAM,EACf1b,EAAAka,CAAkB,EAACwB,GAAStX,GAAMsX,GAASA,GAAS,CAAC,EACtD,EACD7b,EAAAqa,EAAqBuB,EAAS,EAC9BhB,GACA,YApBS,OAAAza,EAAAia,CAAoB,EAAC7V,EAAG,iBAAxB6V,EAAoBja,EAApBia,CAAoB,EAAC7V,EAAG,EAAA7C,EAAA,aACxB,OAAAvB,EAAAga,CAAe,EAAC5V,EAAG,iBAAnB4V,EAAeha,EAAfga,CAAe,EAAC5V,EAAG,EAAA7C,EAAA,gBAChB,OAAAvB,EAAAka,CAAkB,EAAC9V,EAAG,oBAAtB8V,EAAkBla,EAAlBka,CAAkB,EAAC9V,EAAG,EAAA7C,EAAA,mDApBHvD,EAAK,EAAC,EAAE,+BAA+B,CAAA,CAAA,wBAHvEmc,CAAiB,GAAAlZ,GAAAiE,EAAA,uHAwDRkV,CAAiB,mBAAjBA,EAAiB7Y,EAAA,aACN,OAAA,SAAA,CACtBsZ,GACA,wHAUiB,IAAA7N,GAAA4M,EAAA,IAAA5b,EAAK,EAAC,EAAC,gBAAA,CAAA,2FAGPC,GAAA,QAAAe,GAAA,IAAA,CACfa,EAAA2a,GAA+B,EAAI,EACnC,iEAUKpZ,GAAAua,GAAA,EAAA,IAAA3b,EAAA8Z,CAAgB,SAAI7C,GAAG7S,KAAA,eAKZ,SAAA,IAAA,CACfyW,GACA,EACe,SAAA,IAAA,GACff,EAAgB9Z,EAAG8Z,CAAgB,EAAC,OAAM,CAAE7C,EAAKlE,IAAW3O,KAAQ2O,CAAM,CAAA,MAEtE0I,GAAS,CAAA,EACbzb,EAAA8Z,CAAgB,EAAC,QAAO,CAAE7C,EAAKyE,IAAW,CACzCD,GAAUC,CAAM,EACf1b,EAAA+Z,CAAkB,EAAC2B,EAAStX,GAAMsX,EAASA,EAAS,CAAC,EACtD,EACD7b,EAAAka,EAAqB0B,EAAS,CAC9B,YAfS,OAAAzb,EAAA8Z,CAAgB,EAAC1V,EAAG,iBAApB0V,EAAgB9Z,EAAhB8Z,CAAgB,EAAC1V,EAAG,EAAA7C,EAAA,gBACjB,OAAAvB,EAAA+Z,CAAkB,EAAC3V,EAAG,oBAAtB2V,EAAkB/Z,EAAlB+Z,CAAkB,EAAC3V,EAAG,EAAA7C,EAAA,uJApBJvD,EAAK,EAAC,EAAE,+BAA+B,MAyCxEA,EAAK,EAAC,EAAE,2BAA2B,MAMlCA,EAAK,EAAC,EAAE,sBAAsB,0BAlD9Boc,CAAiB,GAAAnZ,GAAAkE,EAAA,iHAgEN,OAAAnF,EAAAqa,EAAiB,EAAC,2CAAlBA,GAAiBra,EAAjBqa,EAAiB,EAAC,0BAAyB9Y,EAAA,aAChC,OAAA,SAAA,CACtBwZ,GACA,iLAsBW,OAAA/a,EAAAqa,EAAiB,EAAC,0CAAlBA,GAAiBra,EAAjBqa,EAAiB,EAAC,yBAAwB9Y,EAAA,aAC/B,OAAA,SAAA,CACtBwZ,GACA,8KAjL6C/c,EAAK,EAAC,EAAE,SAAS,MAOrCA,EAAK,EAAC,EAAE,YAAY,MAkErBA,EAAK,EAAC,EAAE,YAAY,MAuEpBA,EAAK,EAAC,EAAE,oBAAoB,MAevDA,EAAK,EAAC,EACN,yFAAwF,MAStDA,EAAK,EAAC,EAAE,uBAAuB,MAejEA,EAAK,EAAC,EACN,wJAAuJ,8GA3LvJmc,CAAiB,IAAK,MAAQna,EAAAoa,CAAiB,IAAK,MAAIpa,EAAIqa,EAAiB,IAAK,KAAIpZ,EAAAoE,CAAA,EAAApE,EAAAE,GAAA,EAAA,gFA8MzFnD,EAAK,EAAC,EAAE,MAAM,CAAA,CAAA,oBAhNmE+S,EAAa,CAAA,kBAblG,+leC5MA,mDAKO9K,GAAWC,KA0BXlJ,GAAOC,GAAW,MAAM,EAE1B,IAAA2e,IAA8B,EAAK,EAGnCC,KAAmB,EAAK,EACxBC,IAA4B,EAAK,EACjCC,IAAqB,EAAK,EAE1BC,IAAuB,EAAE,EACzBC,IAAsB,EAAE,EACxBC,IAA2B,CAAC,EAC5BC,IAAyB,EAAI,EAI7BC,IAAY,EAAE,EACdC,IAAY,EAAE,EAEdC,IAAiB,EAAE,EACnBC,KAAiB,EAAE,EACnBC,KAAqB,EAAE,EAEvBC,KAAY,EAAE,EACdC,KAAY,EAAE,EAUdC,IAAY,IAAI,EAEd,MAAAC,EAA0C,SAAA,CAC3C,GAAA5c,EAAAgc,CAAoB,IAAK,IAAMhc,EAAAic,CAAmB,EAAC,MAAM,GAAG,EAAE,OAAS,EAAI,EAAG,CACjF7d,GAAM,MACLJ,EAAK,EAAC,EACL,0FAAyF,CAAA,QAI5F,CACI,GAAAgC,EAAAgc,CAAoB,IAAK,UAAQhc,EAAIic,CAAmB,IAAK,GAAI,CACpE7d,GAAM,MACLJ,EAAK,EAAC,EACL,0FAAyF,CAAA,QAI5F,CAEI,GAAAgC,EAAAgc,CAAoB,IAAK,UAAQhc,EAAIic,CAAmB,IAAK,GAAI,CACpE7d,GAAM,MACLJ,EAAK,EAAC,EACL,0FAAyF,CAAA,QAI5F,CAGC,GAAAgC,EAAAgc,CAAoB,IAAK,iBACxBhc,EAAAuc,EAAc,IAAK,IAAEvc,EAAIsc,CAAc,IAAK,IAAEtc,EAAIwc,EAAkB,IAAK,IACzE,CACDpe,GAAM,MAAMJ,EAAK,EAAC,EAAE,0BAA0B,CAAA,QAE/C,GAGCge,CAAoB,IACpBC,CAAmB,IACnBC,CAAwB,EACxBlc,EAAAmc,CAAA,EAGDtc,EAAA+b,EAA8B,EAAI,EAC5B,MAAAtf,EAAY,MAAAugB,GAAsB,aAAa,MAAK,CACzD,uBAAsBb,CAAoB,EAC1C,sBAAqBC,CAAmB,EACxC,2BAA0BC,CAAwB,EAClD,yBAAwBC,CAAsB,EAC9C,eACC,IAAGnc,EAAE0c,EAAS,EACd,IAAK1c,EAAAyc,EAAA,CAAA,EAEN,eACC,IAAGzc,EAAEqc,CAAS,EACd,IAAKrc,EAAAoc,CAAA,CAAA,EAEN,oBAAmB,CAClB,MAAKG,EAAc,EACnB,MAAKD,CAAc,EACnB,QAAStc,EAAAwc,EAAA,KAER,MAAK,MAAQngB,KACf+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,QACdygB,GAAkB,EACjB,KACP,EACDjd,EAAA+b,EAA8B,EAAK,GAO9B7K,EAA4B,SAAA,MAEhC4L,CAAS,EAAC,4BAA8B,YAAU3c,EAClD2c,CAAS,EAAC,+BAAiC,GAC1C,CACDve,GAAM,MAAMJ,EAAK,EAAC,EAAE,wCAAwC,CAAA,QAE7D,MACI2e,CAAS,EAAC,4BAA8B,QAAM3c,EAAI2c,CAAS,EAAC,kBAAoB,GAAI,CACvFve,GAAM,MAAMJ,EAAK,EAAC,EAAE,2BAA2B,CAAA,QAEhD,MACI2e,CAAS,EAAC,4BAA8B,WAAS3c,EAAI2c,CAAS,EAAC,qBAAuB,GAAI,CAC7Fve,GAAM,MAAMJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,QAEnD,CAEC,GAAAgC,EAAA2c,CAAS,EAAC,4BAA8B,kBAAgB3c,EACxD2c,CAAS,EAAC,kCACV3c,EAAA2c,CAAS,EAAC,iCAAiC,KAAI,IAAO,GAElD,GAAA,CACH,KAAK,MAAM3c,EAAA2c,CAAS,EAAC,gCAAgC,CACrD,MAAW,CACXve,GAAM,MAAMJ,EAAK,EAAC,EAAE,0CAA0C,CAAA,QAE/D,MAIA2e,CAAS,EAAC,4BAA8B,yBAAuB3c,EAC/D2c,CAAS,EAAC,iCAAmC,GAC5C,CACDve,GAAM,MAAMJ,EAAK,EAAC,EAAE,0CAA0C,CAAA,QAE/D,MAEC2e,CAAS,EAAC,4BAA8B,eAAa3c,EACrD2c,CAAS,EAAC,sBAAwB,GACjC,CACDve,GAAM,MAAMJ,EAAK,EAAC,EAAE,+BAA+B,CAAA,QAEpD,CAGC,GAAAgC,EAAA2c,CAAS,EAAC,4BAA8B,UAAQ3c,EAChD2c,CAAS,EAAC,kBAAoB,WAC9BA,CAAS,EAAC,iBAAmB,GAC5B,CACDve,GAAM,MAAMJ,EAAK,EAAC,EAAE,6CAA6C,CAAA,QAElE,MAEK2e,CAAS,EAAC,sCACRC,EAA2B,IAG9BD,CAAS,EAAC,eACT,GAAA,CACH,KAAK,MAAM3c,EAAA2c,CAAS,EAAC,cAAc,CACnC,MAAW,CACXve,GAAM,MACLJ,IAAM,EAAE,kCAAiC,CACxC,KAAMA,EAAM,EAAA,EAAE,oBAAoB,CAAA,CAAA,CAAA,QAIrC,MAEG2e,CAAS,EAAC,cACT,GAAA,CACH,KAAK,MAAM3c,EAAA2c,CAAS,EAAC,aAAa,CAClC,MAAW,CACXve,GAAM,MAAMJ,EAAK,EAAC,EAAE,0CAA0C,CAAA,QAE/D,CAGiB,MAAA+e,GAAgB,aAAa,MAAK,MAChDJ,CAAS,EACZ,wBAAuB3c,EAAE2c,CAAS,EAAC,wBAAwB,MAAM,GAAG,EAClE,IAAKK,GAAQA,EAAI,MACjB,EAAA,OAAQA,GAAQA,IAAQ,EAAE,EAC5B,eAAc,OAAAhd,EACN2c,CAAS,EAAC,gBAAmB,UAAQ3c,EAAI2c,CAAS,EAAC,eAAe,SAAW,GACjF,KAAK,MAAK3c,EAAC2c,CAAS,EAAC,cAAc,EAAA,CAAA,EAEvC,cAAa,OAAA3c,EACL2c,CAAS,EAAC,eAAkB,UAAQ3c,EAAI2c,CAAS,EAAC,cAAc,SAAW,GAC/E,KAAK,MAAK3c,EAAC2c,CAAS,EAAC,aAAa,EAAA,CAAA,IAGvC1W,GAAS,MAAM,GAGV6W,GAAiC,SAAA,CAChC,MAAAG,EAAwB,MAAAC,GAAmB,aAAa,KAAK,EAE/DD,MACHjB,EAAuBiB,EAAgB,oBAAoB,IAC3DhB,EAAsBgB,EAAgB,mBAAmB,EACzDpd,EAAAqc,EAA2Be,EAAgB,0BAA4B,CAAC,EACxEpd,EAAAsc,EAAyBc,EAAgB,wBAA0B,EAAI,EAEvEpd,EAAAwc,EAAYY,EAAgB,cAAc,GAAG,EAC7Cpd,EAAAuc,EAAYa,EAAgB,cAAc,GAAG,EAE7Cpd,EAAA6c,GAAYO,EAAgB,cAAc,GAAG,EAC7Cpd,EAAA4c,GAAYQ,EAAgB,cAAc,GAAG,EAE7Cpd,EAAA0c,GAAiBU,EAAgB,oBAAoB,GAAG,EACxDpd,EAAAyc,EAAiBW,EAAgB,oBAAoB,GAAG,EACxDpd,EAAA2c,GAAqBS,EAAgB,oBAAoB,OAAO,IAGlElf,GAAoB,SAAA,OACb+e,GAAkB,EAElB,MAAApgB,EAAe,MAAAygB,GAAa,aAAa,KAAK,EACpDzgB,EAAO,0BAA2BA,GAAA,YAAAA,EAAQ,0BAAuB,IAAQ,KAAK,IAAI,EAElFA,EAAO,eAAc,OACbA,EAAO,gBAAmB,SAC9B,KAAK,UAAUA,EAAO,gBAAc,CAAA,EAAQ,KAAM,CAAC,EACnDA,EAAO,eAEXA,EAAO,cAAa,OACZA,EAAO,eAAkB,SAC7B,KAAK,UAAUA,EAAO,eAAa,CAAA,EAAQ,KAAM,CAAC,EAClDA,EAAO,cAEXmD,EAAA8c,EAAYjgB,CAAM,EAClB,qDAIUof,CAAyB,iBAAzBA,EAAyBva,CAAA,aACZ,QAAA,SAAA,CACd,MAAS6b,GAAe,aAAa,KAAK,EAAE,MAAO/gB,KAC3D+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,GAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,SAAS,CAAA,CAEhC,yDAIU6d,EAAgB,iBAAhBA,GAAgBta,CAAA,aACT,QAAA,IAAA,CACL8b,GAAc,aAAa,KAAK,EAAE,MAAOhhB,KACpD+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,GAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,SAAS,CAAA,CAEhC,wDAIU+d,CAAkB,iBAAlBA,EAAkBxa,CAAA,aACL,QAAA,SAAA,CACd,MAAS+b,GAAsB,aAAa,KAAK,EAAE,MAAOjhB,KAClE+B,GAAM,MAAK,GAAI/B,EAAK,EAAA,EACb,KACP,GAGA+B,GAAM,QAAQJ,EAAK,EAAC,EAAE,SAAS,CAAA,CAEhC,kMAyBmB2e,CAAS,kpBAqBA,OAAA3c,EAAA2c,CAAS,EAAC,oCAAVA,EAAS3c,EAAT2c,CAAS,EAAC,mBAAkBpb,EAAA,uDAH/CvD,EAAK,EAAC,EAAE,0BAA0B,CAAA,CAAA,kGAU3BA,EAAK,EAAC,EACd,4FAA2F,CAAA,qJAO9EA,EAAK,EAAC,EAAE,mCAAmC,CAAA,CAAA,EAC5CwD,EAAA9C,GAAA,IAAAsB,EAAA2c,CAAS,EAAC,4BAA2Bpb,IAAAE,EAArCkb,EAAA3c,EAAA2c,CAAS,EAAC,4BAA2Bpb,EAAA,CAAA,+EAMrCvD,EAAK,EAAC,EAAE,8BAA8B,CAAA,kDACzC,eACE,OAAAgC,EAAA2c,CAAS,EAAC,wCAAVA,EAAS3c,EAAT2c,CAAS,EAAC,uBAAsBpb,EAAA,gHAWjCvD,EAAK,EAAC,EACd,iZAAkZ,CAAA,+GAOrYA,EAAK,EAAC,EAAE,mDAAmD,CAAA,qDAD5D,OAAAgC,EAAA2c,CAAS,EAAC,kDAAVA,EAAS3c,EAAT2c,CAAS,EAAC,iCAAgCpb,EAAA,2GAW/CvD,EAAK,EAAC,EACd,wJAAuJ,CAAA,mHAIvJA,EAAK,EAAC,EAAE,SAAS,CAAA,CAAA,oFAIC,OAAAgC,EAAA2c,CAAS,EAAC,wCAAVA,EAAS3c,EAAT2c,CAAS,EAAC,uBAAsBpb,EAAA,4EAM1CvD,EAAK,EAAC,EAAE,6DAA6D,CAAA,mHAG7EA,EAAK,EAAC,EAAE,YAAY,CAAA,CAAA,oFAIF,OAAAgC,EAAA2c,CAAS,EAAC,2CAAVA,EAAS3c,EAAT2c,CAAS,EAAC,0BAAyBpb,EAAA,4EAM7CvD,EAAK,EAAC,EACd,0HAAyH,CAAA,mHAIzHA,EAAK,EAAC,EAAE,WAAW,CAAA,CAAA,oFAID,OAAAgC,EAAA2c,CAAS,EAAC,0CAAVA,EAAS3c,EAAT2c,CAAS,EAAC,yBAAwBpb,EAAA,4EAM5CvD,EAAK,EAAC,EACd,sHAAqH,CAAA,mHAIrHA,EAAK,EAAC,EAAE,UAAU,CAAA,CAAA,oFAIA,OAAAgC,EAAA2c,CAAS,EAAC,yCAAVA,EAAS3c,EAAT2c,CAAS,EAAC,wBAAuBpb,EAAA,4EAM3CvD,EAAK,EAAC,EACd,0GAAyG,CAAA,mHAIzGA,EAAK,EAAC,EAAE,oBAAoB,CAAA,CAAA,oFAIV,OAAAgC,EAAA2c,CAAS,EAAC,mDAAVA,EAAS3c,EAAT2c,CAAS,EAAC,kCAAiCpb,EAAA,4EAMrDvD,EAAK,EAAC,EACd,0HAAyH,CAAA,mHAIzHA,EAAK,EAAC,EAAE,0BAA0B,CAAA,CAAA,oFAIhB,OAAAgC,EAAA2c,CAAS,EAAC,yDAAVA,EAAS3c,EAAT2c,CAAS,EAAC,wCAAuCpb,EAAA,4EAM3DvD,EAAK,EAAC,EACd,kIAAiI,CAAA,mHAIjIA,EAAK,EAAC,EAAE,cAAc,CAAA,CAAA,oFAIJ,OAAAgC,EAAA2c,CAAS,EAAC,6CAAVA,EAAS3c,EAAT2c,CAAS,EAAC,4BAA2Bpb,EAAA,4EAM/CvD,EAAK,EAAC,EACd,+FAA8F,CAAA,mHAI9FA,EAAK,EAAC,EAAE,eAAe,CAAA,CAAA,0EAMZ2e,CAAS,kRAxIpB3e,EAAK,EAAC,EAAE,mBAAmB,MA0IFA,EAAK,EAAC,EAAE,UAAU,MACtBA,EAAK,EAAC,EAAE,MAAM,MACdA,EAAK,EAAC,EAAE,MAAM,IAJxBwE,GAAAE,GAAA,IAAA1C,EAAA2c,CAAS,EAAC,6BAA4Bpb,IAAAE,EAAtCkb,EAAA3c,EAAA2c,CAAS,EAAC,6BAA4Bpb,EAAA,CAAA,8GAgBtCvD,EAAK,EAAC,EAAE,wCAAwC,CAAA,kDACnD,eACE,OAAAgC,EAAA2c,CAAS,EAAC,kDAAVA,EAAS3c,EAAT2c,CAAS,EAAC,iCAAgCpb,EAAA,yDANzCvD,EAAK,EAAC,EAAE,oCAAoC,CAAA,CAAA,EAC7CwD,EAAAE,GAAA,IAAA1B,EAAA2c,CAAS,EAAC,6BAA4Bpb,IAAAE,EAAtCkb,EAAA3c,EAAA2c,CAAS,EAAC,6BAA4Bpb,EAAA,CAAA,wIAapCvD,EAAK,EAAC,EAAE,uBAAuB,CAAA,CAAA,EAChCwD,EAAAmB,GAAA,IAAA3C,EAAA2c,CAAS,EAAC,gBAAepb,IAAAE,EAAzBkb,EAAA3c,EAAA2c,CAAS,EAAC,gBAAepb,EAAA,CAAA,uHAYzBvD,EAAK,EAAC,EAAE,uBAAuB,CAAA,kDAElC,eADE,OAAAgC,EAAA2c,CAAS,EAAC,iCAAVA,EAAS3c,EAAT2c,CAAS,EAAC,gBAAepb,EAAA,gHAatBvD,EAAK,EAAC,EAAE,4CAA4C,CAAA,iDACxD,gBAFG,OAAAgC,EAAA2c,CAAS,EAAC,gCAAVA,EAAS3c,EAAT2c,CAAS,EAAC,eAAcpb,EAAA,qFAjBzBvD,EAAK,EAAC,EAAE,0BAA0B,MAa7CA,EAAK,EAAC,EAAE,YAAY,IAZVwD,EAAAU,GAAA,IAAAlC,EAAA2c,CAAS,EAAC,mBAAkBpb,IAAAE,EAA5Bkb,EAAA3c,EAAA2c,CAAS,EAAC,mBAAkBpb,EAAA,CAAA,uHA+B3BvD,EAAK,EAAC,EAAE,iCAAiC,CAAA,kDAE5C,eADE,OAAAgC,EAAA2c,CAAS,EAAC,2CAAVA,EAAS3c,EAAT2c,CAAS,EAAC,0BAAyBpb,EAAA,sMALlCvD,EAAK,EAAC,EAAE,sCAAsC,MAW1DA,EAAK,EAAC,EAAE,6BAA6B,MAMvBA,EAAK,EAAC,EAAE,mCAAmC,IAhB9CwD,EAAAW,GAAA,IAAAnC,EAAA2c,CAAS,EAAC,+BAA8Bpb,IAAAE,EAAxCkb,EAAA3c,EAAA2c,CAAS,EAAC,+BAA8Bpb,EAAA,CAAA,EAiBtCC,EAAAG,GAAA,IAAA3B,EAAA2c,CAAS,EAAC,4BAA2Bpb,IAAAE,EAArCkb,EAAA3c,EAAA2c,CAAS,EAAC,4BAA2Bpb,EAAA,CAAA,8GAatCvD,EAAK,EAAC,EAAE,uBAAuB,CAAA,qDAChC,OAAAgC,EAAA2c,CAAS,EAAC,qCAAVA,EAAS3c,EAAT2c,CAAS,EAAC,oBAAmBpb,EAAA,yDAL5BvD,EAAK,EAAC,EAAE,4BAA4B,CAAA,CAAA,EACrCwD,EAAAI,GAAA,IAAA5B,EAAA2c,CAAS,EAAC,yBAAwBpb,IAAAE,EAAlCkb,EAAA3c,EAAA2c,CAAS,EAAC,yBAAwBpb,EAAA,CAAA,uIAgBjCob,CAAS,oOAoCT3e,EAAK,EAAC,EAAE,sBAAsB,CAAA,qDAC/B,OAAAgC,EAAA2c,CAAS,EAAC,gCAAVA,EAAS3c,EAAT2c,CAAS,EAAC,eAAcpb,EAAA,0JAuB1BvD,EAAK,EAAC,EACd,yHAAwH,CAAA,mHAIxHA,EAAK,EAAC,EAAE,YAAY,CAAA,CAAA;;;;;;;WAOZ,gBAFG,OAAAgC,EAAA2c,CAAS,EAAC,+BAAVA,EAAS3c,EAAT2c,CAAS,EAAC,cAAapb,EAAA,mHA1ElCvD,EAAK,EAAC,EAAE,UAAU,MAqBIA,EAAK,EAAC,EAAE,OAAO,MACfA,EAAK,EAAC,EAAE,OAAO,QAS1B2e,CAAS,EAAC,kBAAoB,QACxC3e,EAAK,EAAC,EAAE,2BAA2B,EACnCA,EAAK,EAAC,EAAE,uBAAuB,MAehCA,EAAK,EAAC,EAAE,aAAa,IA5CVwE,GAAAiD,GAAA,IAAAzF,EAAA2c,CAAS,EAAC,gBAAepb,IAAAE,EAAzBkb,EAAA3c,EAAA2c,CAAS,EAAC,gBAAepb,EAAA,CAAA,EACpBtD,GAAA,SAAAwH,GAAA,IAAA,CAEV,MAAA8X,GAAW,4BACXC,GAAW,wBAEbxd,EAAA2c,CAAS,EAAC,kBAAoB,YAC5BA,CAAS,EAAC,gBAAkB3c,EAAA2c,CAAS,EAAC,iBAAmBa,KAC7D/b,EAAAkb,EAAA3c,EAAA2c,CAAS,EAAC,eAAiBY,EAAQ,MAG/BZ,CAAS,EAAC,gBAAkB3c,EAAA2c,CAAS,EAAC,iBAAmBY,KAC7D9b,EAAAkb,EAAA3c,EAAA2c,CAAS,EAAC,eAAiBa,EAAQ,EAGrC,EAeUhc,EAAAK,GAAA,IAAA7B,EAAA2c,CAAS,EAAC,eAAcpb,IAAAE,EAAxBkb,EAAA3c,EAAA2c,CAAS,EAAC,eAAcpb,EAAA,CAAA,EAoBvBC,EAAAM,GAAA,IAAA9B,EAAA2c,CAAS,EAAC,mBAAkBpb,IAAAE,EAA5Bkb,EAAA3c,EAAA2c,CAAS,EAAC,mBAAkBpb,EAAA,CAAA,wBA3DlCob,CAAS,EAAC,4BAA8B,UAAQ1b,GAAAkI,EAAA,6BAZhDwT,CAAS,EAAC,4BAA8B,cAAa1b,GAAA6H,EAAA,EAAA7H,GAAAE,GAAA,EAAA,6BA3BrDwb,CAAS,EAAC,4BAA8B,wBAAuB1b,GAAA4H,EAAA,EAAA5H,GAAAmE,GAAA,EAAA,6BA5B/DuX,CAAS,EAAC,4BAA8B,UAAS1b,GAAA8H,EAAA,EAAA9H,GAAAqE,GAAA,EAAA,6BAVjDqX,CAAS,EAAC,4BAA8B,OAAM1b,GAAAC,EAAA,EAAAD,GAAA+H,GAAA,EAAA,6BAb9C2T,CAAS,EAAC,4BAA8B,WAAU1b,GAAAoE,EAAA,EAAApE,GAAAgI,GAAA,EAAA,6BA3KlD0T,CAAS,EAAC,4BAA8B,iBAAgB1b,GAAAkE,EAAA,EAAAlE,GAAAiI,GAAA,EAAA,6BAX7DyT,CAAS,EAAC,4BAA8B,GAAE1b,GAAAiE,EAAA,EAAAjE,GAAA0E,GAAA,EAAA,yDA0W5B3H,EAAK,EAAC,EAAE,mBAAmB,CAAA,mHAC3CA,EAAK,EAAC,EAAE,gCAAgC,CAAA,CAAA,kEAKhC,IAAAgP,GAAA4M,EAAA,IAAA5Z,EAAA2c,CAAS,EAAC,+BAChB3e,EAAK,EAAC,EACN,6GAA4G,EAE5GA,IAAM,EACN,iHAAgH,CAAA,2EAG/F,OAAAgC,EAAA2c,CAAS,EAAC,gDAAVA,EAAS3c,EAAT2c,CAAS,EAAC,+BAA8Bpb,EAAA,kKAW/Cob,CAAS,8LAYZ3e,EAAK,EAAC,EACd,gFAA+E,CAAA,mHAG/EA,EAAK,EAAC,EAAE,+BAA+B,CAAA,CAAA,oFAIrB,OAAAgC,EAAA2c,CAAS,EAAC,sDAAVA,EAAS3c,EAAT2c,CAAS,EAAC,qCAAoCpb,EAAA,6TAgDrDvD,EAAK,EAAC,EACd,uHAAsH,CAAA,mHAGtHA,EAAK,EAAC,EAAE,uBAAuB,CAAA,CAAA,iIAOnBA,EAAK,EAAC,EAAE,6BAA6B,CAAA,CAAA,EACtCwD,EAAAS,GAAA,IAAAjC,EAAA2c,CAAS,EAAC,sBAAqBpb,IAAAE,EAA/Bkb,EAAA3c,EAAA2c,CAAS,EAAC,sBAAqBpb,EAAA,CAAA,sBAnB5CvB,EAAA2c,CAAS,EAAC,sCAAoC1b,GAAAyE,EAAA,gLAjEH1H,EAAK,EAAC,EAAE,eAAe,MAMlDA,EAAK,EAAC,EAAE,SAAS,MAAKA,EAAK,EAAC,EAAE,WAAW,MACpCA,EAAK,EAAC,EAAE,OAAO,MAAKA,EAAK,EAAC,EAAE,UAAU,MAyB3DA,EAAK,EAAC,EAAE,YAAY,MAMPA,EAAK,EAAC,EAAE,kBAAkB,MAUvCA,EAAK,EAAC,EAAE,eAAe,MAOVA,EAAK,EAAC,EAAE,qBAAqB,IAnDhCwE,GAAAkI,GAAA,IAAA1K,EAAA2c,CAAS,EAAC,cAAapb,IAAAE,EAAvBkb,EAAA3c,EAAA2c,CAAS,EAAC,cAAapb,EAAA,CAAA,EAmCrBC,EAAAO,GAAA,IAAA/B,EAAA2c,CAAS,EAAC,WAAUpb,IAAAE,EAApBkb,EAAA3c,EAAA2c,CAAS,EAAC,WAAUpb,EAAA,CAAA,EAiBpBC,EAAAY,GAAA,IAAApC,EAAA2c,CAAS,EAAC,cAAapb,IAAAE,EAAvBkb,EAAA3c,EAAA2c,CAAS,EAAC,cAAapb,EAAA,CAAA,sBA1DnCvB,EAAA2c,CAAS,EAAC,gCAA8B1b,GAAAoB,EAAA,wKAgH7B2Z,CAAoB,6WAgCnBhe,EAAK,EAAC,EAAE,SAAS,CAAA,kDAEpB,wBADEqe,CAAS,mBAATA,EAAS9a,EAAA,yDAPRvD,EAAK,EAAC,EAAE,cAAc,CAAA,CAAA,EACvBwD,EAAAQ,GAAA,IAAAhC,EAAAoc,CAAS,QAATA,EAAS7a,EAAA,CAAA,8GAoBRvD,EAAK,EAAC,EAAE,SAAS,CAAA,kDAEpB,wBADE0e,EAAS,mBAATA,GAASnb,EAAA,yDAPRvD,EAAK,EAAC,EAAE,cAAc,CAAA,CAAA,EACvBwD,EAAAc,GAAA,IAAAtC,EAAAyc,EAAS,QAATA,GAASlb,EAAA,CAAA,uHAmBQvD,EAAK,EAAC,EAAE,SAAS,CAAA,8DAAeue,EAAc,mBAAdA,GAAchb,EAAA,iIAJ7DvD,IAAM,EAAE,cAAc,MAStBA,EAAK,EAAC,EAAE,SAAS,CAAA,GARlBwD,EAAAoB,GAAA,IAAA5C,EAAAsc,CAAc,QAAdA,EAAc/a,EAAA,CAAA,EASdC,EAAAqB,GAAA,IAAA7C,EAAAwc,EAAkB,QAAlBA,GAAkBjb,EAAA,CAAA,sBAfxBvB,EAAAgc,CAAoB,IAAK,gBAAc/a,GAAA2E,EAAA,2BAfvC5F,EAAAgc,CAAoB,IAAK,SAAQ/a,GAAA6B,EAAA,EAAA7B,GAAAoJ,GAAA,EAAA,2BAftCrK,EAAAgc,CAAoB,IAAK,SAAQ/a,GAAAsJ,EAAA,EAAAtJ,GAAAqJ,GAAA,EAAA,2KA+DpBtM,EAAK,EAAC,EAAE,qBAAqB,CAAA,CAAA,EAD9BwD,EAAAmI,GAAA,IAAA3J,EAAAic,CAAmB,QAAnBA,EAAmB1a,EAAA,CAAA,qNA0B1Bqa,CAA2B,EAAA3a,GAAA8E,EAAA,EAAA9E,GAAA4E,GAAA,EAAA,8BAFtB+V,CAA2B,CAAA,EAHrB3d,GAAA,QAAAc,GAAA,IAAA,CACf6d,IACA,sBALE5c,EAAAgc,CAAoB,IAAK,IAAE/a,GAAAiM,EAAA,4CAPjBlP,EAAK,EAAC,EAAE,uCAAsC,CAC1D,MAAKgC,EAAEic,CAAmB,EAAC,MAAK,GAAI,CAAA,CAAA,IAEzBza,EAAAoI,GAAA,IAAA5J,EAAAic,CAAmB,QAAnBA,EAAmB1a,EAAA,CAAA,sBAnB9BvB,EAAAgc,CAAoB,IAAK,SAAQ/a,GAAAmJ,EAAA,EAAAnJ,GAAAuJ,GAAA,EAAA,6MAoF3BxM,EAAK,EAAC,EACd,oGAAmG,CAAA,mHAInGA,EAAK,EAAC,EAAE,4BAA4B,CAAA,CAAA,6FAIlBme,CAAsB,mBAAtBA,EAAsB5a,EAAA,oDAbxCya,CAAoB,IAAK,UAAYhc,EAAAgc,CAAoB,IAAK,UAAQhc,EAAIgc,CAAoB,IAAK,iBAAc/a,GAAA6V,EAAA,uHA4B1G,IAAA9J,GAAA4M,EAAA,IAAA5Z,EAAA2c,CAAS,EAAC,iBAChB3e,EAAK,EAAC,EACN,6GAA4G,EAE5GA,IAAM,EACN,iHAAgH,CAAA,2EAG/F,OAAAgC,EAAA2c,CAAS,EAAC,kCAAVA,EAAS3c,EAAT2c,CAAS,EAAC,iBAAgBpb,EAAA,4KAS1B,OAAAvB,EAAA2c,CAAS,EAAC,0CAAVA,EAAS3c,EAAT2c,CAAS,EAAC,yBAAwBpb,EAAA,+IAW3CvD,EAAK,EAAC,EACd,8FAA6F,CAAA,2EAG1E,OAAAgC,EAAA2c,CAAS,EAAC,yDAAVA,EAAS3c,EAAT2c,CAAS,EAAC,wCAAuCpb,EAAA,yIAaxDob,CAAS,4OA0BR3e,EAAK,EAAC,EAAE,SAAS,CAAA,kDAEpB,eADE,OAAAgC,EAAA2c,CAAS,EAAC,+CAAVA,EAAS3c,EAAT2c,CAAS,EAAC,8BAA6Bpb,EAAA,yDAPtCvD,EAAK,EAAC,EAAE,cAAc,CAAA,CAAA,EACvBwD,EAAAwI,GAAA,IAAAhK,EAAA2c,CAAS,EAAC,0BAAyBpb,IAAAE,EAAnCkb,EAAA3c,EAAA2c,CAAS,EAAC,0BAAyBpb,EAAA,CAAA,wBAL7Cob,CAAS,EAAC,uBAAyB,YAAU1b,GAAA4V,EAAA,wPArChD7Y,EAAK,EAAC,EAAE,2BAA2B,MAgBlCA,EAAK,EAAC,EAAE,kBAAkB,MAMbA,EAAK,EAAC,EAAE,iCAAiC,MASpCA,EAAK,EAAC,EAAE,gCAAgC,MAChCA,EAAK,EAAC,EAAE,UAAU,MAwBPA,EAAK,EAAC,EAAE,iBAAiB,EAOhD,IAAAA,IAAM,EAAE,uCACpB,CAAA,MAAO,0BAAwB,IA3CrBwE,GAAAib,GAAA,IAAAzd,EAAA2c,CAAS,EAAC,qBAAoBpb,IAAAE,EAA9Bkb,EAAA3c,EAAA2c,CAAS,EAAC,qBAAoBpb,EAAA,CAAA,EAE9BtD,GAAA,SAAAwf,GAAA9e,IAAM,CACbA,GAAE,OAAO,QAAU,WACtB8C,EAAAkb,EAAA3c,EAAA2c,CAAS,EAAC,oBAAsB,EAAE,EACxBhe,GAAE,OAAO,QAAU,IAC7B8C,EAAAkb,EAAA3c,EAAA2c,CAAS,EAAC,oBAAsB,yBAAyB,EAE1D,EAqCYnb,EAAA0I,GAAA,IAAAlK,EAAA2c,CAAS,EAAC,oBAAmBpb,IAAAE,EAA7Bkb,EAAA3c,EAAA2c,CAAS,EAAC,oBAAmBpb,EAAA,CAAA,wBArE1Cob,CAAS,EAAC,2BAA6B,IAAI1b,GAAAyc,EAAA,uPA6FA1f,EAAK,EAAC,EAAE,gBAAgB,MAKvDA,EAAK,EAAC,EAAE,sBAAsB,IAC/BwD,EAAAmc,GAAA,IAAA3d,EAAA2c,CAAS,EAAC,eAAcpb,IAAAE,EAAxBkb,EAAA3c,EAAA2c,CAAS,EAAC,eAAcpb,EAAA,CAAA,wBARnCob,CAAS,EAAC,2BAA6B,IAAI1b,GAAA2c,EAAA,mPAoB3C5f,EAAK,EAAC,EAAE,qBAAqB,MAOhBA,EAAK,EAAC,EAAE,aAAa,MAI3BA,EAAK,EAAC,EACZ,8DAA6D,MAM/DA,EAAK,EAAC,EACN,kIAAiI,IAXpHwD,EAAAqc,GAAA,IAAA7d,EAAA2c,CAAS,EAAC,oBAAmBpb,IAAAE,EAA7Bkb,EAAA3c,EAAA2c,CAAS,EAAC,oBAAmBpb,EAAA,CAAA,wBAZzCob,CAAS,EAAC,2BAA6B,IAAI1b,GAAA6c,EAAA,mEAgCpC9f,EAAK,EAAC,EACd,gFAA+E,CAAA,uOAkB5CA,EAAK,EAAC,EAAE,SAAS,CAAA,CAAA,sEAEjBA,EAAK,EAAC,EAAE,QAAQ,CAAA,CAAA,gCAH5CgC,GAAAA,EAAA2c,CAAS,IAAT3c,YAAAA,GAAW,qBAAsB,QAAU,KAAIiB,GAAA8c,EAAA,EAAA9c,GAAA+E,GAAA,EAAA,oCAVpDhI,EAAK,EAAC,EAAE,aAAa,CAAA,CAAA,EAKNC,GAAA,QAAAe,GAAA,IAAA,QACfyC,EAAAkb,EAAA3c,EAAA2c,CAAS,EAAC,2BACRA,CAAS,mBAAE,qBAAsB,QAAU,KAAO,GAAM,IAAI,EAC9D,uRA2BG3e,IAAM,EAAE,UAAU,MAGlBA,EAAK,EAAC,EAAE,SAAS,CAAA,GAVRwD,EAAAwc,GAAA,IAAAhe,EAAA2c,CAAS,EAAC,mBAAkBpb,IAAAE,EAA5Bkb,EAAA3c,EAAA2c,CAAS,EAAC,mBAAkBpb,EAAA,CAAA,EAiB5BC,EAAAyc,GAAA,IAAAje,EAAA2c,CAAS,EAAC,mBAAkBpb,IAAAE,EAA5Bkb,EAAA3c,EAAA2c,CAAS,EAAC,mBAAkBpb,EAAA,CAAA,gCA1BtCvB,GAAAA,EAAA2c,CAAS,IAAT3c,YAAAA,GAAW,qBAAsB,QAAU,MAAIiB,GAAAid,EAAA,gCA9BlDvB,CAAS,EAAC,2BAA6B,IAAI1b,GAAAkd,EAAA,kEA9IAngB,EAAK,EAAC,EAAE,eAAe,MAoFvBA,EAAK,EAAC,EAAE,OAAO,MAK/CA,EAAK,EAAC,EAAE,aAAa,IACtBwD,EAAA2I,GAAA,IAAAnK,EAAA2c,CAAS,EAAC,MAAKpb,IAAAE,EAAfkb,EAAA3c,EAAA2c,CAAS,EAAC,MAAKpb,EAAA,CAAA,sBA5FzBvB,EAAA2c,CAAS,EAAC,kBAAgB1b,GAAAmd,EAAA,oFA0NpBpgB,EAAK,EAAC,EACd,iEAAgE,CAAA,+GAOnDA,EAAK,EAAC,EAClB,iEAAgE,CAAA,qDAFrD,OAAAgC,EAAA2c,CAAS,EAAC,8BAAVA,EAAS3c,EAAT2c,CAAS,EAAC,aAAYpb,EAAA,kPArbavD,EAAK,EAAC,EAAE,WAAW,MAOlEA,EAAK,EAAC,EAAE,wBAAwB,MAMnBA,EAAK,EAAC,EAAE,kCAAkC,MAarCA,EAAK,EAAC,EAAE,gCAAgC,MAClCA,EAAK,EAAC,EAAE,QAAQ,MAChBA,EAAK,EAAC,EAAE,QAAQ,MACVA,EAAK,EAAC,EAAE,cAAc,MA2DfA,EAAK,EAAC,EAAE,iBAAiB,MA4D/DA,EAAK,EAAC,EACN,uKAAsK,MAOtKA,EAAK,EAAC,EAAE,sBAAsB,MAmCkBA,EAAK,EAAC,EAAE,WAAW,MAKtBA,EAAK,EAAC,EAAE,mBAAmB,MAuOlCA,EAAK,EAAC,EAAE,cAAc,IA/Z/CwE,GAAA6b,GAAA,IAAAre,EAAAgc,CAAoB,QAApBA,EAAoBza,EAAA,CAAA,EAEpBtD,GAAA,SAAAogB,GAAA1f,IAAM,CACbA,GAAE,OAAO,QAAU,SACtBkB,EAAAoc,EAAsB,EAAE,EACdtd,GAAE,OAAO,QAAU,SAC7BkB,EAAAoc,EAAsB,wBAAwB,EACpCtd,GAAE,OAAO,QAAU,eAC7BkB,EAAAoc,EAAsB,wBAAwB,EACpCtd,GAAE,OAAO,QAAU,IAC7BkB,EAAAoc,EAAsB,wCAAwC,EAE/D,EAyIUza,EAAAuI,GAAA,IAAA/J,EAAAkc,CAAwB,QAAxBA,EAAwB3a,EAAA,CAAA,sBAnKnCvB,EAAA2c,CAAS,EAAC,gCAA8B1b,GAAAqd,EAAA,8HA2cjCtgB,EAAK,EAAC,EACd,+GAA8G,CAAA,kIAOjGA,EAAK,EAAC,EAAE,qBAAqB,CAAA,CAAA,EAC9BwD,EAAA+c,GAAA,IAAAve,EAAA2c,CAAS,EAAC,wBAAuBpb,IAAAE,EAAjCkb,EAAA3c,EAAA2c,CAAS,EAAC,wBAAuBpb,EAAA,CAAA,6HAWrCvD,EAAK,EAAC,EACd,kGAAiG,CAAA,kIAOpFA,EAAK,EAAC,EAAE,2BAA2B,CAAA,CAAA,EACpCwD,EAAAgd,GAAA,IAAAxe,EAAA2c,CAAS,EAAC,cAAapb,IAAAE,EAAvBkb,EAAA3c,EAAA2c,CAAS,EAAC,cAAapb,EAAA,CAAA,6HAY3BvD,EAAK,EAAC,EACd,0IAAyI,CAAA,kIAO5HA,EAAK,EAAC,EAAE,2BAA2B,CAAA,CAAA,EACpCwD,EAAAid,GAAA,IAAAze,EAAA2c,CAAS,EAAC,eAAcpb,IAAAE,EAAxBkb,EAAA3c,EAAA2c,CAAS,EAAC,eAAcpb,EAAA,CAAA,4HAY5BvD,EAAK,EAAC,EACd,4EAA2E,CAAA,kIAO9DA,EAAK,EAAC,EAAE,gCAAgC,CAAA,CAAA,EACzCwD,EAAAkd,GAAA,IAAA1e,EAAA2c,CAAS,EAAC,6BAA4Bpb,IAAAE,EAAtCkb,EAAA3c,EAAA2c,CAAS,EAAC,6BAA4Bpb,EAAA,CAAA,2HAc1CvD,EAAK,EAAC,EACd,6EAA4E,CAAA,iIAO/DA,EAAK,EAAC,EAAE,gCAAgC,CAAA,CAAA,EACzCwD,EAAAmd,GAAA,IAAA3e,EAAA2c,CAAS,EAAC,8BAA6Bpb,IAAAE,EAAvCkb,EAAA3c,EAAA2c,CAAS,EAAC,8BAA6Bpb,EAAA,CAAA,4KAiBjC,OAAAvB,EAAA2c,CAAS,EAAC,iDAAVA,EAAS3c,EAAT2c,CAAS,EAAC,gCAA+Bpb,EAAA,yGAOzC,OAAAvB,EAAA2c,CAAS,EAAC,6CAAVA,EAAS3c,EAAT2c,CAAS,EAAC,4BAA2Bpb,EAAA,svBA1jCRvD,EAAK,EAAC,EAAE,SAAS,MAOhEA,EAAK,EAAC,EAAE,2BAA2B,MAOjBA,EAAK,EAAC,EAAE,SAAS,MACTA,EAAK,EAAC,EAAE,UAAU,MACtBA,EAAK,EAAC,EAAE,MAAM,MACXA,EAAK,EAAC,EAAE,SAAS,MACVA,EAAK,EAAC,EAAE,oBAAoB,MACrBA,EAAK,EAAC,EAAE,uBAAuB,MACzCA,EAAK,EAAC,EAAE,aAAa,MAC1BA,EAAK,EAAC,EAAE,QAAQ,MAu6BOA,EAAK,EAAC,EAAE,OAAO,MAKlBA,EAAK,EAAC,EAAE,yBAAyB,MAoBjCA,EAAK,EAAC,EAAE,iBAAiB,MAqBzBA,EAAK,EAAC,EAAE,kBAAkB,MAqB1BA,EAAK,EAAC,EAAE,yBAAyB,MAsB9EA,EAAK,EAAC,EAAE,0BAA0B,MAuBcA,EAAK,EAAC,EAAE,aAAa,MAKxBA,EAAK,EAAC,EAAE,cAAc,MAOtBA,EAAK,EAAC,EAAE,UAAU,MAQfA,EAAK,EAAC,EAAE,aAAa,MAKxBA,EAAK,EAAC,EAAE,wBAAwB,MAS5EA,EAAK,EAAC,EAAE,OAAO,MAOhBA,EAAK,EAAC,EAAE,gCAAgC,MAUvCA,EAAK,EAAC,EAAE,OAAO,MAMhBA,EAAK,EAAC,EAAE,gCAAgC,MAUvCA,EAAK,EAAC,EAAE,SAAS,MAYrBA,EAAK,EAAC,EAAE,MAAM,IA/mCEwE,GAAAC,GAAA,IAAAzC,EAAA2c,CAAS,EAAC,0BAAyBpb,IAAAE,EAAnCkb,EAAA3c,EAAA2c,CAAS,EAAC,0BAAyBpb,EAAA,CAAA,EA8jChCtD,GAAA,QAAAC,GAAA,IAAA,CACf2B,EAAAic,EAA4B,EAAI,EAChC,EAee7d,GAAA,QAAAI,GAAA,IAAA,CACfwB,EAAAgc,GAAmB,EAAI,EACvB,EAce5d,GAAA,QAAAK,GAAA,IAAA,CACfuB,EAAAkc,EAAqB,EAAI,EACzB,6FAjnCHY,CAAS,EAAA1b,EAAA2d,EAAA,EAAA3d,EAAA4d,GAAA,EAAA,SAJkB5gB,GAAA,SAAAiB,EAAAC,GAAA,IAAA,CAC/B4R,GACA,CAAA,CAAA,kBAhDF,6gbCjRA,mDAUO/T,GAAOC,GAAW,MAAM,MAEnBC,GAAqBC,GAAAC,GAAA,cAAA,CAAA,EAE5B0hB,EAAgB,CACnB,eACA,oBACA,UACA,OACA,aACA,QACA,OACA,SACA,QACA,YACA,SACA,SACA,YACA,UACA,aACA,SACA,OACA,OACA,MACA,aACA,SACA,YACA,YAEGC,IAAoB,aAAc,YAAa,SAAU,UAAU,EAEnEC,IAAY,IAAI,EAEd,MAAAjO,EAA4B,SAAA,CAGzB,OAAA/Q,EAAAgf,CAAS,EAAC,+BAAkC,UACnDhf,EAAAgf,CAAS,EAAC,8BAEVvd,EAAAud,EAAAhf,EAAAgf,CAAS,EAAC,8BAAgChf,EAAAgf,CAAS,EAAC,8BAA8B,MAAM,GAAG,EACzF,IAAKC,IAAWA,GAAO,KAAI,CAC3B,EAAA,OAAQA,IAAWA,GAAO,OAAS,CAAC,CAAA,EAC3B,MAAM,UAAQD,CAAS,EAAC,6BAA6B,KAChEA,EAAShf,EAATgf,CAAS,EAAC,8BAA6B,CAAA,CAAA,EAKhC,OAAAhf,EAAAgf,CAAS,EAAC,yBAA4B,UAC7Chf,EAAAgf,CAAS,EAAC,wBAEVvd,EAAAud,EAAAhf,EAAAgf,CAAS,EAAC,wBAA0Bhf,EAAAgf,CAAS,EAAC,wBAAwB,MAAM,GAAG,EAC7E,IAAKnU,IAASA,GAAK,KAAI,CACvB,EAAA,OAAQA,IAASA,GAAK,OAAS,CAAC,CAAA,EACvB,MAAM,UAAQmU,CAAS,EAAC,uBAAuB,KAC1DA,EAAShf,EAATgf,CAAS,EAAC,wBAAuB,CAAA,CAAA,EAIvB,OAAAhf,EAAAgf,CAAS,EAAC,mBAAsB,YAC1CA,EAAShf,EAATgf,CAAS,EAAC,oBAAoBA,CAAS,EAAC,kBAAkB,SAAQ,CAAA,EAExD,OAAAhf,EAAAgf,CAAS,EAAC,oBAAuB,YAC3CA,EAAShf,EAATgf,CAAS,EAAC,qBAAqBA,CAAS,EAAC,mBAAmB,SAAQ,CAAA,EAG5D,MAASjC,GAAgB,aAAa,MAAK,CACnD,IAAK/c,EAAAgf,CAAA,EAAA,EAIF,MAAM,QAAOhf,EAACgf,CAAS,EAAC,6BAA6B,KACxDA,EAAShf,EAATgf,CAAS,EAAC,8BAA6Bhf,EAAGgf,CAAS,EAAC,8BAA8B,KAAK,GAAG,CAAA,EAEvF,MAAM,QAAOhf,EAACgf,CAAS,EAAC,uBAAuB,KAClDA,EAAShf,EAATgf,CAAS,EAAC,wBAAuBhf,EAAGgf,CAAS,EAAC,wBAAwB,KAAK,GAAG,CAAA,GAIhFjhB,GAAoB,SAAA,WACb,MAAAzB,GAAY,MAAA6gB,GAAa,aAAa,KAAK,EAE7C,GAAA7gB,GAAK,MACR0iB,EAAY1iB,GAAI,GAAG,EAGf,MAAM,SAAO0D,GAAAA,EAACgf,CAAS,IAAVhf,YAAAA,GAAY,6BAA6B,IACzDgf,EAAShf,EAATgf,CAAS,EAAC,8BAA6Bhf,EAAGgf,CAAS,EAAC,8BAA8B,KAAK,GAAG,CAAA,EAC/Ehf,EAAAgf,CAAS,EAAC,+BACrBvd,EAAAud,EAAAhf,EAAAgf,CAAS,EAAC,8BAAgC,EAAE,EAGzC,MAAM,SAAOhf,GAAAA,EAACgf,CAAS,IAAVhf,YAAAA,GAAY,uBAAuB,IACnDgf,EAAShf,EAATgf,CAAS,EAAC,wBAAuBhf,EAAGgf,CAAS,EAAC,wBAAwB,KAAK,GAAG,CAAA,EACnEhf,EAAAgf,CAAS,EAAC,yBACrBvd,EAAAud,EAAAhf,EAAAgf,CAAS,EAAC,wBAA0B,EAAE,IAInCA,CAAS,EAAC,mBAA4B,OAAAhf,EAAAgf,CAAS,EAAC,mBAAsB,SAAU,CAC7E,MAAAE,GAAS,SAASlf,EAAAgf,CAAS,EAAC,iBAAiB,EAC9C,MAAME,EAAM,GAChBzd,EAAAud,EAAAhf,EAAAgf,CAAS,EAAC,kBAAoBE,EAAM,CAEtC,MACIF,CAAS,EAAC,oBAA6B,OAAAhf,EAAAgf,CAAS,EAAC,oBAAuB,SAAU,CAC/E,MAAAE,GAAS,SAASlf,EAAAgf,CAAS,EAAC,kBAAkB,EAC/C,MAAME,EAAM,GAChBzd,EAAAud,EAAAhf,EAAAgf,CAAS,EAAC,mBAAqBE,EAAM,CAEvC,CACD,EACA,wKAuByB,OAAAlf,EAAAgf,CAAS,EAAC,kCAAVA,EAAShf,EAATgf,CAAS,EAAC,kBAAiBzd,CAAA,8FAWlCyd,CAAS,oFAKd5d,GAAA4D,GAAA,EAAA,IAAA8Z,QAAoBK,KAAM,uEAEhBA,EAAM,4BAANA,EAAM,IAAA,8EAEGA,EAAM,CAAA,aAAfA,EAAM,4BAANA,EAAM,IAAA,0BAHjBnf,EAAAmf,EAAM,IAAK,cAAgBnf,EAAAmf,EAAM,IAAK,OAAMle,GAAAiE,EAAA,EAAAjE,GAAAE,GAAA,EAAA,iMAqBjCnD,EAAK,EAAC,EAAE,4BAA4B,CAAA,uDACrC,OAAAgC,EAAAgf,CAAS,EAAC,iDAAVA,EAAShf,EAATgf,CAAS,EAAC,gCAA+Bzd,EAAA,sEAPtDvD,EAAK,EAAC,EAAE,sBAAsB,CAAA,6QA2ChBA,EAAK,EAAC,EAAE,0BAA0B,CAAA,sDACnC,OAAAgC,EAAAgf,CAAS,EAAC,mCAAVA,EAAShf,EAATgf,CAAS,EAAC,mBAAkBzd,CAAA,0GA3BzCvD,EAAK,EAAC,EAAE,2BAA2B,CAAA,kBAQrBA,EAAK,EAAC,EAAE,iCAAiC,CAAA,kBAYvDA,EAAK,EAAC,EAAE,oBAAoB,CAAA,KAXfwD,EAAA9C,GAAA,IAAAsB,EAAAgf,CAAS,EAAC,0BAAyBzd,GAAAE,EAAnCud,EAAAhf,EAAAgf,CAAS,EAAC,0BAAyBzd,CAAA,CAAA,2UA4BhDvD,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAQbA,EAAK,EAAC,EAAE,yBAAyB,CAAA,kBAU/CA,EAAK,EAAC,EAAE,qDAAqD,CAAA,kBAQ/CA,EAAK,EAAC,EAAE,+BAA+B,CAAA,KAjBxCwD,EAAAE,EAAA,IAAA1B,EAAAgf,CAAS,EAAC,kBAAiBzd,IAAAE,EAA3Bud,EAAAhf,EAAAgf,CAAS,EAAC,kBAAiBzd,EAAA,CAAA,EAkB3BC,EAAAmB,EAAA,IAAA3C,EAAAgf,CAAS,EAAC,iBAAgBzd,IAAAE,EAA1Bud,EAAAhf,EAAAgf,CAAS,EAAC,iBAAgBzd,EAAA,CAAA,8TAiD1BvD,EAAK,EAAC,EAAE,qBAAqB,CAAA,EAAA,qDAC9B,OAAAgC,EAAAgf,CAAS,EAAC,+BAAVA,EAAShf,EAATgf,CAAS,EAAC,cAAazd,EAAA,+IAtCnCvD,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAQbA,EAAK,EAAC,EAAE,oDAAoD,CAAA,kBAYzEA,EAAK,EAAC,EAAE,eAAe,CAAA,kBAKXA,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBAQzCA,EAAK,EAAC,EAAE,eAAe,CAAA,KAxBXwD,EAAAU,EAAA,IAAAlC,EAAAgf,CAAS,EAAC,eAAczd,IAAAE,EAAxBud,EAAAhf,EAAAgf,CAAS,EAAC,eAAczd,EAAA,CAAA,EAiBzBC,EAAAW,GAAA,IAAAnC,EAAAgf,CAAS,EAAC,cAAazd,IAAAE,EAAvBud,EAAAhf,EAAAgf,CAAS,EAAC,cAAazd,EAAA,CAAA,iIAyBvBvD,EAAK,EAAC,EAAE,0BAA0B,CAAA,uDACnC,OAAAgC,EAAAgf,CAAS,EAAC,oCAAVA,EAAShf,EAATgf,CAAS,EAAC,mBAAkBzd,EAAA,mMALvCvD,EAAK,EAAC,EAAE,oBAAoB,CAAA,kBAU5BA,EAAK,EAAC,EAAE,sBAAsB,CAAA,kBAQhBA,EAAK,EAAC,EAAE,4BAA4B,CAAA,KACrCwD,EAAAG,GAAA,IAAA3B,EAAAgf,CAAS,EAAC,qBAAoBzd,IAAAE,EAA9Bud,EAAAhf,EAAAgf,CAAS,EAAC,qBAAoBzd,EAAA,CAAA,uIAe/BvD,EAAK,EAAC,EAAE,4BAA4B,CAAA,uDACrC,OAAAgC,EAAAgf,CAAS,EAAC,sCAAVA,EAAShf,EAATgf,CAAS,EAAC,qBAAoBzd,EAAA,2DALzCvD,EAAK,EAAC,EAAE,sBAAsB,CAAA,8IAiBlBA,EAAK,EAAC,EAAE,2BAA2B,CAAA,uDACpC,OAAAgC,EAAAgf,CAAS,EAAC,oCAAVA,EAAShf,EAATgf,CAAS,EAAC,oBAAmBzd,CAAA,4DALxCvD,EAAK,EAAC,EAAE,qBAAqB,CAAA,+IAiBjBA,EAAK,EAAC,EAAE,6BAA6B,CAAA,uDACtC,OAAAgC,EAAAgf,CAAS,EAAC,uCAAVA,EAAShf,EAATgf,CAAS,EAAC,sBAAqBzd,EAAA,2DAL1CvD,EAAK,EAAC,EAAE,uBAAuB,CAAA,gJAiBnBA,EAAK,EAAC,EAAE,4BAA4B,CAAA,uDACrC,OAAAgC,EAAAgf,CAAS,EAAC,sCAAVA,EAAShf,EAATgf,CAAS,EAAC,qBAAoBzd,EAAA,4DALzCvD,EAAK,EAAC,EAAE,sBAAsB,CAAA,iJAiBlBA,EAAK,EAAC,EAAE,yBAAyB,CAAA,uDAClC,OAAAgC,EAAAgf,CAAS,EAAC,mCAAVA,EAAShf,EAATgf,CAAS,EAAC,kBAAiBzd,EAAA,4DALtCvD,EAAK,EAAC,EAAE,mBAAmB,CAAA,iJAiBfA,EAAK,EAAC,EAAE,sBAAsB,CAAA,EAAA,qDAC/B,OAAAgC,EAAAgf,CAAS,EAAC,gCAAVA,EAAShf,EAATgf,CAAS,EAAC,eAAczd,EAAA,4DALnCvD,EAAK,EAAC,EAAE,gBAAgB,CAAA,iJAiBZA,EAAK,EAAC,EAAE,sBAAsB,CAAA,EAAA,qDAC/B,OAAAgC,EAAAgf,CAAS,EAAC,gCAAVA,EAAShf,EAATgf,CAAS,EAAC,eAAczd,EAAA,4DALnCvD,EAAK,EAAC,EAAE,gBAAgB,CAAA,iJAiBZA,EAAK,EAAC,EAAE,sBAAsB,CAAA,EAAA,qDAC/B,OAAAgC,EAAAgf,CAAS,EAAC,gCAAVA,EAAShf,EAATgf,CAAS,EAAC,eAAczd,EAAA,4DALnCvD,EAAK,EAAC,EAAE,gBAAgB,CAAA,iJAiBZA,EAAK,EAAC,EAAE,yBAAyB,CAAA,uDAClC,OAAAgC,EAAAgf,CAAS,EAAC,mCAAVA,EAAShf,EAATgf,CAAS,EAAC,kBAAiBzd,EAAA,yMALtCvD,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAU3BA,EAAK,EAAC,EAAE,kBAAkB,CAAA,kBAQZA,EAAK,EAAC,EAAE,wBAAwB,CAAA,KACjCwD,EAAAI,GAAA,IAAA5B,EAAAgf,CAAS,EAAC,iBAAgBzd,IAAAE,EAA1Bud,EAAAhf,EAAAgf,CAAS,EAAC,iBAAgBzd,EAAA,CAAA,8IAe3BvD,EAAK,EAAC,EAAE,uBAAuB,CAAA,EAAA,qDAChC,OAAAgC,EAAAgf,CAAS,EAAC,iCAAVA,EAAShf,EAATgf,CAAS,EAAC,gBAAezd,EAAA,yMALpCvD,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBAUzBA,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAQVA,EAAK,EAAC,EAAE,sBAAsB,CAAA,KAC/BwD,EAAAK,GAAA,IAAA7B,EAAAgf,CAAS,EAAC,eAAczd,IAAAE,EAAxBud,EAAAhf,EAAAgf,CAAS,EAAC,eAAczd,EAAA,CAAA,iPAiCzBvD,EAAK,EAAC,EAAE,oBAAoB,CAAA,EAAA,qDAC7B,OAAAgC,EAAAgf,CAAS,EAAC,8BAAVA,EAAShf,EAATgf,CAAS,EAAC,aAAYzd,EAAA,sGAvBjCvD,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAQbA,EAAK,EAAC,EAAE,yBAAyB,CAAA,kBAU/CA,EAAK,EAAC,EAAE,cAAc,CAAA,KATTwD,EAAAM,GAAA,IAAA9B,EAAAgf,CAAS,EAAC,kBAAiBzd,IAAAE,EAA3Bud,EAAAhf,EAAAgf,CAAS,EAAC,kBAAiBzd,EAAA,CAAA,iPA4C5BvD,EAAK,EAAC,EAAE,uCAAuC,CAAA,uDAChD,OAAAgC,EAAAgf,CAAS,EAAC,iDAAVA,EAAShf,EAATgf,CAAS,EAAC,gCAA+Bzd,EAAA,sGAvBpDvD,EAAK,EAAC,EAAE,yBAAyB,CAAA,kBAQnBA,EAAK,EAAC,EAAE,+BAA+B,CAAA,kBAUrDA,EAAK,EAAC,EAAE,iCAAiC,CAAA,KAT5BwD,EAAAO,GAAA,IAAA/B,EAAAgf,CAAS,EAAC,wBAAuBzd,IAAAE,EAAjCud,EAAAhf,EAAAgf,CAAS,EAAC,wBAAuBzd,EAAA,CAAA,8IA0BlCvD,EAAK,EAAC,EAAE,mBAAmB,CAAA,EAAA,qDAC5B,OAAAgC,EAAAgf,CAAS,EAAC,6BAAVA,EAAShf,EAATgf,CAAS,EAAC,YAAWzd,EAAA,4DALhCvD,IAAM,EAAE,aAAa,CAAA,EAAA,CAAA,uJAiBTA,EAAK,EAAC,EAAE,0BAA0B,CAAA,uDACnC,OAAAgC,EAAAgf,CAAS,EAAC,oCAAVA,EAAShf,EAATgf,CAAS,EAAC,mBAAkBzd,EAAA,8hBAiC5Byd,CAAS,8WAtCpBhhB,EAAK,EAAC,EAAE,oBAAoB,CAAA,kBAa5BA,EAAK,EAAC,EAAE,kBAAkB,CAAA,kBASJA,EAAK,EAAC,EAAE,OAAO,CAAA,kBACXA,EAAK,EAAC,EAAE,WAAW,CAAA,kBACbA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBACrBA,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBAC7BA,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBAQjEA,EAAK,EAAC,EAAE,iCAAiC,CAAA,kBAMrBA,EAAK,EAAC,EAAE,KAAK,CAAA,kBACVA,EAAK,EAAC,EAAE,QAAQ,CAAA,kBAClBA,EAAK,EAAC,EAAE,MAAM,CAAA,KAxBxBwD,EAAAY,GAAA,IAAApC,EAAAgf,CAAS,EAAC,iBAAgBzd,IAAAE,EAA1Bud,EAAAhf,EAAAgf,CAAS,EAAC,iBAAgBzd,EAAA,CAAA,EAoB1BiB,GAAAE,GAAA,IAAA1C,EAAAgf,CAAS,EAAC,gCAA+Bzd,IAAAE,EAAzCud,EAAAhf,EAAAgf,CAAS,EAAC,gCAA+Bzd,EAAA,CAAA,uJAgBxCvD,EAAK,EAAC,EAAE,6BAA6B,CAAA,uDACtC,OAAAgC,EAAAgf,CAAS,EAAC,gCAAVA,EAAShf,EAATgf,CAAS,EAAC,eAAczd,EAAA,wHAWvBvD,EAAK,EAAC,EAAE,4BAA4B,CAAA,uDACrC,OAAAgC,EAAAgf,CAAS,EAAC,+BAAVA,EAAShf,EAATgf,CAAS,EAAC,cAAazd,EAAA,4EAjBlCvD,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBAY/BA,EAAK,EAAC,EAAE,sBAAsB,CAAA,oPAmClBA,EAAK,EAAC,EAAE,yBAAyB,CAAA,uDAClC,OAAAgC,EAAAgf,CAAS,EAAC,mCAAVA,EAAShf,EAATgf,CAAS,EAAC,kBAAiBzd,EAAA,+OAvBtCvD,EAAK,EAAC,EAAE,wBAAwB,CAAA,kBAQlBA,EAAK,EAAC,EAAE,8BAA8B,CAAA,kBAUpDA,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAW3BA,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBAQjBA,EAAK,EAAC,EAAE,yBAAyB,CAAA,KA5BlCwD,EAAAS,GAAA,IAAAjC,EAAAgf,CAAS,EAAC,uBAAsBzd,IAAAE,EAAhCud,EAAAhf,EAAAgf,CAAS,EAAC,uBAAsBzd,EAAA,CAAA,EA6BhCC,EAAAQ,GAAA,IAAAhC,EAAAgf,CAAS,EAAC,kBAAiBzd,IAAAE,EAA3Bud,EAAAhf,EAAAgf,CAAS,EAAC,kBAAiBzd,EAAA,CAAA,iPAiC5BvD,EAAK,EAAC,EAAE,mCAAmC,CAAA,uDAC5C,OAAAgC,EAAAgf,CAAS,EAAC,6CAAVA,EAAShf,EAATgf,CAAS,EAAC,4BAA2Bzd,EAAA,sGAvBhDvD,EAAK,EAAC,EAAE,yBAAyB,CAAA,kBAQnBA,EAAK,EAAC,EAAE,+BAA+B,CAAA,kBAUrDA,EAAK,EAAC,EAAE,6BAA6B,CAAA,KATxBwD,EAAAc,GAAA,IAAAtC,EAAAgf,CAAS,EAAC,wBAAuBzd,IAAAE,EAAjCud,EAAAhf,EAAAgf,CAAS,EAAC,wBAAuBzd,EAAA,CAAA,wBAtqBpDyd,CAAS,UAypBEA,CAAS,EAAC,oBAAsB,UAAU,qCAzpBrDA,CAAS,UAwmBEA,CAAS,EAAC,oBAAsB,WAAW,8CAxmBtDA,CAAS,UA+kBEA,CAAS,EAAC,oBAAsB,QAAQ,8CA/kBnDA,CAAS,UA6hBEA,CAAS,EAAC,oBAAsB,YAAY,8CA7hBvDA,CAAS,UAghBEA,CAAS,EAAC,oBAAsB,KAAK,8CAhhBhDA,CAAS,UAifEA,CAAS,EAAC,oBAAsB,MAAM,8CAjfjDA,CAAS,UAkdEA,CAAS,EAAC,oBAAsB,MAAM,8CAldjDA,CAAS,UAobEA,CAAS,EAAC,oBAAsB,SAAS,8CApbpDA,CAAS,UAsZEA,CAAS,EAAC,oBAAsB,WAAW,8CAtZtDA,CAAS,UAyYEA,CAAS,EAAC,oBAAsB,QAAQ,8CAzYnDA,CAAS,UA4XEA,CAAS,EAAC,oBAAsB,QAAQ,8CA5XnDA,CAAS,UA+WEA,CAAS,EAAC,oBAAsB,QAAQ,8CA/WnDA,CAAS,UAkWEA,CAAS,EAAC,oBAAsB,WAAW,6CAlWtDA,CAAS,UAqVEA,CAAS,EAAC,oBAAsB,OAAO,8CArVlDA,CAAS,UAwUEA,CAAS,EAAC,oBAAsB,QAAQ,8CAxUnDA,CAAS,UA2TEA,CAAS,EAAC,oBAAsB,MAAM,4CA3TjDA,CAAS,UA8SEA,CAAS,EAAC,oBAAsB,OAAO,2CA9SlDA,CAAS,UAgREA,CAAS,EAAC,oBAAsB,YAAY,2CAhRvDA,CAAS,UAiOEA,CAAS,EAAC,oBAAsB,MAAM,6CAjOjDA,CAAS,UA0LEA,CAAS,EAAC,oBAAsB,SAAS,2CA1LpDA,CAAS,UAqJEA,CAAS,EAAC,oBAAsB,mBAAmB,4CArJ9DA,CAAS,UAoIHA,CAAS,EAAC,oBAAsB,cAAc,uIAikBjCA,CAAS,+vBAPtBhhB,EAAK,EAAC,EAAE,cAAc,CAAA,kBASCA,EAAK,EAAC,EAAE,eAAe,CAAA,kBACvBA,EAAK,EAAC,EAAE,MAAM,CAAA,kBACbA,EAAK,EAAC,EAAE,OAAO,CAAA,kBACVA,EAAK,EAAC,EAAE,YAAY,CAAA,kBACxBA,EAAK,EAAC,EAAE,QAAQ,CAAA,kBACZA,EAAK,EAAC,EAAE,YAAY,CAAA,kBACxBA,EAAK,EAAC,EAAE,QAAQ,CAAA,kBACbA,EAAK,EAAC,EAAE,WAAW,CAAA,kBACvBA,EAAK,EAAC,EAAE,OAAO,CAAA,kBACdA,EAAK,EAAC,EAAE,QAAQ,CAAA,KAX5BwE,GAAAiD,GAAA,IAAAzF,EAAAgf,CAAS,EAAC,aAAYzd,IAAAE,EAAtBud,EAAAhf,EAAAgf,CAAS,EAAC,aAAYzd,EAAA,CAAA,wBArsBzCyd,CAAS,UA0rBHA,CAAS,EAAC,oBAAsB,YAAY,gCA1rBlDA,CAAS,UAmIJA,CAAS,EAAC,oBAAsB,EAAE,2LAymBxBhhB,EAAK,EAAC,EACd,kKAAiK,CAAA,6HAIjKA,EAAK,EAAC,EAAE,qBAAqB,CAAA,yQAnB9BA,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBAKjBA,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBAoB7BA,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBAW3CA,EAAK,EAAC,EAAE,oBAAoB,CAAA,kBAKhBA,EAAK,EAAC,EAClB,kFAAiF,CAAA,KApCpEwD,EAAAoB,GAAA,IAAA5C,EAAAgf,CAAS,EAAC,wBAAuBzd,IAAAE,EAAjCud,EAAAhf,EAAAgf,CAAS,EAAC,wBAAuBzd,EAAA,CAAA,EAoBjCC,EAAAqB,GAAA,IAAA7C,EAAAgf,CAAS,EAAC,+BAA8Bzd,IAAAE,EAAxCud,EAAAhf,EAAAgf,CAAS,EAAC,+BAA8Bzd,EAAA,CAAA,EAkB1CC,EAAAmI,GAAA,IAAA3J,EAAAgf,CAAS,EAAC,8BAA6Bzd,IAAAE,EAAvCud,EAAAhf,EAAAgf,CAAS,EAAC,8BAA6Bzd,EAAA,CAAA,qBA1wBtDyd,CAAS,EAytBJzgB,EAAA,IAAAyB,EAAAgf,CAAS,EAAC,iBAAiB,kEAwDZhhB,EAAK,EAAC,EAAE,mBAAmB,CAAA,EAAA,6HAC3CA,EAAK,EAAC,EAAE,gCAAgC,CAAA,oFAlxB5CghB,CAAS,MAuxBGzgB,EAAA,IAAAyB,EAAAgf,CAAS,EAAC,0CAChBhhB,EAAK,EAAC,EACN,6GAA4G,EAE5GA,EAAK,EAAC,EACN,iHAAgH,CAAA,4EAG/F,OAAAgC,EAAAgf,CAAS,EAAC,2DAAVA,EAAShf,EAATgf,CAAS,EAAC,0CAAyCzd,EAAA,8GAOtDvD,EAAK,EAAC,EAAE,mBAAmB,CAAA,EAAA,6HAC3CA,EAAK,EAAC,EAAE,mBAAmB,CAAA,mFAIX,uCACG,OAAAgC,EAAAgf,CAAS,EAAC,8CAAVA,EAAShf,EAATgf,CAAS,EAAC,6BAA4Bzd,EAAA,uIA5yB7Dyd,CAAS,MAuzBGzgB,EAAA,IAAAyB,EAAAgf,CAAS,EAAC,qBAChBhhB,EAAK,EAAC,EACN,kGAAiG,EAEjGA,EAAK,EAAC,EAAE,sCAAsC,CAAA,4EAE7B,OAAAgC,EAAAgf,CAAS,EAAC,sCAAVA,EAAShf,EAATgf,CAAS,EAAC,qBAAoBzd,EAAA,gLAkBtCyd,CAAS,qFAId5d,GAAAge,GAAA,EAAA,IAAAL,SAAoBI,KAAM,uDACRA,EAAM,CAAA,aAAfA,EAAM,4BAANA,EAAM,IAAA,4OAyBF,OAAAnf,EAAAgf,CAAS,EAAC,mDAAVA,EAAShf,EAATgf,CAAS,EAAC,mCAAkCzd,CAAA,kGAhB/DvD,EAAK,EAAC,EAAE,SAAS,CAAA,kBAKJA,EAAK,EAAC,EAAE,SAAS,CAAA,kBAQ9BA,EAAK,EAAC,EAAE,wBAAwB,CAAA,KAPpBwD,EAAAoI,GAAA,IAAA5J,EAAAgf,CAAS,EAAC,mBAAkBzd,GAAAE,EAA5Bud,EAAAhf,EAAAgf,CAAS,EAAC,mBAAkBzd,CAAA,CAAA,8VAiBvCvD,EAAK,EAAC,EAAE,0BAA0B,CAAA,kBAQpBA,EAAK,EAAC,EAAE,gCAAgC,CAAA,kBAUtDA,EAAK,EAAC,EAAE,yBAAyB,CAAA,kBAOnBA,EAAK,EAAC,EAAE,0BAA0B,CAAA,KAhBnCwD,EAAAuI,EAAA,IAAA/J,EAAAgf,CAAS,EAAC,kBAAiBzd,GAAAE,EAA3Bud,EAAAhf,EAAAgf,CAAS,EAAC,kBAAiBzd,CAAA,CAAA,EAiB3BC,EAAAwI,EAAA,IAAAhK,EAAAgf,CAAS,EAAC,mBAAkBzd,GAAAE,EAA5Bud,EAAAhf,EAAAgf,CAAS,EAAC,mBAAkBzd,CAAA,CAAA,mOAiC7BvD,EAAK,EAAC,EAAE,yBAAyB,CAAA,uDAClC,OAAAgC,EAAAgf,CAAS,EAAC,kCAAVA,EAAShf,EAATgf,CAAS,EAAC,kBAAiBzd,CAAA,iGAvBtCvD,EAAK,EAAC,EAAE,wBAAwB,CAAA,kBAQlBA,EAAK,EAAC,EAAE,8BAA8B,CAAA,kBAUpDA,EAAK,EAAC,EAAE,mBAAmB,CAAA,KATdwD,EAAA0I,GAAA,IAAAlK,EAAAgf,CAAS,EAAC,uBAAsBzd,IAAAE,EAAhCud,EAAAhf,EAAAgf,CAAS,EAAC,uBAAsBzd,EAAA,CAAA,6PA6ChCvD,EAAK,EAAC,EAAE,sBAAsB,CAAA,EAAA,mDAC/B,OAAAgC,EAAAgf,CAAS,EAAC,gCAAVA,EAAShf,EAATgf,CAAS,EAAC,eAAczd,EAAA,mDALnCvD,EAAK,EAAC,EAAE,gBAAgB,CAAA,wBA38B9BghB,CAAS,UAw8BFA,CAAS,EAAC,oBAAsB,QAAQ,0EAhB1ChhB,EAAK,EAAC,EAAE,sBAAsB,CAAA,kBAQhBA,EAAK,EAAC,EAAE,4BAA4B,CAAA,KACrCwD,EAAA2I,GAAA,IAAAnK,EAAAgf,CAAS,EAAC,qBAAoBzd,GAAAE,EAA9Bud,EAAAhf,EAAAgf,CAAS,EAAC,qBAAoBzd,CAAA,CAAA,kOA8C/BvD,EAAK,EAAC,EAAE,mCAAmC,CAAA,sDAC5C,OAAAgC,EAAAgf,CAAS,EAAC,6CAAVA,EAAShf,EAATgf,CAAS,EAAC,4BAA2Bzd,EAAA,kGAvBhDvD,EAAK,EAAC,EAAE,yBAAyB,CAAA,kBAQnBA,EAAK,EAAC,EAAE,+BAA+B,CAAA,kBAUrDA,EAAK,EAAC,EAAE,6BAA6B,CAAA,KATxBwD,EAAAmc,GAAA,IAAA3d,EAAAgf,CAAS,EAAC,wBAAuBzd,IAAAE,EAAjCud,EAAAhf,EAAAgf,CAAS,EAAC,wBAAuBzd,EAAA,CAAA,sBAl+BnDyd,CAAS,UAq9BCA,CAAS,EAAC,oBAAsB,UAAU,kCAr9BpDA,CAAS,UAo7BCA,CAAS,EAAC,oBAAsB,QAAQ,6CAp7BlDA,CAAS,UAq5BCA,CAAS,EAAC,oBAAsB,eAAeA,CAAS,EAAC,oBAAsB,WAAW,8CAr5BpGA,CAAS,UAg3BCA,CAAS,EAAC,oBAAsB,YAAY,4CAh3BtDA,CAAS,UA01BJA,CAAS,EAAC,oBAAsB,MAAMA,CAAS,EAAC,oBAAsB,UAAU,giBA3vBlChhB,EAAK,EAAC,EAAE,SAAS,CAAA,kBAMjEA,EAAK,EAAC,EAAE,YAAY,CAAA,kBASpBA,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAMdA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBAGFA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBA4rB7DA,EAAK,EAAC,EAAE,yBAAyB,CAAA,kBAiBeA,EAAK,EAAC,EAAE,QAAQ,CAAA,kBAMhEA,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAMdA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBAEpBA,EAAK,EAAC,EAAE,SAAS,CAAA,kBAsKnCA,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBAKjBA,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBAQzCA,EAAK,EAAC,EAAE,kBAAkB,CAAA,kBAMbA,EAAK,EAAC,EAAE,sBAAsB,CAAA,kBAS3CA,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAMdA,EAAK,EAAC,EAAE,wDAAwD,CAAA,KAv6BjEwE,GAAAC,GAAA,IAAAzC,EAAAgf,CAAS,EAAC,kBAAiBzd,GAAAE,EAA3Bud,EAAAhf,EAAAgf,CAAS,EAAC,kBAAiBzd,CAAA,CAAA,EA4tB3BiB,GAAAkI,GAAA,IAAA1K,EAAAgf,CAAS,EAAC,kBAAiBzd,GAAAE,EAA3Bud,EAAAhf,EAAAgf,CAAS,EAAC,kBAAiBzd,CAAA,CAAA,EA+K5BC,EAAAqc,GAAA,IAAA7d,EAAAgf,CAAS,EAAC,+BAA8Bzd,GAAAE,EAAxCud,EAAAhf,EAAAgf,CAAS,EAAC,+BAA8Bzd,CAAA,CAAA,EAcvCC,EAAAwc,GAAA,IAAAhe,EAAAgf,CAAS,EAAC,wBAAuBzd,GAAAE,EAAjCud,EAAAhf,EAAAgf,CAAS,EAAC,wBAAuBzd,CAAA,CAAA,EAejCC,EAAAyc,GAAA,IAAAje,EAAAgf,CAAS,EAAC,yBAAwBzd,GAAAE,EAAlCud,EAAAhf,EAAAgf,CAAS,EAAC,yBAAwBzd,CAAA,CAAA,uBA/7B/Cyd,CAAS,GAAA/d,GAAAoe,CAAA,oFA68BZrhB,IAAM,EAAE,MAAM,CAAA,EAAA,CAAA,EAn9BqBC,GAAA,SAAAiB,EAAAC,GAAA,SAAA,OAC/B4R,EAAa,EACnB7T,GAAW,EAAA,CACX,CAAA,CAAA,kBAPF,2nCC3HA,mIAKO+I,GAAWC,KAWXlJ,EAAOC,GAAW,MAAM,EAE1B,IAAAqiB,IAAmB,IAAI,EACvBC,IAAe,EAAK,EAElB,MAAAxO,EAA4B,SAAA,YACjClR,EAAAyf,EAAyB,MAAA7iB,GAAa,aAAa,MAAOuD,EAAAsf,CAAgB,CAAE,EAAA,MAAO9iB,IAClF4B,GAAM,MAAM5B,CAAG,EACR,KACP,CAAA,EAEGwD,EAAAsf,CAAgB,IACnBlhB,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,EACpD8F,GAAO,IAAG,MACHC,GACL,aAAa,QACbvD,IAAAhC,EAAAC,EAAO,IAAP,YAAAD,EAAS,WAAT,YAAAgC,GAAmB,+BAA8BwD,EAAAE,EAAW,IAAX,YAAAF,EAAW,oBAAqB,KAAI,CAAA,IAMnF8M,EAAe,MAAUpH,GAAU,YACxC1J,EAAAsf,CAAgB,EAAC,wBAAwB,KAAK5V,CAAK,EACnDjI,EAAA6d,IAAAA,CAAgB,EAAC,wBAA8B,CAAA,GAAAtf,EAAAsf,CAAgB,EAAC,uBAAuB,CAAA,QAEjFvO,EAAa,EACnBjN,GAAO,IAAG,MACHC,GACL,aAAa,QACbvD,GAAAhC,GAAAC,EAAO,IAAP,YAAAD,GAAS,WAAT,YAAAgC,EAAmB,+BAA8BwD,EAAAE,EAAW,IAAX,YAAAF,EAAW,oBAAqB,KAAI,CAAA,GAKlFwb,EAA0B,MAAA9V,EAAOoG,KAAa,WACnDrO,EAAA6d,IAAAA,CAAgB,EAAC,wBAAwBxP,EAAQ,EAAIpG,CAAK,EAC1DjI,EAAA6d,IAAAA,CAAgB,EAAC,wBAA8B,CAAA,GAAAtf,EAAAsf,CAAgB,EAAC,uBAAuB,CAAA,QAEjFvO,EAAa,EACnBjN,GAAO,IAAG,MACHC,GACL,aAAa,QACbvD,GAAAhC,EAAAC,EAAO,IAAP,YAAAD,EAAS,WAAT,YAAAgC,EAAmB,+BAA8BwD,EAAAE,EAAW,IAAX,YAAAF,EAAW,oBAAqB,KAAI,CAAA,GAKlF2R,EAAkB,MAAU7F,GAAa,YAC9CrO,EAAA6d,IAAAA,CAAgB,EAAC,wBAAuBtf,EAAGsf,CAAgB,EAAC,wBAAwB,QAClFtQ,EAAGyQ,KAASA,KAAS3P,CAAA,CAAA,QAGjBiB,EAAa,EACnBjN,GAAO,IAAG,MACHC,GACL,aAAa,QACbvD,GAAAhC,GAAAC,EAAO,IAAP,YAAAD,GAAS,WAAT,YAAAgC,EAAmB,+BAA8BwD,EAAAE,EAAW,IAAX,YAAAF,EAAW,oBAAqB,KAAI,CAAA,GAKxFjG,GAAoB,SAAA,SACfS,EAAAuN,GAAK,IAAL,YAAAvN,EAAO,QAAS,WACnB8gB,EAAgB,MAASnjB,GAAU,aAAa,KAAK,EAAE,MAAOK,KAC7D4B,GAAM,MAAM5B,EAAG,EACR,KACP,CAAA,EAEF,mDAIU+iB,CAAY,iBAAZA,EAAYhe,CAAA,aACL,OAAA,MAAA5C,GAAM,CACvBmS,EAAgBnS,EAAE,MAAM,CACxB,+JAqBsB,IAAAqO,GAAA4M,EAAA,IAAA5b,EAAK,EAAC,EAAC,sDAAA,CAAA,uEACJ,OAAAgC,EAAAsf,CAAgB,EAAC,gDAAjBA,EAAgBtf,EAAhBsf,CAAgB,EAAC,+BAA8B/d,EAAA,iKAahDvD,EAAK,EAAC,EAAE,iBAAiB,CAAA,6FAIzBC,GAAA,QAAAc,GAAA,IAAA,CACfc,EAAA0f,EAAe,EAAI,EACnB,qHAYID,CAAgB,EAAC,wBAAuBI,GAAA,CAAApG,GAAI5P,GAAKgE,KAAA,4CAG5C,KAAA/O,IAAM,CACf6gB,EAAiB7gB,GAAE,OAAQ+O,EAAK,CAChC,EACW,OAAA/O,IAAM,CACjBgX,EAAmBjI,EAAK,CACxB,uEAKD,IAAA1P,IAAM,EAAC,4FAAA,kCAdJgC,GAAAA,EAAAsf,CAAgB,IAAhBtf,YAAAA,GAAkB,0BAA+B,CAAA,GAAA,OAAS,EAACiB,GAAAiE,EAAA,EAAAjE,GAAAE,GAAA,EAAA,mCArB/DnD,EAAK,EAAC,EAAE,QAAQ,CAAA,CAAA,qBAJhBgC,EAAAsf,CAAgB,EAAC,gCAA8Bre,GAAAkE,EAAA,2CAbAnH,IAAM,EAAE,SAAS,MAKhCA,EAAK,EAAC,EAAE,cAAc,CAAA,qGARxDgC,EAAAsf,CAAgB,IAAK,KAAIre,EAAAoE,EAAA,EAAApE,EAAAmE,EAAA,EAAA,4EA8E5BpH,EAAK,EAAC,EAAE,MAAM,CAAA,CAAA,EApFeC,GAAA,SAAAiB,GAAAC,GAAA,IAAA,CAC/B4R,IACA9K,GAAS,MAAM,CACf,CAAA,CAAA,kBAdF,ygICtFA,mDAWOjJ,GAAOC,GAAW,MAAM,MAEnBC,GAAqBC,GAAAC,GAAA,cAAA,CAAA,EAE5BV,IAAS,IAAI,EAEbijB,GAAO,CAAI,UAAW,SAAS,EAE7B,MAAA5O,EAA4B,SAAA,OACf6O,GAAuB,aAAa,QAAOljB,CAAM,CAAA,GAGpEqB,GAAoB,SAAA,CACb,MAAAzB,EAAY,MAAAujB,GAAuB,aAAa,KAAK,EAEvDvjB,GACHuD,EAAAnD,EAASJ,CAAG,EAEb,sKAwByB,OAAA0D,EAAAtD,CAAM,EAAC,uCAAPA,EAAMsD,EAANtD,CAAM,EAAC,sBAAqB6E,EAAA,uGAUlC7E,CAAM,oFAKX0E,GAAA4D,GAAA,EAAA,IAAA2a,UAAWR,KAAM,uDACCA,EAAM,CAAA,aAAfA,EAAM,4BAANA,EAAM,IAAA,0HAQtBnhB,EAAK,EAAC,EACN,yHAAwH,CAAA,2BA/D5HtB,CAAM,UA4DAA,CAAM,EAAC,wBAA0B,SAAS,yOAqC/BA,CAAM,kTAgBHsB,EAAK,EAAC,EAAE,wBAAwB,CAAA,qFACjC,OAAAgC,EAAAtD,CAAM,EAAC,sDAAPA,EAAMsD,EAANtD,CAAM,EAAC,qCAAoC6E,EAAA,mDAM1CvD,EAAK,EAAC,EAAE,qBAAqB,CAAA,EAAA,mFAC9B,OAAAgC,EAAAtD,CAAM,EAAC,mDAAPA,EAAMsD,EAANtD,CAAM,EAAC,kCAAiC6E,EAAA,8BAzH3D7E,CAAM,UA8GIA,CAAM,EAAC,8BAAgC,UAAU,qDA9G3DA,CAAM,EA2GC6B,EAAA,IAAAyB,EAAAtD,CAAM,EAAC,2BAA2B,6GA6BpBsB,EAAK,EAAC,EAAE,0BAA0B,CAAA,yHAKrCA,EAAK,EAAC,EAAE,SAAS,CAAA,EAAA,CAAA,EADlBwD,EAAAE,GAAA,IAAA1B,EAAAtD,CAAM,EAAC,+BAA8B6E,IAAAE,EAArC/E,EAAAsD,EAAAtD,CAAM,EAAC,+BAA8B6E,EAAA,CAAA,gMApElDvD,EAAK,EAAC,EAAE,aAAa,CAAA,kBAQPA,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAWxCA,EAAK,EAAC,EAAE,cAAc,CAAA,kBAOTA,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBAEjBA,EAAK,EAAC,EAAE,MAAM,CAAA,kBAClBA,EAAK,EAAC,EAAE,OAAO,CAAA,kBACZA,EAAK,EAAC,EAAE,UAAU,CAAA,kBA8B7CA,EAAK,EAAC,EAAE,wBAAwB,CAAA,KAnDnBwD,EAAA9C,GAAA,IAAAsB,EAAAtD,CAAM,EAAC,2BAA0B6E,IAAAE,EAAjC/E,EAAAsD,EAAAtD,CAAM,EAAC,2BAA0B6E,EAAA,CAAA,EAgBjCiB,GAAAE,GAAA,IAAA1C,EAAAtD,CAAM,EAAC,4BAA2B6E,IAAAE,EAAlC/E,EAAAsD,EAAAtD,CAAM,EAAC,4BAA2B6E,EAAA,CAAA,uBAjGnD7E,CAAM,UAqEDA,CAAM,EAAC,wBAA0B,SAAS,gJA4FzB,OAAAsD,EAAAtD,CAAM,EAAC,yCAAPA,EAAMsD,EAANtD,CAAM,EAAC,wBAAuB6E,EAAA,mJAanC7E,CAAM,qFAKX0E,GAAA0e,GAAA,EAAA,IAAAH,UAAWR,KAAM,uDACCA,EAAM,CAAA,aAAfA,EAAM,4BAANA,EAAM,IAAA,4HAQtBnhB,EAAK,EAAC,EACN,yHAAwH,CAAA,2BA7L7HtB,CAAM,UA0LCA,CAAM,EAAC,0BAA4B,SAAS,0OAqCjCA,CAAM,gTAgBHsB,EAAK,EAAC,EAAE,wBAAwB,CAAA,sFACjC,OAAAgC,EAAAtD,CAAM,EAAC,wDAAPA,EAAMsD,EAANtD,CAAM,EAAC,uCAAsC6E,EAAA,mDAM5CvD,EAAK,EAAC,EAAE,qBAAqB,CAAA,EAAA,oFAC9B,OAAAgC,EAAAtD,CAAM,EAAC,qDAAPA,EAAMsD,EAANtD,CAAM,EAAC,oCAAmC6E,EAAA,+BAvP9D7E,CAAM,UA4OKA,CAAM,EAAC,gCAAkC,UAAU,qDA5O9DA,CAAM,EAyOE6B,EAAA,IAAAyB,EAAAtD,CAAM,EAAC,6BAA6B,0GA6BtBsB,EAAK,EAAC,EAAE,0BAA0B,CAAA,sHAKrCA,EAAK,EAAC,EAAE,SAAS,CAAA,EAAA,CAAA,EADlBwD,EAAAU,GAAA,IAAAlC,EAAAtD,CAAM,EAAC,iCAAgC6E,GAAAE,EAAvC/E,EAAAsD,EAAAtD,CAAM,EAAC,iCAAgC6E,CAAA,CAAA,4LApEpDvD,EAAK,EAAC,EAAE,aAAa,CAAA,kBAQPA,EAAK,EAAC,EAAE,mBAAmB,CAAA,kBAWxCA,EAAK,EAAC,EAAE,cAAc,CAAA,kBAOTA,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBAEjBA,EAAK,EAAC,EAAE,MAAM,CAAA,kBAClBA,EAAK,EAAC,EAAE,OAAO,CAAA,kBACZA,EAAK,EAAC,EAAE,UAAU,CAAA,kBA8B7CA,EAAK,EAAC,EAAE,wBAAwB,CAAA,KAnDnBwD,EAAAmB,GAAA,IAAA3C,EAAAtD,CAAM,EAAC,6BAA4B6E,IAAAE,EAAnC/E,EAAAsD,EAAAtD,CAAM,EAAC,6BAA4B6E,EAAA,CAAA,EAgBnCiB,GAAAkI,EAAA,IAAA1K,EAAAtD,CAAM,EAAC,8BAA6B6E,IAAAE,EAApC/E,EAAAsD,EAAAtD,CAAM,EAAC,8BAA6B6E,EAAA,CAAA,wBA/NtD7E,CAAM,UAmMAA,CAAM,EAAC,0BAA4B,SAAS,uGAyFrCsB,EAAK,EAAC,EACd,iEAAgE,CAAA,yGAMnDA,EAAK,EAAC,EAClB,iEAAgE,CAAA,uDAFrD,OAAAgC,EAAAtD,CAAM,EAAC,kDAAPA,EAAMsD,EAANtD,CAAM,EAAC,iCAAgC6E,EAAA,2IAzHnDvD,EAAK,EAAC,EAAE,yBAAyB,CAAA,kBAMpBA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBAGFA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBAsG7DA,EAAK,EAAC,EAAE,kCAAkC,CAAA,KA1G9BwE,GAAAiD,GAAA,IAAAzF,EAAAtD,CAAM,EAAC,wBAAuB6E,IAAAE,EAA9B/E,EAAAsD,EAAAtD,CAAM,EAAC,wBAAuB6E,EAAA,CAAA,wBA9K/C7E,CAAM,EAqKD6B,EAAA,IAAAyB,EAAAtD,CAAM,EAAC,uBAAuB,+IAzIgBsB,EAAK,EAAC,EAAE,SAAS,CAAA,kBAOhEA,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBAScA,EAAK,EAAC,EAAE,uBAAuB,CAAA,kBAK/DA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBAGFA,EAAK,EAAC,EAAE,iBAAiB,CAAA,kBAmGdA,EAAK,EAAC,EAAE,kBAAkB,CAAA,kBAOzEA,EAAK,EAAC,EAAE,yBAAyB,CAAA,KA9GrBwE,GAAAC,GAAA,IAAAzC,EAAAtD,CAAM,EAAC,sBAAqB6E,IAAAE,EAA5B/E,EAAAsD,EAAAtD,CAAM,EAAC,sBAAqB6E,EAAA,CAAA,qBAvB1C7E,CAAM,GAAAuE,EAAAoB,CAAA,kFA2RTrE,IAAM,EAAE,MAAM,CAAA,EAAA,CAAA,EAjSqBC,GAAA,SAAAiB,EAAAC,GAAA,SAAA,OAC/B4R,EAAa,EACnB7T,GAAW,EAAA,CACX,CAAA,CAAA,kBAPF,k+BC9BA,mDAKkBgJ,GAAqB,QAChClJ,GAAOC,GAAW,MAAM,EAaGE,GAAAC,GAAA,eAAA,CAAA,EAE7B,IAAA2iB,KAAU,IAAI,EACdC,IAAsB,EAAK,QAEzBC,GAAoB,MAAUC,IAAW,GAC9CH,GAAO,CAAA,GAAA/f,EAAO+f,EAAO,EAAEG,EAAM,CAAA,QACvB9f,EAAa,GAGdA,EAA4B,SAAA,CACf,MAAA+f,GAAyB,aAAa,MACvD,CAAA,wBAAyBngB,EAAA+f,EAAA,CAAA,CAAA,EACvB,MAAOvjB,KACT4B,GAAM,MAAMJ,EAAK,EAAC,EAAE,4BAA4B,CAAA,EAEzC,KACP,GAGAI,GAAM,QAAQJ,EAAK,EAAC,EAAE,gCAAgC,CAAA,GAIxDD,GAAoB,SAAA,CACb,MAAAzB,GAAY,MAAA8jB,GAAyB,aAAa,KAAK,IAC7DL,GAAUzjB,GAAI,uBAAuB,EACrC,wCAG4D2jB,uBAA/BD,CAAmB,kBAAnBA,EAAmBze,EAAA,gKAuBzB,IAAAyL,EAAA4M,EAAA,KAAA5b,EAAA,EAAAO,EAAA,IAAAP,IAAM,EAAC,gBAAA,CAAA,EAAA,yFAGPC,GAAA,QAAAc,GAAA,IAAA,CACfc,EAAAmgB,EAAsB,EAAI,EAC1B,qDASI5e,GAAAif,EAAA,EAAA,IAAArgB,EAAA+f,EAAO,QAAIG,GAAM9b,KAAA,OAGN,SAAA,IAAA,CACfhE,GACA,EACe,SAAA,IAAA,GACf2f,GAAO/f,EAAG+f,EAAO,EAAC,OAAM,CAAE5P,GAAGwK,IAAMA,IAAMvW,EAAG,CAAA,EAC5ChE,GACA,4BATI2f,EAAO,EAAA3b,EAAA,wBAAP2b,EAAO,EAAA3b,EAAA,EAAA7C,YAjEhBwe,EAAO,CAAA,+IAwC4C/hB,EAAK,EAAC,EAAE,SAAS,CAAA,kBASxCA,EAAK,EAAC,EAAE,qBAAqB,CAAA,kBAgCrDA,EAAK,EAAC,EAAE,+DAA+D,CAAA,0GA5CzEgC,EAAA+f,EAAO,IAAK,KAAI9e,GAAAiE,CAAA,EAAAjE,GAAAE,EAAA,EAAA,yFAwEnBnD,IAAM,EAAE,MAAM,CAAA,EAAA,CAAA,EA7EeC,GAAA,SAAAiB,EAAAC,GAAA,IAAA,CAC/BiB,GACA,CAAA,CAAA,kBARF,utBC/CA,CACY,IAAAvD,sBAAY,QAAQ,wBACN,KAAK,6BAGwDA,EAAS,CAAA,CAAA,CAAA,SAFhG,iwQCHA,2EA6BOG,GAAOC,GAAW,MAAM,EAE1B,IAAAqjB,IAAc,SAAS,QA8BrBC,GAAeC,GAAU,CACxB,MAAAC,EAAa,SAAS,eAAeD,CAAK,EAC5CC,GACHA,EAAW,eAAiB,CAAA,SAAU,SAAU,MAAO,UAAW,OAAQ,OAAO,CAAA,GAI/E,IAAAC,IAAS,EAAE,EACXC,EACAC,EAAgBnhB,EAAA,CAAA,CAAA,QAEdohB,EAAW,EAEf,GAAI,UACJ,MAAO,UACP,MAAO,0BACP,SAAQ,CACP,UACA,QACA,WACA,UACA,SACA,WACA,QACA,OACA,QACA,QACA,OACA,iBACA,gBACA,UACA,YACA,cAID,GAAI,cACJ,MAAO,cACP,MAAO,8BACP,SAAQ,CACP,cACA,SACA,SACA,MACA,WACA,qBACA,QACA,SAID,GAAI,SACJ,MAAO,SACP,MAAO,yBACP,SAAQ,CACP,SACA,OACA,SACA,SACA,OACA,YACA,OACA,SACA,YAID,GAAI,cACJ,MAAO,cACP,MAAO,8BACP,SAAQ,CAAG,cAAe,WAAY,SAAU,QAAS,cAAe,gBAGxE,GAAI,QACJ,MAAO,iBACP,MAAO,wBACP,SAAQ,CAAG,QAAS,UAAW,aAAc,YAAa,UAAW,YAGrE,GAAI,YACJ,MAAO,YACP,MAAO,4BACP,SAAQ,CACP,YACA,QACA,MACA,YACA,SACA,YACA,YACA,QACA,UACA,WACA,MACA,MACA,OACA,UACA,kBAID,GAAI,MACJ,MAAO,aACP,MAAO,sBACP,SAAQ,CACP,aACA,SACA,OACA,aACA,OACA,UACA,SACA,OACA,SACA,SACA,SACA,MACA,aACA,eAID,GAAI,iBACJ,MAAO,iBACP,MAAO,iCACP,SAAQ,CAAG,iBAAkB,SAAU,UAAW,WAAY,UAAW,iBAGzE,GAAI,YACJ,MAAO,YACP,MAAO,4BACP,SAAQ,CACP,YACA,KACA,aACA,UACA,QACA,qBACA,mBACA,UAID,GAAI,QACJ,MAAO,QACP,MAAO,wBACP,SAAQ,CACP,QACA,QACA,SACA,MACA,MACA,UACA,WACA,QACA,SACA,gBAID,GAAI,SACJ,MAAO,SACP,MAAO,yBACP,SAAQ,CACP,SACA,aACA,QACA,mBACA,UACA,gBACA,YAID,GAAI,YACJ,MAAO,YACP,MAAO,4BACP,SAAQ,CAAG,YAAa,YAAa,UAAW,SAAU,YAAY,IAGtE,GAAI,KACJ,MAAO,WACP,MAAO,qBACP,SAAQ,CAAG,WAAY,SAAU,SAAU,SAAU,QAAS,OAAO,IAIjEC,EAA4B,IAAA,CACjCjhB,EAAA+gB,EAAmBC,EAAY,OAAQE,GAAQ,CACxC,MAAAC,EAAahhB,EAAA0gB,CAAM,EAAC,YAAW,EAAG,gBAEvCA,CAAM,IAAK,IACXK,EAAI,MAAM,YAAc,EAAA,SAASC,CAAU,GAC3CD,EAAI,SAAS,KAAME,GAAYA,EAAQ,SAASD,CAAU,CAAA,CAE3D,CAAA,CAAA,GAGIE,EAA8B,IAAA,CAC/BP,GACH,aAAaA,CAAqB,EAGnCA,EAAwB,WAAiB,IAAA,CACxCG,GACA,EAAE,MAGJ/iB,GAAc,IAAA,CACP,MAAAojB,EAAmB,SAAS,eAAe,+BAA+B,EAE5EA,GACHA,EAAiB,iBAAiB,QAAO,SAAYrT,EAAO,CACvDA,EAAM,SAAW,IAEpBqT,EAAiB,YAAcrT,EAAM,QAEtC,EAGFgT,IAEAP,KAAYD,CAAW,CAAA,EACvB,wBAzPMc,EAAYlI,IAAM,IAAI,SAAS,MAAM,GAAG,EACxCmI,EAAcD,EAAUA,EAAU,OAAS,CAAC,IAClDd,EAAW,CACV,UACA,cACA,SACA,cACA,QACA,YACA,MACA,iBACA,YACA,QACA,SACA,YACA,IACC,EAAA,SAASe,CAAW,EACnBA,EACA,SAAS,qBAGNrhB,EAAAsgB,CAAW,GAEjBC,KAAYD,CAAW,CAAA,iMAwQhBM,GAAoBG,GAAKA,EAAI,MAATA,IAAG,izBAAH/gB,EAAA+gB,CAAG,EAkKjBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,IAAI,GAAA9f,EAAA2E,CAAA,2BAlKD5F,EAAA+gB,CAAG,EAiJjBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,WAAW,EAAA9f,GAAA6B,EAAA,EAAA7B,GAAAE,GAAA,EAAA,2BAjJRnB,EAAA+gB,CAAG,EAoIjBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,QAAQ,EAAA9f,GAAAsJ,EAAA,EAAAtJ,GAAAmE,GAAA,EAAA,0BApILpF,EAAA+gB,CAAG,EAsHjBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,OAAO,EAAA9f,GAAAoB,EAAA,EAAApB,GAAAqE,GAAA,EAAA,2BAtHJtF,EAAA+gB,CAAG,EAyGjBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,WAAW,EAAA9f,GAAAyE,EAAA,EAAAzE,GAAA+H,GAAA,EAAA,6BAzGR+X,CAAG,UA4FjBA,CAAG,EAAC,KAAO,gBAAgB,4CA5Fb/gB,EAAA+gB,CAAG,EAiFjBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,KAAK,EAAA9f,GAAA6H,EAAA,EAAA7H,GAAAiI,GAAA,EAAA,2BAjFFlJ,EAAA+gB,CAAG,EAgEjBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,WAAW,EAAA9f,GAAA4H,EAAA,EAAA5H,GAAA0E,GAAA,EAAA,2BAhER3F,EAAA+gB,CAAG,EAmDjBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,OAAO,EAAA9f,GAAA8H,EAAA,EAAA9H,GAAAoJ,GAAA,EAAA,2BAnDJrK,EAAA+gB,CAAG,EAiDjBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,aAAa,EAAA9f,GAAAC,EAAA,EAAAD,GAAAqJ,GAAA,EAAA,2BAjDVtK,EAAA+gB,CAAG,EAoCjBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,QAAQ,EAAA9f,GAAAoE,EAAA,EAAApE,GAAA4E,GAAA,EAAA,0BApCL7F,EAAA+gB,CAAG,EAyBjBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,aAAa,EAAA9f,GAAAkE,EAAA,EAAAlE,GAAAuJ,GAAA,EAAA,0BAzBVxK,EAAA+gB,CAAG,EAYtBxiB,EAAA,IAAAyB,EAAA+gB,CAAG,EAAC,KAAO,SAAS,EAAA9f,GAAAiE,EAAA,EAAAjE,GAAA+E,EAAA,EAAA,mEAZD+a,CAAG,EAAAxiB,EAAA,IAAAyB,EAExB+gB,CAAG,EAAC,EAAE,EAAA,8FArSTT,CAAW,IAmSaS,CAAG,UAG4DT,CAAW,IAAAtgB,EACnG+gB,CAAG,EAAC,GACD,GACA,6EAA6E,+BANvDA,CAAG,EAmLDxiB,EAAA,IAAAP,IAAM,EAAEgC,EAAA+gB,CAAG,EAAC,KAAK,CAAA,KA5K5B9iB,GAAA,QAAAc,EAAA,IAAA,CACf8Z,GAAI7Y,EAAC+gB,CAAG,EAAC,KAAK,EACd,sDAoLwB,YAAA,SAAA,CACxB3iB,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,QAE9CuH,GAAI,QACJ7I,GAAO,IAAG,MAAO+L,GAAgB,CAAA,CACvC,4DAIc,KAAA,IAAA,CACdrK,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,CACpD,yNAUoB,KAAA,SAAA,CACpBI,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,QAE9CuH,GAAI,QACJ7I,GAAO,IAAG,MAAO+L,GAAgB,CAAA,CACvC,uDAIwB,YAAA,SAAA,CACxBrK,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,QAE9CuH,GAAI,QACJ7I,GAAO,IAAG,MAAO+L,GAAgB,CAAA,CACvC,sDAIwB,YAAA,SAAA,CACxBrK,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,QAE9CuH,GAAI,QACJ7I,GAAO,IAAG,MAAO+L,GAAgB,CAAA,CACvC,gEAIc,KAAA,IAAA,CACdrK,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,CACpD,uDAIkB,YAAA,IAAA,CAClBI,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,CACpD,gEAIc,KAAA,IAAA,CACdI,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,CACpD,qDAIkB,YAAA,IAAA,CAClBI,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,CACpD,qDAIkB,YAAA,IAAA,CAClBI,GAAM,QAAQJ,EAAK,EAAC,EAAE,8BAA8B,CAAA,CACpD,eAJOgC,EAAAsgB,CAAW,IAAK,aAAWrf,GAAAqd,EAAA,yBAN3Bte,EAAAsgB,CAAW,IAAK,KAAIrf,EAAAmd,EAAA,EAAAnd,EAAA4d,GAAA,EAAA,2BANpB7e,EAAAsgB,CAAW,IAAK,SAAQrf,GAAAkd,EAAA,EAAAld,GAAAqgB,GAAA,EAAA,2BANxBthB,EAAAsgB,CAAW,IAAK,QAAOrf,GAAAid,EAAA,EAAAjd,GAAAsgB,GAAA,EAAA,2BANvBvhB,EAAAsgB,CAAW,IAAK,YAAWrf,GAAA8c,EAAA,EAAA9c,GAAAugB,GAAA,EAAA,2BAT3BxhB,EAAAsgB,CAAW,IAAK,iBAAgBrf,GAAA6c,EAAA,EAAA7c,GAAAwgB,GAAA,EAAA,2BAThCzhB,EAAAsgB,CAAW,IAAK,MAAKrf,GAAA2c,EAAA,EAAA3c,GAAAygB,GAAA,EAAA,2BATrB1hB,EAAAsgB,CAAW,IAAK,YAAWrf,GAAAyc,EAAA,EAAAzc,GAAA0gB,GAAA,EAAA,2BAF3B3hB,EAAAsgB,CAAW,IAAK,QAAOrf,GAAA4V,EAAA,EAAA5V,GAAA2gB,GAAA,EAAA,2BAFvB5hB,EAAAsgB,CAAW,IAAK,cAAarf,GAAA6V,EAAA,EAAA7V,GAAA4gB,GAAA,EAAA,wBAF7B7hB,EAAAsgB,CAAW,IAAK,SAAQrf,EAAAiM,EAAA,EAAAjM,EAAA6gB,GAAA,EAAA,yBANxB9hB,EAAAsgB,CAAW,IAAK,cAAarf,GAAA8E,EAAA,EAAA9E,GAAA8gB,GAAA,EAAA,wBATlC/hB,EAAAsgB,CAAW,IAAK,UAASrf,EAAAmJ,CAAA,EAAAnJ,EAAA+gB,GAAA,EAAA,sEAlN6BhkB,EAAK,EAAC,EAAE,QAAQ,CAAA,kBAM5DA,EAAK,EAAC,EAAE,QAAQ,CAAA,KAHjBwD,EAAA9C,EAAA,IAAAsB,EAAA0gB,CAAM,OAANA,EAAMnf,CAAA,CAAA,eAER2f,CAAqB,mBAnBnC"}